{"version":3,"sources":["webpack://xgplayer/webpack/universalModuleDefinition","webpack://xgplayer/webpack/bootstrap","webpack://xgplayer/./src/player.js","webpack://xgplayer/./node_modules/es5-ext/object/is-value.js","webpack://xgplayer/./node_modules/type/value/is.js","webpack://xgplayer/./src/utils/util.js","webpack://xgplayer/./src/error.js","webpack://xgplayer/./src/utils/sniffer.js","webpack://xgplayer/./src/proxy.js","webpack://xgplayer/./node_modules/event-emitter/index.js","webpack://xgplayer/./node_modules/d/index.js","webpack://xgplayer/./node_modules/type/plain-function/is.js","webpack://xgplayer/./node_modules/type/function/is.js","webpack://xgplayer/./node_modules/type/prototype/is.js","webpack://xgplayer/./node_modules/type/object/is.js","webpack://xgplayer/./node_modules/es5-ext/object/assign/index.js","webpack://xgplayer/./node_modules/es5-ext/object/assign/is-implemented.js","webpack://xgplayer/./node_modules/es5-ext/object/assign/shim.js","webpack://xgplayer/./node_modules/es5-ext/object/keys/index.js","webpack://xgplayer/./node_modules/es5-ext/object/keys/is-implemented.js","webpack://xgplayer/./node_modules/es5-ext/object/keys/shim.js","webpack://xgplayer/./node_modules/es5-ext/function/noop.js","webpack://xgplayer/./node_modules/es5-ext/object/valid-value.js","webpack://xgplayer/./node_modules/es5-ext/object/normalize-options.js","webpack://xgplayer/./node_modules/es5-ext/string/#/contains/index.js","webpack://xgplayer/./node_modules/es5-ext/string/#/contains/is-implemented.js","webpack://xgplayer/./node_modules/es5-ext/string/#/contains/shim.js","webpack://xgplayer/./node_modules/es5-ext/object/valid-callable.js","webpack://xgplayer/./src/utils/database.js","webpack://xgplayer/./node_modules/draggabilly/draggabilly.js","webpack://xgplayer/./node_modules/get-size/get-size.js","webpack://xgplayer/./node_modules/unidragger/unidragger.js","webpack://xgplayer/./node_modules/unipointer/unipointer.js","webpack://xgplayer/./node_modules/ev-emitter/ev-emitter.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","Player","options","config","util","deepCopy","width","height","ignores","whitelist","lang","document","documentElement","getAttribute","navigator","language","toLocaleLowerCase","inactive","volume","controls","controlsList","version","userTimer","waitTimer","database","Database","history","isProgressMoving","findDom","id","createDom","unselectable","onselectstart","el","nodeType","emit","Errors","vid","line","handle","msg","addClass","sniffer","device","appendChild","fluid","style","video","execBeforePluginsCall","forEach","item","controlStyle","typeOf","self","fetch","method","headers","Accept","then","res","ok","json","obj","prop","pluginsCall","catch","err","console","log","ev","evName","keys","evFunc","on","charAt","toUpperCase","slice","player","mousemoveFunc","closeFocusVideoFocus","focus","addEventListener","playFunc","closePlayVideoFocus","once","setTimeout","videoInit","hasClass","start","onDestroy","removeEventListener","off","Proxy","isSupportMP4","url","this","logParams","playSrc","canPlayFunc","playPromise","play","undefined","removeClass","src","type","pt","Date","getTime","vt","loadeddataFunc","vd","duration","autoplay","insertBefore","firstChild","load","reloadFunc","isDelDom","k","clearInterval","bulletResizeTimer","_interval","destroyFunc","removeAttribute","innerHTML","className","replayFunc","clearTimeout","sliderTimer","paused","pause","_replay","bc","bu_acu_t","played","currentSrc","Function","currentTime","plugins","descriptor","some","ro","getBoundingClientRect","Top","top","Left","left","dragLay","dragHandle","tabindex","Draggabilly","right","bottom","e","preventDefault","stopPropagation","exitPIP","ended","isLoading","isSeeking","checkBuffer","clearWaitTimer","_hasStart","onWaiting","buffered","len","length","end","_undefined","require","val","tpl","attrs","cname","dom","createElement","setAttribute","classList","Array","match","RegExp","replace","split","add","remove","reg","sel","querySelector","startsWith","getElementById","str","pad","charstr","String","maxlen","Math","ceil","chars","push","join","substring","time","isNaN","hour","padStart","floor","minute","second","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","target","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","toString","dst","Node","concat","currentStyle","getComputedStyle","backgroundImage","a","href","back","tagName","attributes","node","context","eventName","intervalFunc","frequency","setInterval","imgUrl","btn","w","h","unit","every","indexOf","parseFloat","trim","backgroundSize","margin","hex","alpha","rgb","test","sixHex","kw","eval","ua","userAgent","toLowerCase","browser","exec","appVersion","isChrome","isTrident","result","isSupport","mime","canPlayType","map","ErrorTypes","network","code","remark","mse","parse","format","decoder","runtime","timeout","other","networkState","readyState","errd","arguments","playerVersion","errorType","ex","domain","os","isPc","ie","firfox","chrome","opera","safari","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","_seekingTimer","videoConfig","playsinline","airplay","mediaType","loop","crossorigin","textTrackDom","textTrack","isArray","track","label","default","kind","srclang","textTrackStyle","head","styleStr","index","wrap","sheet","insertRule","addRule","autoplayMuted","muted","lastBuffer","evItem","hasStart","inWaitingStart","begin","_onError","curBuffer","error","errorCode","parentNode","removeChild","range","bool","isTrue","crossOrigin","isFinite","defaultMuted","status","en","cn","playbackRate","rate","preload","seekable","seeking","JSON","stringify","ldFunc","vol","methods","descriptors","base","callable","apply","defineProperties","configurable","writable","listener","__eeOnceListener__","data","__ee__","listeners","candidate","splice","args","isValue","isPlainFunction","assign","normalizeOpts","contains","dscr","desc","gs","set","isFunction","classRe","functionToString","isPrototype","isObject","constructor","possibleTypes","foo","bar","trzy","max","dest","TypeError","opts1","process","searchString","fn","INDEXDB","mydb","db","ojstore","keypath","indexedDB","webkitindexedDB","IDBKeyRange","webkitIDBKeyRange","myDB","callback","request","open","onerror","onsuccess","onupgradeneeded","transaction","objectStoreNames","createObjectStore","keyPath","deleteDatabase","close","storename","store","objectStore","put","delete","clear","getSize","Unidragger","extend","b","noop","jQuery","element","$element","defaults","option","_create","proto","opts","positionValues","relative","absolute","fixed","applyGrid","grid","position","_getPosition","startPoint","x","y","dragPoint","startPosition","onPointerDown","onPointerMove","onPointerUp","enable","setHandles","handles","querySelectorAll","bindHandles","dispatchEvent","event","emitArgs","emitEvent","dispatchJQueryEvent","$event","Event","trigger","_getPositionCoord","_addTransformPosition","styleSide","measure","parentSize","parseInt","transform","matrixValues","xIndex","translateX","translateY","pointer","dragStart","isEnabled","measureContainment","setLeftTop","animate","container","getContainer","elemSize","containerSize","elemRect","containerRect","borderSizeX","borderLeftWidth","borderRightWidth","borderSizeY","borderTopWidth","borderBottomWidth","relativeStartPosition","containSize","containment","isElement","HTMLElement","moveVector","dragMove","dragX","dragY","gridX","gridY","containDrag","axis","drag","rel","min","dragEnd","isDragging","positionDrag","_this","requestAnimationFrame","animateFrame","staticClick","setPosition","disable","destroy","unbindHandles","removeData","_init","bridget","getStyleSize","num","isValid","logError","message","measurements","measurementsLength","getZeroSize","size","innerWidth","innerHeight","outerWidth","outerHeight","measurement","getStyle","elem","isSetup","isBoxSizeOuter","setup","div","padding","borderStyle","borderWidth","boxSizing","body","round","display","offsetWidth","offsetHeight","isBorderBox","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderHeight","isBorderBoxSizeOuter","styleWidth","styleHeight","Unipointer","_bindHandles","isAdd","bindMethod","touchAction","_touchActionValue","_bindStartEvent","PointerEvent","pointerDown","isOkay","okayPointerDown","pointerDownPointer","pointerDownBlur","_bindPostStartEvents","cursorNodes","TEXTAREA","INPUT","SELECT","OPTION","clickTypes","radio","checkbox","button","submit","image","file","isCursorNode","nodeName","isClickType","_pointerReset","focused","activeElement","blur","pointerMove","_dragPointerMove","_dragMove","hasDragStarted","_dragStart","abs","pointerUp","_dragPointerUp","_dragEnd","_staticClick","isPreventingClicks","onclick","isIgnoringMouseUp","getPointerPoint","EvEmitter","bindStartEvent","unbindStartEvent","startEvent","handleEvent","getTouch","identifier","pointerIdentifier","onmousedown","_pointerDown","ontouchstart","onpointerdown","isPointerDown","pointerId","postStartEvents","mousedown","touchstart","pointerdown","events","_boundPointerEvents","_unbindPostStartEvents","onmousemove","_pointerMove","onpointermove","ontouchmove","onmouseup","_pointerUp","onpointerup","ontouchend","_pointerDone","pointerDone","onpointercancel","_pointerCancel","ontouchcancel","pointerCancel","_events","onceEvents","_onceEvents","onceListeners","allOff"],"mappings":"CAAA,SAAUA,iCAAiCC,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAkB,SAAID,IAEtBD,EAAe,SAAIC,IARrB,CASGK,OAAQ,WACX,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,oBAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,qBAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,oBAAoBM,EAAIF,EAGxBJ,oBAAoBO,EAAIR,EAGxBC,oBAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,oBAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,oBAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,oBAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,oBAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,oBAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,oBAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,oBAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,SAASM,aAAe,OAAOjC,EAAgB,SAC/C,SAASkC,mBAAqB,OAAOlC,GAEtC,OADAK,oBAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,oBAAoBW,EAAI,SAASmB,EAAQC,GAAY,OAAOnB,OAAOoB,UAAUC,eAAe5B,KAAKyB,EAAQC,IAGzG/B,oBAAoBkC,EAAI,GAIjBlC,oBAAoBA,oBAAoBmC,EAAI,I,+YClFrD,M,yBACA,M,yBACA,O,yBACA,M,yBACA,M,yBACA,OACA,O,wQAGMC,E,WAIJ,gBAAaC,I,4GAAS,gHACdA,IAuBN,GAtBA,EAAKC,OAASC,UAAKC,SAAS,CAC1BC,MAAO,IACPC,OAAQ,MACRC,QAAS,GACTC,UAAW,GACXC,MAAOC,SAASC,gBAAgBC,aAAa,SAAWC,UAAUC,UAAY,SAASC,oBACvFC,SAAU,IACVC,OAAQ,GACRC,UAAU,EACVC,aAAc,CAAC,eACdlB,GACH,EAAKmB,QAAUA,UACf,EAAKC,UAAY,KACjB,EAAKC,UAAY,KACjB,EAAKC,SAAW,IAAIC,UACpB,EAAKC,QAAU,GACf,EAAKC,kBAAmB,EACxB,EAAKtE,KAAO+C,UAAKwB,QAAQjB,SAAb,IAA2B,EAAKR,OAAO0B,IACnD,EAAKV,SAAWf,UAAK0B,UAAU,cAAe,GAAI,CAChDC,aAAc,KACdC,cAAe,gBACd,sBACE,EAAK3E,KAAM,CACd,IAAI4E,EAAK,EAAK9B,OAAO8B,GACrB,IAAIA,GAAsB,IAAhBA,EAAGC,SAQX,OALA,EAAKC,KAAK,QAAS,IAAIC,UAAO,MAAO,EAAKjC,OAAOkC,IAAK,CACpDC,KAAM,GACNC,OAAQ,cACRC,IAAK,iCAEP,8BAAO,GAPP,EAAKnF,KAAO4E,EAiChB,GAtBA7B,UAAKqC,SAAS,EAAKpF,KAAnB,qBAA8CqF,UAAQC,OAAtD,sBAAiF,EAAKxC,OAAOgB,SAAW,GAAK,gBAC7G,EAAK9D,KAAKuF,YAAY,EAAKzB,UACvB,EAAKhB,OAAO0C,OACd,EAAKxF,KAAKyF,MAAM,aAAe,OAC/B,EAAKzF,KAAKyF,MAAV,MAA2B,OAC3B,EAAKzF,KAAKyF,MAAV,OAA4B,IAC5B,EAAKzF,KAAKyF,MAAM,eAAyC,IAArB,EAAK3C,OAAOI,OAAe,EAAKJ,OAAOG,MAA3E,IAEA,EAAKyC,MAAMD,MAAX,SAA+B,WAC/B,EAAKC,MAAMD,MAAX,IAA0B,IAC1B,EAAKC,MAAMD,MAAX,KAA2B,MAEJ,OAAnBJ,UAAQC,QAAmBzC,EAAQI,OAASJ,EAAQK,UACtD,EAAKlD,KAAKyF,MAAMxC,MAAW,EAAKH,OAAOG,MAAvC,KACA,EAAKjD,KAAKyF,MAAMvC,OAAY,EAAKJ,OAAOI,OAAxC,MAGA,EAAKJ,OAAO6C,uBACd,EAAK7C,OAAO6C,sBAAsBC,QAAQ,SAAAC,GACxCA,EAAKhF,KAAL,OAGA,EAAKiC,OAAOgD,cAA0D,WAA1C/C,UAAKgD,OAAO,EAAKjD,OAAOgD,cAA4B,CAClF,IAAIE,EAAOA,EACX1F,OAAO2F,OAAS3F,OAAO2F,MAAMD,EAAKlD,OAAOgD,aAAc,CACrDI,OAAQ,MACRC,QAAS,CACPC,OAAQ,sBAETC,KAAK,SAAUC,GACZA,EAAIC,IACND,EAAIE,OAAOH,KAAK,SAAUI,GACxB,IAAK,IAAIC,KAAQD,EACXA,EAAIhE,eAAeiE,KACrBV,EAAKlD,OAAO4D,GAAQD,EAAIC,IAG5BV,EAAKW,kBAGRC,MAAM,SAAUC,GACjBC,QAAQC,IAAI,WAAaF,UAG3B,EAAKF,cAEP,EAAKK,GAAGpB,QAAQ,SAACC,GACf,IAAIoB,EAAS7F,OAAO8F,KAAKrB,GAAM,GAC3BsB,EAAS,EAAKtB,EAAKoB,IACnBE,GACF,EAAKC,GAAGH,EAAQE,KAGpB,CAAC,QAAS,QAAQvB,QAAQ,SAAAC,GACxB,EAAKuB,GAAGvB,EAAM,EAAK,KAAOA,EAAKwB,OAAO,GAAGC,cAAgBzB,EAAK0B,MAAM,OAEtE,IAAIC,EAASA,EA9FO,OA+FpB,EAAKC,cAAgB,WACnBD,EAAO1C,KAAK,SACP0C,EAAO1E,OAAO4E,sBACjBF,EAAO9B,MAAMiC,SAGjB,EAAK3H,KAAK4H,iBAAiB,YAAa,EAAKH,eAC7C,EAAKI,SAAW,WACdL,EAAO1C,KAAK,SACP0C,EAAO1E,OAAOgF,qBACjBN,EAAO9B,MAAMiC,SAGjBH,EAAOO,KAAK,OAAQ,EAAKF,UAEzBG,WAAW,WACT,EAAKlD,KAAK,UACT,GACC,EAAKhC,OAAOmF,WACVlF,UAAKmF,SAAS,EAAKlI,KAAM,qBAC3B,EAAKmI,QAOTX,EAAOO,KAAK,UAJZ,SAASK,YACPZ,EAAOxH,KAAKqI,oBAAoB,YAAab,EAAOC,eACpDD,EAAOc,IAAI,UAAWF,aAxHJ,E,kVAJHG,W,iEAEjB,OAAOxF,UAAKyF,mB,+CA+HgB,WAAvBC,EAAuB,6B,IAAjBC,KAAK5F,OAAO2F,IACnBzI,EAAO0I,KAAK1I,KACZwH,EAASkB,KACRD,GAAe,KAARA,GACVC,KAAK5D,KAAK,WAEZ4D,KAAKC,UAAUC,QAAUH,EACzBC,KAAKG,YAAc,WACjB,IAAIC,EAActB,EAAO9B,MAAMqD,YACXC,IAAhBF,GAA6BA,GAC/BA,EAAYzC,KAAK,WACftD,UAAKkG,YAAYzB,EAAOxH,KAAM,oBAC9BwH,EAAO1C,KAAK,sBACX8B,MAAM,WACPY,EAAO1C,KAAK,0BACZlC,OAAOG,KAAKqC,SAASoC,EAAOxH,KAAM,0BAGtCwH,EAAOc,IAAI,UAAWd,EAAOqB,cAEN,WAArB9F,UAAKgD,OAAO0C,GACdC,KAAKhD,MAAMwD,IAAMT,EAEjBA,EAAI7C,QAAQ,SAAAC,GACV,EAAKH,MAAMH,YAAYxC,UAAK0B,UAAU,SAAU,GAAI,CAClDyE,OAAQrD,EAAKqD,IACbC,SAAStD,EAAKsD,MAAQ,SAI5BT,KAAKC,UAAUS,IAAK,IAAIC,MAAOC,UAC/BZ,KAAKC,UAAUY,GAAKb,KAAKC,UAAUS,GACnCV,KAAKc,eAAiB,WACpBhC,EAAOmB,UAAUY,IAAK,IAAIF,MAAOC,UAC7B9B,EAAOmB,UAAUS,GAAK5B,EAAOmB,UAAUY,KACzC/B,EAAOmB,UAAUS,GAAK5B,EAAOmB,UAAUY,IAEzC/B,EAAOmB,UAAUc,GAAKjC,EAAO9B,MAAMgE,UAErChB,KAAKX,KAAK,aAAcW,KAAKc,gBACzBd,KAAK5F,OAAO6G,UACdjB,KAAKtB,GAAG,UAAWsB,KAAKG,aAE1B7I,EAAK4J,aAAalB,KAAKhD,MAAO1F,EAAK6J,YACnC7B,WAAW,WACT,EAAKlD,KAAK,aACT,K,sCAIH4D,KAAKhD,MAAMoE,OACXpB,KAAKqB,WAAa,WAChBrB,KAAKK,OAAOnC,MAAM,SAACC,OAErB6B,KAAKX,KAAK,aAAcW,KAAKqB,c,yCAGL,WAAjBC,IAAiB,6B,MAGxB,IAAK,IAAIC,KADTC,cAAcxB,KAAKyB,mBACLzB,KAAK0B,UACjBF,cAAcxB,KAAK0B,UAAUH,IAC7BvB,KAAK0B,UAAUH,GAAK,KA4BtB,SAASI,cAaP,IAAK,IAAIJ,KAZTvB,KAAK5D,KAAK,WAKV4D,KAAKhD,MAAM4E,gBAAgB,OAC3B5B,KAAKhD,MAAMoE,OACPE,IAEFtB,KAAK1I,KAAKuK,UAAY,GACtB7B,KAAK1I,KAAKwK,UAAY,IAEV9B,YAELA,KAAKuB,GAGdvB,KAAKJ,IAAI,QAAS+B,aA5CpB3B,KAAK1B,GAAGpB,QAAQ,SAACC,GACf,IAAIoB,EAAS7F,OAAO8F,KAAKrB,GAAM,GAC3BsB,EAAS,EAAKtB,EAAKoB,IACnBE,GACF,EAAKmB,IAAIrB,EAAQE,KAGjBuB,KAAKc,gBACPd,KAAKJ,IAAI,aAAcI,KAAKc,gBAE1Bd,KAAKqB,YACPrB,KAAKJ,IAAI,aAAcI,KAAKqB,YAE1BrB,KAAK+B,YACP/B,KAAKJ,IAAI,OAAQI,KAAK+B,YAEpB/B,KAAKb,UACPa,KAAKJ,IAAI,OAAQI,KAAKb,UAExB,CAAC,QAAS,QAAQjC,QAAQ,SAAAC,GACxB,EAAKyC,IAAIzC,EAAM,EAAK,KAAOA,EAAKwB,OAAO,GAAGC,cAAgBzB,EAAK0B,MAAM,OAEvEmD,aAAahC,KAAKzE,WAClByG,aAAahC,KAAKxE,WAClBwG,aAAahC,KAAKiC,aAuBbjC,KAAKkC,OAIRP,YAAYxJ,KAAK6H,OAHjBA,KAAKmC,QACLnC,KAAKX,KAAK,QAASsC,c,6PAIrB,kG,sCAIA,IAAIrE,EAAO0C,KACPoC,EAAUpC,KAAKoC,QAEnB/H,UAAKkG,YAAYP,KAAK1I,KAAM,kBAC5B0I,KAAKC,UAAY,CACfoC,GAAI,EACJC,SAAU,EACVC,OAAQ,GACR7B,IAAI,IAAIC,MAAOC,UACfC,IAAI,IAAIF,MAAOC,UACfG,GAAI,GAENf,KAAKC,UAAUS,IAAK,IAAIC,MAAOC,UAC/BZ,KAAKC,UAAUY,GAAKb,KAAKC,UAAUS,GACnCV,KAAK+B,WAAa,WAChBzE,EAAK2C,UAAUY,IAAK,IAAIF,MAAOC,UAC3BtD,EAAK2C,UAAUS,GAAKpD,EAAK2C,UAAUY,KACrCvD,EAAK2C,UAAUS,GAAKpD,EAAK2C,UAAUY,IAErCvD,EAAK2C,UAAUc,GAAKzD,EAAKN,MAAMgE,UAEjChB,KAAKX,KAAK,OAAQW,KAAK+B,YACvB/B,KAAKC,UAAUC,QAAUF,KAAKhD,MAAMwF,WAChCJ,GAAWA,aAAmBK,SAChCL,KAEApC,KAAK0C,YAAc,EACnB1C,KAAKK,OAAOnC,MAAM,SAAAC,S,gDAIP,WACTb,EAAO0C,KACX,GAAI9F,OAAOyI,QAAS,CAClB,IAAIlI,EAAUuF,KAAK5F,OAAOK,QAC1B/B,OAAO8F,KAAKtE,OAAOyI,SAASzF,QAAQ,SAAA3E,GAClC,IAAIqK,EAAa1I,OAAOyI,QAAQpK,GAC3BkC,EAAQoI,KAAK,SAAA1F,GAAA,OAAQ5E,IAAS4E,MAC7B,CAAC,KAAM,SAAU,UAAU0F,KAAK,SAAApC,GAAA,OAAQA,IAASlI,IAC/CA,IAASoE,UAAQC,QACnB0C,WAAW,WACTsD,EAAWzK,KAAKmF,EAAMA,IACrB,GAGLsF,EAAWzK,KAAK,EAAM,S,yCAOG,IAA3BoC,EAA2B,6B,IAAnB,IAAKC,EAAc,6B,IAAL,IACxBsI,EAAK9C,KAAK1I,KAAKyL,wBACfC,EAAMF,EAAGG,IACTC,EAAOJ,EAAGK,KACVC,EAAU/I,UAAK0B,UAAU,aAAc,cAAe,GAAI,oBAC9DiE,KAAK1I,KAAKuF,YAAYuG,GACtB,IAAIC,EAAahJ,UAAK0B,UAAU,cAAe,wDAAyD,CAACuH,SAAU,GAAI,qBACvHtD,KAAK1I,KAAKuF,YAAYwG,GACR,IAAIE,UAAY,YAAa,CACzC/G,OAAQ,iBAEVnC,UAAKqC,SAASsD,KAAK1I,KAAM,uBAEzB0I,KAAK1I,KAAKyF,MAAMxC,MAAWA,EAA3B,KACAyF,KAAK1I,KAAKyF,MAAMvC,OAAYA,EAA5B,KAEAwF,KAAK1I,KAAKyF,MAAMyG,MAAQ,EACxBxD,KAAK1I,KAAKyF,MAAM0G,OAAS,QACzBzD,KAAK1I,KAAKyF,MAAMkG,IAAM,GACtBjD,KAAK1I,KAAKyF,MAAMoG,KAAO,GACnBnD,KAAK5F,OAAO0C,QACdkD,KAAK1I,KAAKyF,MAAM,eAAiB,IAEnC,IAAI+B,EAASkB,KACb,CAAC,QAAS,cAAc9C,QAAQ,SAAAC,GAC9BiG,EAAQlE,iBAAiB/B,EAAM,SAAUuG,GACvCA,EAAEC,iBACFD,EAAEE,kBACF9E,EAAO+E,UACP/E,EAAOxH,KAAKyF,MAAMkG,IAASD,EAA3B,KACAlE,EAAOxH,KAAKyF,MAAMoG,KAAUD,EAA5B,W,wCAMJ7I,UAAKkG,YAAYP,KAAK1I,KAAM,uBAC5B0I,KAAK1I,KAAKyF,MAAMyG,MAAQ,GACxBxD,KAAK1I,KAAKyF,MAAM0G,OAAS,GACzBzD,KAAK1I,KAAKyF,MAAMkG,IAAM,GACtBjD,KAAK1I,KAAKyF,MAAMoG,KAAO,GAEnBnD,KAAK5F,OAAO0C,OACdkD,KAAK1I,KAAKyF,MAAV,MAA2B,OAC3BiD,KAAK1I,KAAKyF,MAAV,OAA4B,IAC5BiD,KAAK1I,KAAKyF,MAAM,eAAyC,IAArBiD,KAAK5F,OAAOI,OAAewF,KAAK5F,OAAOG,MAA3E,MAEIyF,KAAK5F,OAAOG,QACmB,iBAAtByF,KAAK5F,OAAOG,MACrByF,KAAK1I,KAAKyF,MAAMxC,MAAQyF,KAAK5F,OAAOG,MAEpCyF,KAAK1I,KAAKyF,MAAMxC,MAAWyF,KAAK5F,OAAOG,MAAvC,MAGAyF,KAAK5F,OAAOI,SACoB,iBAAvBwF,KAAK5F,OAAOI,OACrBwF,KAAK1I,KAAKyF,MAAMvC,OAASwF,KAAK5F,OAAOI,OAErCwF,KAAK1I,KAAKyF,MAAMvC,OAAYwF,KAAK5F,OAAOI,OAAxC,S,sDAODwF,KAAKxE,YAGV5D,OAAOoK,aAAahC,KAAKxE,WACzBwE,KAAKxE,UAAY,Q,wCAIjB,IAAIsD,EAASkB,KACb3F,UAAKkG,YAAYP,KAAK1I,KAAM,qBACxBwH,EAAOvD,WACTyG,aAAalD,EAAOvD,WAEtBuD,EAAOvD,UAAY+D,WAAW,WAC5BR,EAAO1C,KAAK,SACX0C,EAAO1E,OAAOc,Y,sCAKZ8E,KAAKkC,QAAWlC,KAAK8D,OACxBzJ,UAAKqC,SAASsD,KAAK1I,KAAM,uB,sCAK3B+C,UAAKqC,SAASsD,KAAK1I,KAAM,oBACzB+C,UAAKkG,YAAYP,KAAK1I,KAAM,oB,wCAI5B+C,UAAKqC,SAASsD,KAAK1I,KAAM,kBACrB0I,KAAKzE,WACPyG,aAAahC,KAAKzE,WAEpByE,KAAK5D,KAAK,W,wCAIV/B,UAAKqC,SAASsD,KAAK1I,KAAM,kBACzB+C,UAAKkG,YAAYP,KAAK1I,KAAM,sB,mDAKxB0I,KAAK+D,WAAc/D,KAAKxE,YAAcwE,KAAKgE,YACzChE,KAAKiE,gBACPjE,KAAKkE,iBACL7J,UAAKkG,YAAYP,KAAK1I,KAAM,sBAC5B0I,KAAK+D,WAAY,IAIhB/D,KAAKmE,WAAanE,KAAKkC,OAC1B7H,UAAKkG,YAAYP,KAAK1I,KAAM,2CAE5B+C,UAAKkG,YAAYP,KAAK1I,KAAM,8D,4CAK9B0I,KAAKgE,WAAY,EACjBhE,KAAKoE,c,0CAILpE,KAAKgE,WAAY,EACjBhE,KAAK+D,WAAY,EAEb/D,KAAKxE,WACPwE,KAAKkE,iBAEP7J,UAAKkG,YAAYP,KAAK1I,KAAM,wB,4CAK5B,GAAK0I,KAAKmE,YAAanE,KAAKkC,OAA5B,CAGA,IAAI5E,EAAO0C,KACP1C,EAAK9B,YACPwE,KAAKkE,iBACLlE,KAAK+D,WAAY,GAEnBzG,EAAK9B,UAAY8D,WAAW,WAC1BjF,UAAKqC,SAASY,EAAKhG,KAAM,sBACzBgG,EAAKyG,WAAY,EACjBzG,EAAK4G,kBACJ,Q,4CAIHlE,KAAKgE,WAAY,EACjBhE,KAAK+D,WAAY,EACb/D,KAAKxE,WACPwE,KAAKkE,iBAEP7J,UAAKkG,YAAYP,KAAK1I,KAAM,sFAC5B+C,UAAKqC,SAASsD,KAAK1I,KAAM,sB,gDAOzB,IAAM+M,EAAWrE,KAAKhD,MAAMqH,SACtB3B,EAAc1C,KAAK0C,YACnB4B,EAAMD,EAASE,OACrB,OAAU,EAAND,GAAYD,EAAS5E,MAAM,CAAC6E,EAAM,KAAO5B,GAAe2B,EAASG,IAAI,CAACF,EAAM,IAAM5B,GACpFtE,QAAQC,IAAI,qBACL,IAETD,QAAQC,IAAI,sBACL,M,uCAGO9F,EAAMqK,GACf1I,OAAOyI,UACVzI,OAAOyI,QAAU,IAEnBzI,OAAOyI,QAAQpK,GAAQqK,M,UAI3B1I,EAAOG,KAAOA,UACdH,EAAOyC,QAAUA,UACjBzC,EAAOmC,OAASA,U,UAEDnC,E,kDCvff,IAAIuK,EAAaC,EAAQ,GAARA,GAEjBjN,EAAOD,QAAU,SAAUmN,GAAO,OAAOA,IAAQF,GAAsB,OAARE,I,6BCC/DlN,EAAOD,QAAU,SAAUyB,GAAS,OAAOA,U,iHCL3C,IAAIoB,KAAO,CAEXA,UAAiB,WAAwD,IAA9C6B,EAA8C,uDAAzC,MAAO0I,EAAkC,uDAA5B,GAAIC,EAAwB,uDAAhB,GAAIC,EAAY,uDAAJ,GAC/DC,EAAMnK,SAASoK,cAAc9I,GAcjC,OAbA6I,EAAIjD,UAAYgD,EAChBC,EAAIlD,UAAY+C,EAChBlM,OAAO8F,KAAKqG,GAAO3H,QAAQ,SAAAC,GACzB,IAAI5D,EAAM4D,EACNlE,EAAQ4L,EAAM1H,IACP,UAAPjB,GAAyB,UAAPA,GAChBjD,IAIJ8L,EAAIE,aAAa1L,EAAKN,KAGnB8L,GAGT1K,SAAgB,SAAU6B,EAAI4F,GAC5B,OAAI5F,EAAGgJ,UACEC,MAAMrL,UAAU+I,KAAK1K,KAAK+D,EAAGgJ,UAAW,SAAA/H,GAAA,OAAQA,IAAS2E,MAEvD5F,EAAG4F,UAAUsD,MAAM,IAAIC,OAAO,UAAYvD,EAAY,aAInEzH,SAAgB,SAAU6B,EAAI4F,GACxB5F,EAAGgJ,UACLpD,EAAUwD,QAAQ,eAAgB,IAAIC,MAAM,QAAQrI,QAAQ,SAAAC,GAC1DA,GAAQjB,EAAGgJ,UAAUM,IAAIrI,KAEjB9C,KAAKmF,SAAStD,EAAI4F,KAC5B5F,EAAG4F,WAAa,IAAMA,IAI1BzH,YAAmB,SAAU6B,EAAI4F,GAC3B5F,EAAGgJ,UACLpD,EAAUyD,MAAM,QAAQrI,QAAQ,SAAAC,GAC9BjB,EAAGgJ,UAAUO,OAAOtI,KAEb9C,KAAKmF,SAAStD,EAAI4F,IAC3BA,EAAUyD,MAAM,QAAQrI,QAAQ,SAAAC,GAC9B,IAAIuI,EAAM,IAAIL,OAAO,UAAYlI,EAAO,WACxCjB,EAAG4F,UAAY5F,EAAG4F,UAAUwD,QAAQI,EAAK,QAK/CrL,YAAmB,SAAU6B,EAAI4F,GAC/BA,EAAUyD,MAAM,QAAQrI,QAAQ,SAAAC,GAC1B9C,KAAKmF,SAAStD,EAAIiB,GACpB9C,KAAKkG,YAAYrE,EAAIiB,GAErB9C,KAAKqC,SAASR,EAAIiB,MAKxB9C,QAAe,WAA8B,IAApB6B,EAAoB,uDAAftB,SAAU+K,EAAK,aACvCZ,SAGJ,IACEA,EAAM7I,EAAG0J,cAAcD,GACvB,MAAOjC,GACHiC,EAAIE,WAAW,OACjBd,EAAM7I,EAAG4J,eAAeH,EAAI9G,MAAM,KAGtC,OAAOkG,GAGT1K,SAAgB,SAAU0L,EAAKxB,EAAQyB,GAMrC,IALA,IAAIC,EAAUC,OAAOF,GACjB1B,EAAMC,GAAU,EAChB4B,EAASC,KAAKC,KAAK/B,EAAM2B,EAAQ1B,QACjC+B,EAAQ,GACRxN,EAAIoN,OAAOH,GACRI,KACLG,EAAMC,KAAKN,GAEb,OAAOK,EAAME,KAAK,IAAIC,UAAU,EAAGnC,EAAMxL,EAAEyL,QAAUzL,GAGvDuB,OAAc,SAAUqM,GACtB,GAAI9O,OAAO+O,MAAMD,GACf,MAAO,GAET,IAAIE,EAAOvM,KAAKwM,SAAST,KAAKU,MAAMJ,EAAO,MAAO,EAAG,GACjDK,EAAS1M,KAAKwM,SAAST,KAAKU,OAAOJ,EAAc,KAAPE,GAAe,IAAK,EAAG,GACjEI,EAAS3M,KAAKwM,SAAST,KAAKU,MAAOJ,EAAc,KAAPE,EAAuB,GAATG,GAAe,EAAG,GAC9E,OAAiB,OAATH,EAAgB,CAACG,EAAQC,GAAU,CAACJ,EAAMG,EAAQC,IAASR,KAAK,MAG1EnM,MAAa,SAAUqJ,GACrB,GAAIA,EAAEuD,QAAS,CACb,IAAIC,EAAQxD,EAAEuD,QAAQ,IAAMvD,EAAEyD,eAAe,GAC7CzD,EAAE0D,QAAUF,EAAME,SAAW,EAC7B1D,EAAE2D,QAAUH,EAAMG,SAAW,EAC7B3D,EAAE4D,QAAUJ,EAAMK,MAAQL,EAAMM,OAAOC,WACvC/D,EAAEgE,QAAUR,EAAMS,MAAQT,EAAMM,OAAOI,UAEzClE,EAAEmE,QAAUnE,EAAE8D,QAAU9D,EAAEoE,YAG5BzN,OAAc,SAAU0D,GACtB,OAAOrF,OAAOoB,UAAUiO,SAAS5P,KAAK4F,GAAKqH,MAAM,qBAAqB,IAGxE/K,SAAgB,SAAU2N,EAAKxH,GAC7B,GAAyB,WAArBnG,KAAKgD,OAAOmD,IAA0C,WAArBnG,KAAKgD,OAAO2K,GAc/C,OAbAtP,OAAO8F,KAAKgC,GAAKtD,QAAQ,SAAA3D,GACO,WAA1Bc,KAAKgD,OAAOmD,EAAIjH,KAAwBiH,EAAIjH,aAAgB0O,KAM3B,UAA1B5N,KAAKgD,OAAOmD,EAAIjH,IACzByO,EAAIzO,GAAiC,UAA1Bc,KAAKgD,OAAO2K,EAAIzO,IAAoByO,EAAIzO,GAAK2O,OAAO1H,EAAIjH,IAAQiH,EAAIjH,GAE/EyO,EAAIzO,GAAOiH,EAAIjH,GARVyO,EAAIzO,GAGPc,KAAKC,SAAS0N,EAAIzO,GAAMiH,EAAIjH,IAF5ByO,EAAIzO,GAAOiH,EAAIjH,KAUdyO,GAGX3N,WAAkB,SAAU6B,GAE1B,IAAI6D,GAAO7D,EAAGiM,cAAgBvQ,OAAOwQ,iBAAiBlM,EAAI,OAAOmM,gBACjE,IAAKtI,GAAe,SAARA,EACV,MAAO,GAET,IAAIuI,EAAI1N,SAASoK,cAAc,KAE/B,OADAsD,EAAEC,KAAOxI,EAAIuF,QAAQ,cAAe,IAC7BgD,EAAEC,MAGXlO,QAAe,SAAU0K,GACvB,GAAIA,GAAwB,IAAjBA,EAAI5I,SAAgB,CAC7B,IAAIqM,EAAO5N,SAASoK,cAAcD,EAAI0D,SAOtC,OANAtD,MAAMrL,UAAUoD,QAAQ/E,KAAK4M,EAAI2D,WAAY,SAACC,GAC5CH,EAAKvD,aAAa0D,EAAKpQ,KAAMoQ,EAAK1P,SAEhC8L,EAAIlD,YACN2G,EAAK3G,UAAYkD,EAAIlD,WAEhB2G,EAEP,MAAO,IAIXnO,YAAmB,SAAUuO,EAASC,EAAWC,EAAcC,GACxDH,EAAQlH,UAAUmH,KACrBD,EAAQlH,UAAUmH,GAAaG,YAAYF,EAAatP,KAAKoP,GAAUG,KAI3E1O,cAAqB,SAAUuO,EAASC,GACtCrH,cAAcoH,EAAQlH,UAAUmH,IAChCD,EAAQlH,UAAUmH,GAAa,MAGjCxO,aAAoB,SAAU9B,EAAM0Q,EAAQ1O,EAAOC,GACjD,IAAI0O,EAAM7O,KAAK0B,UAAL,MAAqBxD,EAAQ,GAAI,GAAjC,YAAiDA,EAAjD,QAEV,GADA2Q,EAAInM,MAAMsL,gBAAV,QAAoCY,EAApC,KACI1O,GAASC,EAAQ,CACnB,IAAI2O,SAAGC,SAAGC,SACV,CAAC,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAKC,MAAM,SAACnM,GAC5D,SAA2B,EAAvB5C,EAAMgP,QAAQpM,KAAsC,EAAxB3C,EAAO+O,QAAQpM,MAC7CgM,EAAIK,WAAWjP,EAAMsE,MAAM,EAAGtE,EAAMgP,QAAQpM,IAAOsM,QACnDL,EAAII,WAAWhP,EAAOqE,MAAM,EAAGrE,EAAO+O,QAAQpM,IAAOsM,QACrDJ,EAAOlM,GACA,KAKX+L,EAAInM,MAAMxC,MAAV,GAAqB4O,EAAIE,EACzBH,EAAInM,MAAMvC,OAAV,GAAsB4O,EAAIC,EAC1BH,EAAInM,MAAM2M,eAAV,GAA8BP,EAAIE,EAAlC,IAA0CD,EAAIC,EAE5CH,EAAInM,MAAM4M,OADC,UAATpR,EACF,IAAuB6Q,EAAI,EAAIC,EAA/B,eAAkDF,EAAI,EAAIE,EAEvC,oBAGvB,OAAOH,GAGT7O,SAAgB,SAAUuP,IAAKC,OAC7B,IAAIC,IAAM,GACV,GAAI,mBAAmBC,KAAKH,KAAM,CAChC,IAAII,OAAS,IACbJ,IAAItE,QAAQ,aAAc,SAAU2E,GAClCD,QAAUC,EAAKA,IAEjBL,IAAMI,OAER,MAAI,kBAAkBD,KAAKH,MACzBA,IAAItE,QAAQ,gBAAiB,SAAU2E,IACrCH,IAAIvD,KAAK2D,KAAK,KAAOD,OAEvB,QAAeH,IAAItD,KAAK,KAAxB,KAAiCqD,MAAjC,KAEO,4BAIXxP,aAAoB,WAClB,IAAMgL,EAAS,CAAC,CACd9L,IAAK,UACLmM,IAAK,iBAEP,CACEnM,IAAK,UACLmM,IAAK,qBACJ,CACDnM,IAAK,SACLmM,IAAK,uBAEDyE,EAAKpP,UAAUqP,UAAUC,cAC3BjF,EAAQ,KACNkF,EAAU,GAChB,IAAK,IAAM/Q,KAAO8L,EAEhB,GADAD,EAAQC,EAAO9L,GAAKmM,IAAI6E,KAAKJ,GAClB,CACT,IAAM5R,EAAO8M,EAAO9L,GAAKA,IACzB+Q,OAAa/R,GAAUA,EACvB+R,EAAQ/R,KAAOA,EACf+R,EAAQE,WAA4B,EAAfpF,EAAMb,OAAaa,EAAM,GAAK,GACnD,MAIJ,KAAMkF,EAAQG,UAAoC,gBAAvBH,EAAQE,YAAuD,gBAAvBF,EAAQE,cAAmCF,EAAQI,UACpH,OAAO,EAET,IAeIpC,EAAI1N,SAASoK,cAAc,SAC3B2F,EAAS,CACXC,WAAW,EACXC,KAAM,IAER,MAA6B,mBAAlBvC,EAAEwC,YApBU,CACrB,yBACA,yBACA,yBACA,yBACA,cACA,YACA,cACA,yBACA,yBACA,yBACA,yBACA,uBACA,0BAQeC,IAAI,SAAAxR,GACmC,aAAhD+O,EAAEwC,YAAF,sBAAoCvR,EAApC,OACFoR,EAAOC,WAAY,EACnBD,EAAOE,MAAP,KAAoBtR,KAK1B+O,EAAI,KAFKqC,EAAOC,Y,gBAMHvQ,K,oZCnRf,OACA,IAAM2Q,EAAa,CACjBC,QAAS,CACPC,KAAM,EACNzO,IAAK,SACL0O,OAAQ,mDAEVC,IAAK,CACHF,KAAM,EACNzO,IAAK,QACL0O,OAAQ,gCAEVE,MAAO,CACLH,KAAM,EACNzO,IAAK,OACL0O,OAAQ,4CAEVG,OAAQ,CACNJ,KAAM,EACNzO,IAAK,OACL0O,OAAQ,qBAEVI,QAAS,CACPL,KAAM,EACNzO,IAAK,OACL0O,OAAQ,mBAEVK,QAAS,CACPN,KAAM,EACNzO,IAAK,OACL0O,OAAQ,WAEVM,QAAS,CACPP,KAAM,EACNzO,IAAK,OACL0O,OAAQ,0BAEVO,MAAO,CACLR,KAAM,EACNzO,IAAK,OACL0O,OAAQ,oBAIN9O,E,WAIJ,gBAAaoE,EAAMiC,EAAa1B,EAAU2K,EAAcC,EAAYpL,EAAKgC,EACzEsB,GAA4D,IAArD+H,EAAqD,uDAA9C,CAACtP,KAAM,GAAIC,OAAQ,GAAIC,IAAK,GAAInB,QAAS,K,4GAAK,cAC1D,IAAIxC,EAAI,GAwBR,OAvBwB,GAApBgT,UAAUvH,QAAeuH,UAAUvH,OAAS,GAC9CzL,EAAEiT,cAAgBzQ,UAClBxC,EAAEkT,UALOvL,EAMT3H,EAAEoS,KANaxI,EAOf5J,EAAE+S,KAP0B7K,GAOH,GACzBlI,EAAEmT,IAAMnT,EAAE+S,MAAQ,IAAIpP,IACtB3D,EAAEoT,OAAStR,SAASsR,SAEpBpT,EAAEiT,cAAgBzQ,UAClBxC,EAAEkT,UAAYvL,EACd3H,EAAEoT,OAAStR,SAASsR,OACpBpT,EAAEkI,SAAWA,EACblI,EAAE4J,YAAcA,EAChB5J,EAAE6S,aAAeA,EACjB7S,EAAE8S,WAAaA,EACf9S,EAAE0J,WAAaA,EACf1J,EAAE0H,IAAMA,EACR1H,EAAEgL,MAAQA,EACVhL,EAAE+S,KAAOA,GAAQ,GACjB/S,EAAEmT,IAAMjB,EAAWvK,IAAS,IAAIhE,IAChC3D,EAAEoS,KAAOpS,EAAE+S,KAAKX,MAGXpS,E,2DA5BP,OAAOkS,M,oBAgCI3O,E,0zDC9Ef,IAAIM,EAAU,CACZ,aAEE,OADQA,EAAQwP,GACPC,KAAO,KAAO,UAGzB,cACE,IAAIjC,EAAKpP,UAAUqP,UAAUC,cACzB3E,EAAM,CACR2G,GAAI,2BACJC,OAAQ,oBACRC,OAAQ,mBACRC,MAAO,iBACPC,OAAQ,6BAEV,MAAO,GAAGvE,OAAOxP,OAAO8F,KAAKkH,GAAKgH,OAAO,SAAAnT,GAAA,OAAOmM,EAAInM,GAAKwQ,KAAKI,MAAM,IAEtE,SACE,IAAIA,EAAKpP,UAAUqP,UACfuC,EAAiB,oBAAoB5C,KAAKI,GAC1CyC,EAAY,gBAAgB7C,KAAKI,IAAOwC,EACxCE,EAAY,cAAc9C,KAAKI,GAC/B2C,EAAY,cAAc/C,KAAKI,GAC/B4C,EAAW,oBAAoBhD,KAAKI,IAAQ0C,IAAc,aAAa9C,KAAKI,IAAS2C,GAAa,aAAa/C,KAAKI,GACpH6C,EAAU,aAAajD,KAAKI,KAAQ4C,EAExC,MAAO,CACLA,WACAC,UACAH,YACAT,OALUY,GAAYH,GAAcD,GAAcG,GAMlDH,YACAD,iBACAG,e,UAKSnQ,E,maCtCf,M,yBACA,M,yBACA,M,wEACA,IAAMwN,EAAMpP,UAAUqP,UAGhBvK,IAFoC,EAAxBsK,EAAGZ,QAAQ,WAAkBY,EAAGZ,QAAQ,O,WAGxD,eAAapP,I,4GAAS,aACpB6F,KAAKC,UAAY,CACfoC,GAAI,EACJC,SAAU,EACVC,OAAQ,IAEVvC,KAAKmE,WAAY,EACjBnE,KAAKiN,cAAgB,KACrBjN,KAAKkN,YAAc,CACjB9R,UAAU,EACV6F,SAAU9G,EAAQ8G,SAClBkM,YAAahT,EAAQgT,YACrB,qBAAsBhT,EAAQgT,YAC9B,iBAAkBhT,EAAQgT,YAC1B,uBAAwBhT,EAAQ,wBAChC,6BAA8BA,EAAQ,8BACtC,uBAAwBA,EAAQ,wBAChCiT,QAASjT,EAAA,QACT,iBAAkBA,EAAA,QAClBmJ,SAAU,EACV+J,UAAWlT,EAAQkT,WAAa,SAE9BlT,EAAQmT,OACVtN,KAAKkN,YAAYI,KAAO,QAEtBnT,EAAQoT,cACVvN,KAAKkN,YAAYK,YAAc,aAEjC,IAAIC,EAAe,GAkBnB,GAjBIrT,EAAQsT,WAAatI,MAAMuI,QAAQvT,EAAQsT,cAAwD,EAAzC1S,UAAUqP,UAAUb,QAAQ,YAA4D,EAA1CxO,UAAUqP,UAAUb,QAAQ,cACtIpP,EAAQsT,UAAU5K,KAAK,SAAA8K,GACrB,GAAIA,EAAMnN,KAAOmN,EAAMC,OAASD,EAAME,QAUpC,OATAL,kBAA+BG,EAAMnN,IAArC,KACImN,EAAMG,OACRN,YAAyBG,EAAMG,KAA/B,MAEFN,aAA0BG,EAAMC,MAAhC,KACID,EAAMI,UACRP,eAA4BG,EAAMI,QAAlC,MAEFP,IAAmBG,EAAME,QAAU,UAAY,IAA/C,KACO,IAGX7N,KAAKkN,YAAYK,YAAc,aAE7BpT,EAAQ6T,eAAgB,CAC1B,IAAIjR,EAAQnC,SAASoK,cAAc,SACnChF,KAAKgO,eAAiBjR,EACtBnC,SAASqT,KAAKpR,YAAYE,GAC1B,IAAImR,EAAW,GACf,IAAK,IAAIC,KAAShU,EAAQ6T,eACxBE,GAAeC,EAAf,KAAyBhU,EAAQ6T,eAAeG,GAAhD,IAEF,IAAIC,EAAOjU,EAAQ2B,GAAR,IAAiB3B,EAAQ2B,GAAQ3B,EAAQ+B,GAAGJ,GAAX,IAAoB3B,EAAQ+B,GAAGJ,GAA/B,IAA0C3B,EAAQ+B,GAAG4F,UAC7F/E,EAAMsR,MAAMC,WACdvR,EAAMsR,MAAMC,WAAcF,EAA1B,iBAA+CF,EAA/C,KAA6D,GACpDnR,EAAMsR,MAAME,SACrBxR,EAAMsR,MAAME,QAAWH,EAAvB,cAA0CF,GAG9ClO,KAAKhD,MAAQ3C,UAAK0B,UAAUiE,KAAKkN,YAAYG,UAAWG,EAAcxN,KAAKkN,YAAa,IACpF/S,EAAQ8G,WACVjB,KAAKhD,MAAMiE,UAAW,EAClB9G,EAAQqU,gBACVxO,KAAKhD,MAAMyR,OAAQ,IAGvBzO,KAAK1B,GAAK,CAAC,OAAQ,UAAW,QAAS,QAAS,QAAS,UAAW,SAClE,aAAc,UAAW,UAAW,iBAAkB,iBAAkB,eAAgB,aAAc,kBACtGyM,IAAI,SAAC5N,GACL,O,sIAAA,IACGA,EADH,KACeA,EAAKwB,OAAO,GAAGC,cAAgBzB,EAAK0B,MAAM,OAG3D,aAAamB,MAEbA,KAAK0B,UAAY,GACjB,IAAIgN,EAAa,MACbpR,EAAO0C,KAEXA,KAAK1B,GAAGpB,QAAQ,SAAAC,GACdG,EAAKqR,OAASjW,OAAO8F,KAAKrB,GAAM,GAChC,IAAI5E,EAAOG,OAAO8F,KAAKrB,GAAM,GAC7BG,EAAKN,MAAMkC,iBAAiBxG,OAAO8F,KAAKrB,GAAM,GAAI,WAE3CG,EAAK2C,YAGG,SAAT1H,EACF+E,EAAKsR,UAAW,EACE,YAATrW,GACT+E,EAAK2C,UAAUoC,KACf/E,EAAKuR,gBAAiB,IAAIlO,MAAOC,WACf,YAATrI,EACL+E,EAAKuR,iBACPvR,EAAK2C,UAAUqC,WAAY,IAAI3B,MAAOC,UAAYtD,EAAKuR,eACvDvR,EAAKuR,oBAAiBvO,GAEN,eAAT/H,EACT+E,EAAK2C,UAAUsC,OAAOgE,KAAK,CACzBuI,MAAO,EACPtK,KAAM,IAEU,YAATjM,EACT+E,EAAK2C,UAAUsC,OAAOgE,KAAK,CACzBuI,MAAOxR,EAAKN,MAAM0F,YAClB8B,KAAM,IAEClH,GAAQA,EAAK2C,WAAa3C,EAAK2C,UAAUsC,QAAmB,eAAThK,IACxD+E,EAAK2C,UAAUsC,OAAOgC,OAAS,GACjCjH,EAAK2C,UAAUsC,OAAOgE,KAAK,CACzBuI,MAAOxR,EAAKN,MAAM0F,YAClB8B,KAAM,IAGVlH,EAAK2C,UAAUsC,OAAOjF,EAAK2C,UAAUsC,OAAOgC,OAAS,GAAGC,IAAMlH,EAAKN,MAAM0F,aAE9D,UAATnK,EACF+E,EAAKyR,WAELzR,EAAKlB,KAAK7D,EAAM+E,GAGdA,EAAKvD,eAAe,eAClB,CAAC,QAAS,QAAS,cAAcwP,QAAQhR,GAAQ,GACnDiJ,cAAclE,EAAKoE,UAAL,gBACdrH,UAAK2O,YAAY1L,EAAM,iBAAkB,WAEvC,IADA,IAAI0R,EAAY,GACPhX,EAAI,EAAGsM,EAAMhH,EAAKN,MAAMqH,SAASE,OAAQvM,EAAIsM,EAAKtM,IACzDgX,EAAUzI,KAAK,CAACjJ,EAAKN,MAAMqH,SAAS5E,MAAMzH,GAAIsF,EAAKN,MAAMqH,SAASG,IAAIxM,KAEpEgX,EAAUjH,aAAe2G,IAC3BA,EAAaM,EAAUjH,WACvBzK,EAAKlB,KAAK,iBAAkB4S,KAE7B,MAEU,eAATzW,GACF8B,UAAKmH,cAAclE,EAAM,sBAI9B,K,0DAKL,IAAMA,EAAO0C,KACT1C,EAAKN,MAAMiS,OACb3R,EAAKlB,KAAK,QAAS,IAAIC,UAAO,QAASiB,EAAKoF,YAAapF,EAAK0D,SAAU1D,EAAKqO,aAAcrO,EAAKsO,WAAYtO,EAAKkF,WAAYlF,EAAKkD,IAChIlD,EAAKwG,MAAO,CACVvH,KAAM,GACNE,IAAKa,EAAK2R,MACVzS,OAAQ,cACR0O,KAAM5N,EAAK4R,e,wCAgBblP,KAAKgO,gBACPhO,KAAKgO,eAAemB,WAAWC,YAAYpP,KAAKgO,kB,kCAIlD,OAAOhO,KAAKhD,MAAMqD,S,oCAGlBL,KAAKhD,MAAMmF,U,gDAGXnC,KAAKhD,MAAM8N,gB,0DAGX,IAAIuE,EAAQ,CAAC,EAAG,GACZrS,EAAQgD,KAAKhD,MACbqH,EAAWrH,EAAMqH,SACjB3B,EAAc1F,EAAM0F,YACxB,GAAI2B,EACF,IAAK,IAAIrM,EAAI,EAAGsM,EAAMD,EAASE,OAAQvM,EAAIsM,IACzC+K,EAAM,GAAKhL,EAAS5E,MAAMzH,GAC1BqX,EAAM,GAAKhL,EAASG,IAAIxM,KACpBqX,EAAM,IAAM3M,GAAeA,GAAe2M,EAAM,KAHNrX,KAQlD,OAAIqX,EAAM,GAAK3M,GAAe,GAAKA,EAAc2M,EAAM,IAAM,EACpDA,EAEA,CAAC,EAAG,K,mCAxCb,OAAOrP,KAAKmE,W,iBAEAmL,GACQ,kBAATA,IAA+B,IAATA,GAAkBtP,KAAKmE,YACtDnE,KAAKmE,WAAY,EACjBnE,KAAK5D,KAAK,e,iCAsCAmT,GACZvP,KAAKhD,MAAMiE,SAAWsO,G,mBAGtB,OAAOvP,KAAKhD,MAAMiE,W,mCAGlB,OAAOjB,KAAKhD,MAAMqH,W,sCAGlB,OAAOrE,KAAKhD,MAAMwS,a,iBAEHD,GACfvP,KAAKhD,MAAMwS,YAAcD,I,qCAGzB,OAAOvP,KAAKhD,MAAMwF,Y,iBAEJhC,GACdR,KAAKhD,MAAMwF,WAAahC,I,sCAGxB,OAAOR,KAAKhD,MAAM0F,a,iBAEHgE,GACQ,mBAAb+I,WAA4BA,SAAS/I,KAC/C1G,KAAKhD,MAAM0F,YAAcgE,EACzB1G,KAAK5D,KAAK,wB,uCAGV,OAAO4D,KAAKhD,MAAM0S,c,iBAEFH,GAChBvP,KAAKhD,MAAM0S,aAAeH,I,mCAG1B,OAAOvP,KAAKhD,MAAMgE,W,gCAGlB,OAAOhB,KAAKhD,MAAM8G,Q,gCAGlB,IAAI3F,EAAM6B,KAAKhD,MAAMiS,MACrB,IAAK9Q,EACH,OAAO,KAET,IAAIwR,EAAS,CAAC,CACZC,GAAI,oBACJC,GAAI,aACH,CACDD,GAAI,oBACJC,GAAI,YACH,CACDD,GAAI,mBACJC,GAAI,YACH,CACDD,GAAI,8BACJC,GAAI,aAEN,OAAO7P,KAAKrF,KAAOqF,KAAKrF,KAAKgV,EAAOxR,EAAI+M,KAAO,GAAG0E,IAAMD,EAAOxR,EAAI+M,KAAO,GAAG0E,K,oCAI7E,OADU5P,KAAKhD,MAAMiS,MACV/D,O,+BAGX,OAAOlL,KAAKhD,MAAMsQ,M,iBAEViC,GACRvP,KAAKhD,MAAMsQ,KAAOiC,I,gCAGlB,OAAOvP,KAAKhD,MAAMyR,O,iBAETc,GACTvP,KAAKhD,MAAMyR,MAAQc,I,uCAGnB,IAAII,EAAS,CAAC,CACZC,GAAI,gBACJC,GAAI,cACH,CACDD,GAAI,eACJC,GAAI,2BACH,CACDD,GAAI,kBACJC,GAAI,aACH,CACDD,GAAI,oBACJC,GAAI,eAEN,OAAO7P,KAAKrF,KAAOqF,KAAKrF,KAAKgV,EAAO3P,KAAKhD,MAAM2O,cAAciE,IAAMD,EAAO3P,KAAKhD,MAAM2O,cAAciE,K,iCAGnG,OAAO5P,KAAKhD,MAAMkF,S,uCAGlB,OAAOlC,KAAKhD,MAAM8S,c,iBAEFC,GAChB/P,KAAKhD,MAAM8S,aAAeC,I,iCAG1B,OAAO/P,KAAKhD,MAAMuF,S,kCAGlB,OAAOvC,KAAKhD,MAAMgT,S,iBAEPT,GACXvP,KAAKhD,MAAMgT,QAAUT,I,qCAGrB,IAAII,EAAS,CAAC,CACZC,GAAI,eACJC,GAAI,oBACH,CACDD,GAAI,gBACJC,GAAI,iBACH,CACDD,GAAI,oBACJC,GAAI,qCACH,CACDD,GAAI,mBACJC,GAAI,mBACH,CACDD,GAAI,mBACJC,GAAI,eAEN,OAAO7P,KAAKrF,KAAOqF,KAAKrF,KAAKgV,EAAO3P,KAAKhD,MAAM4O,YAAYgE,IAAMD,EAAO3P,KAAKhD,MAAM4O,c,mCAGnF,OAAO5L,KAAKhD,MAAMiT,W,kCAGlB,OAAOjQ,KAAKhD,MAAMkT,U,8BAGlB,OAAOlQ,KAAKhD,MAAMwD,K,iBAEXT,GACP,IAAIzC,EAAO0C,KACN3F,UAAKmF,SAASQ,KAAK1I,KAAM,mBAC5B0I,KAAK5D,KAAK,YAAa+T,KAAK9E,MAAM8E,KAAKC,UAAU9S,EAAK2C,aAExDD,KAAKC,UAAY,CACfoC,GAAI,EACJC,SAAU,EACVC,OAAQ,GACR7B,IAAI,IAAIC,MAAOC,UACfC,IAAI,IAAIF,MAAOC,UACfG,GAAI,GAENf,KAAKhD,MAAMmF,QACXnC,KAAKhD,MAAMwD,IAAMT,EACjBC,KAAK5D,KAAK,aACV4D,KAAKC,UAAUC,QAAUH,EACzBC,KAAKC,UAAUS,IAAK,IAAIC,MAAOC,UAC/BZ,KAAKC,UAAUY,GAAKb,KAAKC,UAAUS,GASnCV,KAAKX,KAAK,aARV,SAASgR,SACP/S,EAAK2C,UAAUY,IAAK,IAAIF,MAAOC,UAC3BtD,EAAK2C,UAAUS,GAAKpD,EAAK2C,UAAUY,KACrCvD,EAAK2C,UAAUS,GAAKpD,EAAK2C,UAAUY,IAErCvD,EAAK2C,UAAUc,GAAKzD,EAAKN,MAAMgE,SAC/B1D,EAAKsC,IAAI,aAAcyQ,Y,iCAKzB,OAAOrQ,KAAKhD,MAAM7B,Q,iBAERmV,GACVtQ,KAAKhD,MAAM7B,OAASmV,I,qCAGpB,OAAOjW,UAAKmF,SAASQ,KAAK1I,KAAM,2BAA6B+C,UAAKmF,SAASQ,KAAK1I,KAAM,gC,iCAGtF,QAAO+C,UAAKwB,QAAQmE,KAAK1I,KAAM,cAAe+C,UAAKmF,SAASnF,UAAKwB,QAAQmE,KAAK1I,KAAM,aAAc,yB,oCAGlG,OAAO+C,UAAKmF,SAASQ,KAAK1I,KAAM,2B,8BAGhC,OAAO+C,UAAKmF,SAASQ,KAAK1I,KAAM,2B,oBAIrBuI,E,sDCpYXnB,EAAIW,EAAMO,EAAKxD,EAAMmU,EAASC,EAAaC,E,4MAT3CnY,EAAWoM,EAAQ,IACnBgM,EAAWhM,EAAQ,IAEnBiM,EAAQlO,SAAS3I,UAAU6W,MAAOxY,EAAOsK,SAAS3I,UAAU3B,KAC5DmB,EAASZ,OAAOY,OAAQX,EAAiBD,OAAOC,eAChDiY,EAAmBlY,OAAOkY,iBAC1B7W,EAAiBrB,OAAOoB,UAAUC,eAClC6I,EAAa,CAAEiO,cAAc,EAAMjY,YAAY,EAAOkY,UAAU,GAuBpEzR,EAAO,SAAS,KAACoB,EAAMsQ,GACtB,IAAI1R,EAAM/B,EAUV,OARAoT,EAASK,GAETrS,EAAGvG,KADHmF,EAAO0C,KACOS,EAAMpB,EAAO,SAAS,OACnCO,EAAIzH,KAAKmF,EAAMmD,EAAMpB,GACrBsR,EAAMxY,KAAK4Y,EAAU/Q,KAAM8L,aAG5BzM,EAAK2R,mBAAqBD,EACnB/Q,MAqERuQ,EAAU,CACT7R,GApGDA,EAAK,SAAS,GAAC+B,EAAMsQ,GACpB,IAAIE,EAeJ,OAbAP,EAASK,GAEJhX,EAAe5B,KAAK6H,KAAM,UAK9BiR,EAAOjR,KAAKkR,QAJZD,EAAOrO,EAAW3J,MAAQK,EAAO,MACjCX,EAAeqH,KAAM,SAAU4C,GAC/BA,EAAW3J,MAAQ,MAIfgY,EAAKxQ,GACqB,WAAtB,EAAOwQ,EAAKxQ,IAAoBwQ,EAAKxQ,GAAM8F,KAAKwK,GACpDE,EAAKxQ,GAAQ,CAACwQ,EAAKxQ,GAAOsQ,GAFdE,EAAKxQ,GAAQsQ,EAIvB/Q,MAqFPX,KAAMA,EACNO,IArEDA,EAAM,SAAS,IAACa,EAAMsQ,GACrB,IAAIE,EAAME,EAAWC,EAAWpZ,EAIhC,GAFA0Y,EAASK,IAEJhX,EAAe5B,KAAK6H,KAAM,UAAW,OAAOA,KAEjD,KADAiR,EAAOjR,KAAKkR,QACFzQ,GAAO,OAAOT,KAGxB,GAAyB,iBAArB,KAFJmR,EAAYF,EAAKxQ,IAEb,cAAO0Q,IACV,IAAKnZ,EAAI,EAAIoZ,EAAYD,EAAUnZ,KAAOA,EACpCoZ,IAAcL,GAChBK,EAAUJ,qBAAuBD,IACV,IAArBI,EAAU5M,OAAc0M,EAAKxQ,GAAQ0Q,EAAUnZ,EAAI,EAAI,GACtDmZ,EAAUE,OAAOrZ,EAAG,SAItBmZ,IAAcJ,GAChBI,EAAUH,qBAAuBD,UAC5BE,EAAKxQ,GAId,OAAOT,MA6CP5D,KA1CDA,EAAO,SAAS,KAACqE,EAAV,KACN,IAAIzI,EAAGC,EAAG8Y,EAAUI,EAAWG,EAE/B,GAAKvX,EAAe5B,KAAK6H,KAAM,YAC/BmR,EAAYnR,KAAKkR,OAAOzQ,IAGxB,GAAyB,iBAArB,IAAO0Q,EAAP,cAAOA,IAAwB,CAGlC,IAFAlZ,EAAI6T,UAAUvH,OACd+M,EAAO,IAAInM,MAAMlN,EAAI,GAChBD,EAAI,EAAGA,EAAIC,IAAKD,EAAGsZ,EAAKtZ,EAAI,GAAK8T,UAAU9T,GAGhD,IADAmZ,EAAYA,EAAUtS,QACjB7G,EAAI,EAAI+Y,EAAWI,EAAUnZ,KAAOA,EACxC2Y,EAAMxY,KAAK4Y,EAAU/Q,KAAMsR,QAG5B,OAAQxF,UAAUvH,QAClB,KAAK,EACJpM,EAAKA,KAAKgZ,EAAWnR,MACrB,MACD,KAAK,EACJ7H,EAAKA,KAAKgZ,EAAWnR,KAtBjB,GAuBJ,MACD,KAAK,EACJ7H,EAAKA,KAAKgZ,EAAWnR,KAzBjB,KA0BJ,MACD,QAGC,IAFA/H,EAAI6T,UAAUvH,OACd+M,EAAO,IAAInM,MAAMlN,EAAI,GAChBD,EAAI,EAAGA,EAAIC,IAAKD,EACpBsZ,EAAKtZ,EAAI,GAAK8T,UAAU9T,GAEzB2Y,EAAMxY,KAAKgZ,EAAWnR,KAAMsR,MAY/Bd,EAAc,CACb9R,GAAIpG,EAAEoG,GACNW,KAAM/G,EAAE+G,GACRO,IAAKtH,EAAEsH,GACPxD,KAAM9D,EAAE8D,IAGTqU,EAAOG,EAAiB,GAAIJ,GAE5B/Y,EAAOD,QAAUA,EAAU,SAAS,QAACiB,GACpC,OAAa,MAALA,EAAaa,EAAOmX,GAAQG,EAAiBlY,OAAOD,GAAI+X,IAEjEhZ,EAAQ+Y,QAAUA,G,6BCjIlB,IAAIgB,EAAkB7M,EAAQ,GAC1B8M,EAAkB9M,EAAQ,IAC1B+M,EAAkB/M,EAAQ,IAC1BgN,EAAkBhN,EAAQ,IAC1BiN,EAAkBjN,EAAQ,KAErBjN,EAAOD,QAAU,SAAUoa,EAAM3Y,GACzC,IAAIZ,EAAGqL,EAAGyF,EAAGhP,EAAS0X,EAkBtB,OAjBI/F,UAAUvH,OAAS,GAAqB,iBAATqN,GAClCzX,EAAUlB,EACVA,EAAQ2Y,EACRA,EAAO,MAEPzX,EAAU2R,UAAU,GAEjByF,EAAQK,IACXvZ,EAAIsZ,EAASxZ,KAAKyZ,EAAM,KACxBlO,EAAIiO,EAASxZ,KAAKyZ,EAAM,KACxBzI,EAAIwI,EAASxZ,KAAKyZ,EAAM,OAExBvZ,EAAI8Q,GAAI,EACRzF,GAAI,GAGLmO,EAAO,CAAE5Y,MAAOA,EAAO4X,aAAcxY,EAAGO,WAAY8K,EAAGoN,SAAU3H,GACzDhP,EAAiBsX,EAAOC,EAAcvX,GAAU0X,GAAtCA,IAGjBC,GAAK,SAAUF,EAAM/Y,EAAKkZ,GAC3B,IAAI1Z,EAAGqL,EAAGvJ,EAAS0X,EA6BnB,MA5BoB,iBAATD,GACVzX,EAAU4X,EACVA,EAAMlZ,EACNA,EAAM+Y,EACNA,EAAO,MAEPzX,EAAU2R,UAAU,GAEhByF,EAAQ1Y,GAED2Y,EAAgB3Y,GAGhB0Y,EAAQQ,GAERP,EAAgBO,KAC3B5X,EAAU4X,EACVA,OAAMzR,GAHNyR,OAAMzR,GAHNnG,EAAUtB,EACVA,EAAMkZ,OAAMzR,GAHZzH,OAAMyH,EAYNoD,EAFG6N,EAAQK,IACXvZ,EAAIsZ,EAASxZ,KAAKyZ,EAAM,KACpBD,EAASxZ,KAAKyZ,EAAM,QAExBvZ,GAAI,GAILwZ,EAAO,CAAEhZ,IAAKA,EAAKkZ,IAAKA,EAAKlB,aAAcxY,EAAGO,WAAY8K,GAClDvJ,EAAiBsX,EAAOC,EAAcvX,GAAU0X,GAAtCA,I,6BC1DnB,IAAIG,EAAatN,EAAQ,IAErBuN,EAAU,mBAAoBC,EAAmBzP,SAAS3I,UAAUiO,SAExEtQ,EAAOD,QAAU,SAAUyB,GAC1B,QAAK+Y,EAAW/Y,KACZgZ,EAAQlI,KAAKmI,EAAiB/Z,KAAKc,M,6BCNxC,IAAIkZ,EAAczN,EAAQ,IAE1BjN,EAAOD,QAAU,SAAUyB,GAC1B,GAAqB,mBAAVA,EAAsB,OAAO,EAExC,IAAKc,eAAe5B,KAAKc,EAAO,UAAW,OAAO,EAElD,IACC,GAA4B,iBAAjBA,EAAMsL,OAAqB,OAAO,EAC7C,GAA0B,mBAAftL,EAAMd,KAAqB,OAAO,EAC7C,GAA2B,mBAAhBc,EAAM0X,MAAsB,OAAO,EAC7C,MAAO1B,GACR,OAAO,EAGR,OAAQkD,EAAYlZ,K,6BCfrB,IAAImZ,EAAW1N,EAAQ,IAEvBjN,EAAOD,QAAU,SAAUyB,GAC1B,IAAKmZ,EAASnZ,GAAQ,OAAO,EAC7B,IACC,OAAKA,EAAMoZ,YACJpZ,EAAMoZ,YAAYvY,YAAcb,GADR,EAE9B,MAAOgW,GACR,OAAO,K,6OCRLsC,EAAU7M,EAAQ,GAGlB4N,EAAgB,CAAE,QAAU,EAAM,UAAY,EAAM,WAAa,GAErE7a,EAAOD,QAAU,SAAUyB,GAC1B,QAAKsY,EAAQtY,IACNc,eAAe5B,KAAKma,OAApB,IAA0CrZ,EAA1C,cAA0CA,M,6BCPlDxB,EAAOD,QAAUkN,EAAQ,GAARA,GAAgChM,OAAO+Y,OAAS/M,EAAQ,K,6BCAzEjN,EAAOD,QAAU,WAChB,IAA4BuG,EAAxB0T,EAAS/Y,OAAO+Y,OACpB,MAAsB,mBAAXA,IAEXA,EADA1T,EAAM,CAAEwU,IAAK,OACD,CAAEC,IAAK,OAAS,CAAEC,KAAM,SAC7B1U,EAAIwU,IAAMxU,EAAIyU,IAAMzU,EAAI0U,OAAS,gB,6BCLzC,IAAIjU,EAAQkG,EAAQ,IAChBzL,EAAQyL,EAAQ,IAChBgO,EAAQtM,KAAKsM,IAEjBjb,EAAOD,QAAU,SAAUmb,EAAMnS,GAChC,IAAIyO,EAAOjX,EAAsCyZ,EAAnClN,EAASmO,EAAI5G,UAAUvH,OAAQ,GAS7C,IARAoO,EAAOja,OAAOO,EAAM0Z,IACpBlB,EAAS,SAAS,OAAClY,GAClB,IACCoZ,EAAKpZ,GAAOiH,EAAIjH,GACf,MAAOmK,GACIuL,EAAPA,GAAevL,IAGjB1L,EAAI,EAAGA,EAAIuM,IAAUvM,EAEzBwG,EADAgC,EAAMsL,UAAU9T,IACNkF,QAAQuU,GAEnB,QAAcnR,IAAV2O,EAAqB,MAAMA,EAC/B,OAAO0D,I,6BCnBRlb,EAAOD,QAAUkN,EAAQ,GAARA,GAAgChM,OAAO8F,KAAOkG,EAAQ,K,6BCAvEjN,EAAOD,QAAU,WAChB,IAEC,OADAkB,OAAO8F,KAAK,cACL,EACN,MAAOkF,GACR,OAAO,K,6BCLT,IAAI6N,EAAU7M,EAAQ,GAElBlG,EAAO9F,OAAO8F,KAElB/G,EAAOD,QAAU,SAAUoC,GAAU,OAAO4E,EAAK+S,EAAQ3X,GAAUlB,OAAOkB,GAAUA,K,6BCHpFnC,EAAOD,QAAU,c,6BCDjB,IAAI+Z,EAAU7M,EAAQ,GAEtBjN,EAAOD,QAAU,SAAUyB,GAC1B,IAAKsY,EAAQtY,GAAQ,MAAM,IAAI2Z,UAAU,gCACzC,OAAO3Z,I,6BCJR,IAAIsY,EAAU7M,EAAQ,GAElBxH,EAAUiI,MAAMrL,UAAUoD,QAAS5D,EAASZ,OAAOY,OAQvD7B,EAAOD,QAAU,SAAUqb,GAC1B,IAAIlI,EAASrR,EAAO,MAKpB,OAJA4D,EAAQ/E,KAAK2T,UAAW,SAAU3R,GAC5BoX,EAAQpX,IATD,SAAV2Y,QAAoBtS,EAAKzC,GAC5B,IAAIxE,EACJ,IAAKA,KAAOiH,EAAKzC,EAAIxE,GAAOiH,EAAIjH,GAQ/BuZ,CAAQpa,OAAOyB,GAAUwQ,KAEnBA,I,6BChBRlT,EAAOD,QAAUkN,EAAQ,GAARA,GAAgCwB,OAAOpM,UAAU6X,SAAWjN,EAAQ,K,6BCArF,IAAIqB,EAAM,aAEVtO,EAAOD,QAAU,WAChB,MAA4B,mBAAjBuO,EAAI4L,YACgB,IAAxB5L,EAAI4L,SAAS,SAA2C,IAAxB5L,EAAI4L,SAAS,U,6BCJrD,IAAIpI,EAAUrD,OAAOpM,UAAUyP,QAE/B9R,EAAOD,QAAU,SAAUub,GAC1B,OAAyD,EAAlDxJ,EAAQpR,KAAK6H,KAAM+S,EAAcjH,UAAU,M,6BCHnDrU,EAAOD,QAAU,SAAUwb,GAC1B,GAAkB,mBAAPA,EAAmB,MAAM,IAAIJ,UAAUI,EAAK,sBACvD,OAAOA,I,wXCJFC,E,WACJ,mBAAyG,IAA5FC,EAA4F,uDAArF,CAAC3a,KAAM,WAAY+C,QAAS,EAAG6X,GAAI,KAAMC,QAAS,CAAC7a,KAAM,SAAU8a,QAAS,S,4GAAS,eACvGrT,KAAKsT,UAAY1b,OAAO0b,WAAa1b,OAAO2b,gBAC5CvT,KAAKwT,YAAc5b,OAAO4b,aAAe5b,OAAO6b,kBAChDzT,KAAK0T,KAAOR,E,sDAGNS,GAAU,WAEZrW,EAAO0C,KACP1E,EAAU0E,KAAK0T,KAAKpY,SAAW,EAC/BsY,EAAUtW,EAAKgW,UAAUO,KAAKvW,EAAKoW,KAAKnb,KAAM+C,GAClDsY,EAAQE,QAAU,SAAUpQ,KAG5BkQ,EAAQG,UAAY,SAAArQ,GAClB,EAAKgQ,KAAKP,GAAKzP,EAAE8D,OAAOmD,OAExBgJ,EAASxb,KAAKmF,IAEhBsW,EAAQI,gBAAkB,SAAAtQ,GACxB,IAAIyP,EAAKzP,EAAE8D,OAAOmD,OACAjH,EAAE8D,OAAOyM,YAEtBd,EAAGe,iBAAiBvC,SAASrU,EAAKoW,KAAKN,QAAQ7a,OAE1C4a,EAAGgB,kBAAkB7W,EAAKoW,KAAKN,QAAQ7a,KAAM,CAAC6b,QAAS9W,EAAKoW,KAAKN,QAAQC,a,0CAQ1ErT,KACNsT,UAAUe,eAAerU,KAAK0T,KAAKnb,Q,wCAMxCyH,KAAK0T,KAAKP,GAAGmB,U,sCAINC,EAAWtD,GAIlB,IAFA,IAAIuD,EAAQxU,KAAK0T,KAAKP,GAAGc,YAAYM,EAAW,aAAaE,YAAYF,GACrEX,SACK5b,EAAI,EAAGA,EAAIiZ,EAAK1M,OAAQvM,KAC/B4b,EAAUY,EAAMhP,IAAIyL,EAAKjZ,KACjB8b,QAAU,aAGlBF,EAAQG,UAAY,e,sCAMfQ,EAAWtD,GAIlB,IAFA,IAAIuD,EAAQxU,KAAK0T,KAAKP,GAAGc,YAAYM,EAAW,aAAaE,YAAYF,GACrEX,SACK5b,EAAI,EAAGA,EAAIiZ,EAAK1M,OAAQvM,KAC/B4b,EAAUY,EAAME,IAAIzD,EAAKjZ,KACjB8b,QAAU,aAGlBF,EAAQG,UAAY,e,gDAMVQ,EAAWhb,EAAKoa,GAC5B,IAAIrW,EAAO0C,KAGP4T,EADQ5T,KAAK0T,KAAKP,GAAGc,YAAYM,EAAW,aAAaE,YAAYF,GACrD1b,IAAIU,GACxBqa,EAAQE,QAAU,WAEhBH,EAASxb,KAAKmF,EAAM,OAEtBsW,EAAQG,UAAY,SAAUrQ,GAC5B,IAAIiH,EAASjH,EAAE8D,OAAOmD,OAEtBgJ,EAASxb,KAAKmF,EAAMqN,M,4CAIZ4J,EAAWhb,GAETyG,KAAK0T,KAAKP,GAAGc,YAAYM,EAAW,aAAaE,YAAYF,GACnEI,OAAOpb,K,0CAIJgb,GAEGvU,KAAK0T,KAAKP,GAAGc,YAAYM,EAAW,aAAaE,YAAYF,GACnEK,Y,qBAKK3B,E;;;;;;;CCjGb,SAAUrb,GAKRF,EAAQ,CACJ,MACA,YAFJ,gBAIYmd,EAASC,GACjB,OAkBG,SAASvd,QAASK,EAAQid,EAASC,GAE9C,aAKA,SAASC,OAAQzM,EAAG0M,GAClB,IAAM,IAAIhX,KAAQgX,EAAI,CACpB1M,EAAGtK,GAASgX,EAAGhX,GAEjB,OAAOsK,EAGT,SAAS2M,QAET,IAAIC,EAAStd,EAAOsd,OAIpB,SAAS3R,YAAa4R,EAAShb,GAE7B6F,KAAKmV,eAAiBA,GAAW,SAC/Bva,SAASgL,cAAeuP,GAAYA,EAEtC,GAAKD,EAAS,CACZlV,KAAKoV,SAAWF,EAAQlV,KAAKmV,SAI/BnV,KAAK7F,QAAU4a,OAAQ,GAAI/U,KAAKqS,YAAYgD,UAC5CrV,KAAKsV,OAAQnb,GAEb6F,KAAKuV,UAIP,IAAIC,EAAQjS,YAAYzJ,UAAYpB,OAAOY,OAAQwb,EAAWhb,WAE9DyJ,YAAY8R,SAAW,GAOvBG,EAAMF,OAAS,SAAUG,GACvBV,OAAQ/U,KAAK7F,QAASsb,IAIxB,IAAIC,EAAiB,CACnBC,SAAU,KACVC,SAAU,KACVC,MAAO,MA8NT,SAASC,UAAW7c,EAAO8c,EAAMvY,GAC/BA,EAASA,GAAU,QACnB,OAAOuY,EAAO3P,KAAM5I,GAAUvE,EAAQ8c,GAASA,EAAO9c,EAyHxD,GAtVAuc,EAAMD,QAAU,WAEdvV,KAAKgW,SAAW,GAChBhW,KAAKiW,eAELjW,KAAKkW,WAAa,CAAEC,EAAG,EAAGC,EAAG,GAC7BpW,KAAKqW,UAAY,CAAEF,EAAG,EAAGC,EAAG,GAE5BpW,KAAKsW,cAAgBvB,OAAQ,GAAI/U,KAAKgW,UAGtC,IAAIjZ,EAAQqL,iBAAkBpI,KAAKmV,SACnC,IAAMO,EAAgB3Y,EAAMiZ,UAAa,CACvChW,KAAKmV,QAAQpY,MAAMiZ,SAAW,WAIhChW,KAAKtB,GAAI,cAAesB,KAAKuW,eAC7BvW,KAAKtB,GAAI,cAAesB,KAAKwW,eAC7BxW,KAAKtB,GAAI,YAAasB,KAAKyW,aAE3BzW,KAAK0W,SACL1W,KAAK2W,cAMPnB,EAAMmB,WAAa,WACjB3W,KAAK4W,QAAU5W,KAAK7F,QAAQqC,OAC1BwD,KAAKmV,QAAQ0B,iBAAkB7W,KAAK7F,QAAQqC,QAAW,CAAEwD,KAAKmV,SAEhEnV,KAAK8W,eASPtB,EAAMuB,cAAgB,SAAUtW,EAAMuW,EAAO1F,GAC3C,IAAI2F,EAAW,CAAED,GAAQ9O,OAAQoJ,GACjCtR,KAAKkX,UAAWzW,EAAMwW,GACtBjX,KAAKmX,oBAAqB1W,EAAMuW,EAAO1F,IAGzCkE,EAAM2B,oBAAsB,SAAU1W,EAAMuW,EAAO1F,GACjD,IAAI4D,EAAStd,EAAOsd,OAEpB,IAAMA,IAAWlV,KAAKoV,SAAW,CAC/B,OAGF,IAAIgC,EAASlC,EAAOmC,MAAOL,GAC3BI,EAAO3W,KAAOA,EACdT,KAAKoV,SAASkC,QAASF,EAAQ9F,IAMjCkE,EAAMS,aAAe,WACnB,IAAIlZ,EAAQqL,iBAAkBpI,KAAKmV,SACnC,IAAIgB,EAAInW,KAAKuX,kBAAmBxa,EAAMoG,KAAM,SAC5C,IAAIiT,EAAIpW,KAAKuX,kBAAmBxa,EAAMkG,IAAK,UAE3CjD,KAAKgW,SAASG,EAAIxP,MAAOwP,GAAM,EAAIA,EACnCnW,KAAKgW,SAASI,EAAIzP,MAAOyP,GAAM,EAAIA,EAEnCpW,KAAKwX,sBAAuBza,IAG9ByY,EAAM+B,kBAAoB,SAAUE,EAAWC,GAC7C,GAAKD,EAAUlO,QAAQ,OAAS,EAAI,CAElC,IAAIoO,EAAa9C,EAAS7U,KAAKmV,QAAQhG,YAEvC,OAAQwI,EAAa,EACjBnO,WAAYiO,GAAc,IAAQE,EAAYD,GAEpD,OAAOE,SAAUH,EAAW,KAI9BjC,EAAMgC,sBAAwB,SAAUza,GACtC,IAAI8a,EAAY9a,EAAM8a,UAEtB,GAAKA,EAAUtO,QAAQ,YAAc,EAAI,CACvC,OAGF,IAAIuO,EAAeD,EAAUtS,MAAM,KAEnC,IAAIwS,EAASF,EAAUtO,QAAQ,cAAgB,EAAI,GAAK,EACxD,IAAIyO,EAAaJ,SAAUE,EAAcC,GAAU,IAEnD,IAAIE,EAAaL,SAAUE,EAAcC,EAAS,GAAK,IACvD/X,KAAKgW,SAASG,GAAK6B,EACnBhY,KAAKgW,SAASI,GAAK6B,GAKrBzC,EAAMe,cAAgB,SAAUS,EAAOkB,GACrClY,KAAKmV,QAAQjQ,UAAUM,IAAI,mBAC3BxF,KAAKmX,oBAAqB,cAAeH,EAAO,CAAEkB,KAQpD1C,EAAM2C,UAAY,SAAUnB,EAAOkB,GACjC,IAAMlY,KAAKoY,UAAY,CACrB,OAEFpY,KAAKiW,eACLjW,KAAKqY,qBAELrY,KAAKsW,cAAcH,EAAInW,KAAKgW,SAASG,EACrCnW,KAAKsW,cAAcF,EAAIpW,KAAKgW,SAASI,EAErCpW,KAAKsY,aAELtY,KAAKqW,UAAUF,EAAI,EACnBnW,KAAKqW,UAAUD,EAAI,EAEnBpW,KAAKmV,QAAQjQ,UAAUM,IAAI,eAC3BxF,KAAK+W,cAAe,YAAaC,EAAO,CAAEkB,IAE1ClY,KAAKuY,WAGP/C,EAAM6C,mBAAqB,WACzB,IAAIG,EAAYxY,KAAKyY,eACrB,IAAMD,EAAY,CAChB,OAGF,IAAIE,EAAW7D,EAAS7U,KAAKmV,SAC7B,IAAIwD,EAAgB9D,EAAS2D,GAC7B,IAAII,EAAW5Y,KAAKmV,QAAQpS,wBAC5B,IAAI8V,EAAgBL,EAAUzV,wBAE9B,IAAI+V,EAAcH,EAAcI,gBAAkBJ,EAAcK,iBAChE,IAAIC,EAAcN,EAAcO,eAAiBP,EAAcQ,kBAE/D,IAAInD,EAAWhW,KAAKoZ,sBAAwB,CAC1CjD,EAAGyC,EAASzV,MAAS0V,EAAc1V,KAAOwV,EAAcI,iBACxD3C,EAAGwC,EAAS3V,KAAQ4V,EAAc5V,IAAM0V,EAAcO,iBAGxDlZ,KAAKqZ,YAAc,CACjB9e,MAASoe,EAAcpe,MAAQue,EAAgB9C,EAASG,EAAIuC,EAASne,MACrEC,OAAUme,EAAcne,OAASye,EAAgBjD,EAASI,EAAIsC,EAASle,SAI3Egb,EAAMiD,aAAe,WACnB,IAAIa,EAActZ,KAAK7F,QAAQmf,YAC/B,IAAMA,EAAc,CAClB,OAEF,IAAIC,EAAYD,aAAuBE,YAEvC,GAAKD,EAAY,CACf,OAAOD,EAGT,UAAYA,GAAe,SAAW,CACpC,OAAO1e,SAASgL,cAAe0T,GAGjC,OAAOtZ,KAAKmV,QAAQhG,YAKtBqG,EAAMgB,cAAgB,SAAUQ,EAAOkB,EAASuB,GAC9CzZ,KAAKmX,oBAAqB,cAAeH,EAAO,CAAEkB,EAASuB,KAQ7DjE,EAAMkE,SAAW,SAAU1C,EAAOkB,EAASuB,GACzC,IAAMzZ,KAAKoY,UAAY,CACrB,OAEF,IAAIuB,EAAQF,EAAWtD,EACvB,IAAIyD,EAAQH,EAAWrD,EAEvB,IAAIL,EAAO/V,KAAK7F,QAAQ4b,KACxB,IAAI8D,EAAQ9D,GAAQA,EAAK,GACzB,IAAI+D,EAAQ/D,GAAQA,EAAK,GAEzB4D,EAAQ7D,UAAW6D,EAAOE,GAC1BD,EAAQ9D,UAAW8D,EAAOE,GAE1BH,EAAQ3Z,KAAK+Z,YAAa,IAAKJ,EAAOE,GACtCD,EAAQ5Z,KAAK+Z,YAAa,IAAKH,EAAOE,GAGtCH,EAAQ3Z,KAAK7F,QAAQ6f,MAAQ,IAAM,EAAIL,EACvCC,EAAQ5Z,KAAK7F,QAAQ6f,MAAQ,IAAM,EAAIJ,EAEvC5Z,KAAKgW,SAASG,EAAInW,KAAKsW,cAAcH,EAAIwD,EACzC3Z,KAAKgW,SAASI,EAAIpW,KAAKsW,cAAcF,EAAIwD,EAEzC5Z,KAAKqW,UAAUF,EAAIwD,EACnB3Z,KAAKqW,UAAUD,EAAIwD,EAEnB5Z,KAAK+W,cAAe,WAAYC,EAAO,CAAEkB,EAASuB,KAQpDjE,EAAMuE,YAAc,SAAUC,EAAMC,EAAMlE,GACxC,IAAM/V,KAAK7F,QAAQmf,YAAc,CAC/B,OAAOW,EAET,IAAIvC,EAAUsC,GAAQ,IAAM,QAAU,SAEtC,IAAIE,EAAMla,KAAKoZ,sBAAuBY,GACtC,IAAIG,EAAMrE,WAAYoE,EAAKnE,EAAM,QACjC,IAAIrD,EAAM1S,KAAKqZ,YAAa3B,GAC5BhF,EAAMoD,UAAWpD,EAAKqD,EAAM,SAC5B,OAAQ3P,KAAKsM,IAAKyH,EAAK/T,KAAK+T,IAAKzH,EAAKuH,KAUxCzE,EAAMiB,YAAc,SAAUO,EAAOkB,GACnClY,KAAKmV,QAAQjQ,UAAUO,OAAO,mBAC9BzF,KAAKmX,oBAAqB,YAAaH,EAAO,CAAEkB,KAQlD1C,EAAM4E,QAAU,SAAUpD,EAAOkB,GAC/B,IAAMlY,KAAKoY,UAAY,CACrB,OAGFpY,KAAKmV,QAAQpY,MAAM8a,UAAY,GAC/B7X,KAAKsY,aACLtY,KAAKmV,QAAQjQ,UAAUO,OAAO,eAC9BzF,KAAK+W,cAAe,UAAWC,EAAO,CAAEkB,KAK1C1C,EAAM+C,QAAU,WAEd,IAAMvY,KAAKqa,WAAa,CACtB,OAGFra,KAAKsa,eAEL,IAAIC,EAAQva,KACZwa,sBAAuB,SAASC,eAC9BF,EAAMhC,aAMV/C,EAAM8C,WAAa,WACjBtY,KAAKmV,QAAQpY,MAAMoG,KAAOnD,KAAKgW,SAASG,EAAI,KAC5CnW,KAAKmV,QAAQpY,MAAMkG,IAAOjD,KAAKgW,SAASI,EAAI,MAG9CZ,EAAM8E,aAAe,WACnBta,KAAKmV,QAAQpY,MAAM8a,UAAY,gBAAkB7X,KAAKqW,UAAUF,EAC9D,OAASnW,KAAKqW,UAAUD,EAAI,UAKhCZ,EAAMkF,YAAc,SAAU1D,EAAOkB,GACnClY,KAAK+W,cAAe,cAAeC,EAAO,CAAEkB,KAS9C1C,EAAMmF,YAAc,SAAUxE,EAAGC,GAC/BpW,KAAKgW,SAASG,EAAIA,EAClBnW,KAAKgW,SAASI,EAAIA,EAClBpW,KAAKsY,cAGP9C,EAAMkB,OAAS,WACb1W,KAAKoY,UAAY,MAGnB5C,EAAMoF,QAAU,WACd5a,KAAKoY,UAAY,MACjB,GAAKpY,KAAKqa,WAAa,CACrBra,KAAKoa,YAIT5E,EAAMqF,QAAU,WACd7a,KAAK4a,UAEL5a,KAAKmV,QAAQpY,MAAM8a,UAAY,GAC/B7X,KAAKmV,QAAQpY,MAAMoG,KAAO,GAC1BnD,KAAKmV,QAAQpY,MAAMkG,IAAM,GACzBjD,KAAKmV,QAAQpY,MAAMiZ,SAAW,GAE9BhW,KAAK8a,gBAEL,GAAK9a,KAAKoV,SAAW,CACnBpV,KAAKoV,SAAS2F,WAAW,iBAO7BvF,EAAMwF,MAAQ/F,KAETC,GAAUA,EAAO+F,QAAU,CAC9B/F,EAAO+F,QAAS,cAAe1X,aAKjC,OAAOA,YAvaQhM,CAASK,EAAQid,EAASC,IALrC,2BALF,CA4BCld,S,iPCfCA,YATA,0BAAAF,EASQ,SAASH,UACrB,aAKA,SAAS2jB,aAAcjiB,GACrB,IAAIkiB,EAAM3R,WAAYvQ,GAEtB,IAAImiB,EAAUniB,EAAMsQ,QAAQ,OAAS,IAAM5C,MAAOwU,GAClD,OAAOC,GAAWD,EAGpB,SAASlG,QAET,IAAIoG,SAAkBjd,SAAW,YAAc6W,KAC7C,SAAUqG,GACRld,QAAQ6Q,MAAOqM,IAKfC,EAAe,CACjB,cACA,eACA,aACA,gBACA,aACA,cACA,YACA,eACA,kBACA,mBACA,iBACA,qBAGEC,EAAqBD,EAAahX,OAEtC,SAASkX,cACP,IAAIC,EAAO,CACTnhB,MAAO,EACPC,OAAQ,EACRmhB,WAAY,EACZC,YAAa,EACbC,WAAY,EACZC,YAAa,GAEf,IAAM,IAAI9jB,EAAE,EAAGA,EAAIwjB,EAAoBxjB,IAAM,CAC3C,IAAI+jB,EAAcR,EAAavjB,GAC/B0jB,EAAMK,GAAgB,EAExB,OAAOL,EAST,SAASM,SAAUC,GACjB,IAAIlf,EAAQqL,iBAAkB6T,GAC9B,IAAMlf,EAAQ,CACZse,EAAU,kBAAoBte,EAC5B,8DACA,kCAEJ,OAAOA,EAKT,IAAImf,EAAU,MAEVC,EAOJ,SAASC,QAEP,GAAKF,EAAU,CACb,OAEFA,EAAU,KAQV,IAAIG,EAAMzhB,SAASoK,cAAc,OACjCqX,EAAItf,MAAMxC,MAAQ,QAClB8hB,EAAItf,MAAMuf,QAAU,kBACpBD,EAAItf,MAAMwf,YAAc,QACxBF,EAAItf,MAAMyf,YAAc,kBACxBH,EAAItf,MAAM0f,UAAY,aAEtB,IAAIC,EAAO9hB,SAAS8hB,MAAQ9hB,SAASC,gBACrC6hB,EAAK7f,YAAawf,GAClB,IAAItf,EAAQif,SAAUK,GAEtBF,EAAiB/V,KAAKuW,MAAOzB,aAAcne,EAAMxC,SAAa,IAC9Dsa,QAAQsH,eAAiBA,EAEzBO,EAAKtN,YAAaiN,GAKpB,SAASxH,QAASoH,GAChBG,QAGA,UAAYH,GAAQ,SAAW,CAC7BA,EAAOrhB,SAASgL,cAAeqW,GAIjC,IAAMA,WAAeA,IAAP,0BAAOA,KAAQ,WAAaA,EAAK9f,SAAW,CACxD,OAGF,IAAIY,EAAQif,SAAUC,GAGtB,GAAKlf,EAAM6f,SAAW,OAAS,CAC7B,OAAOnB,cAGT,IAAIC,EAAO,GACXA,EAAKnhB,MAAQ0hB,EAAKY,YAClBnB,EAAKlhB,OAASyhB,EAAKa,aAEnB,IAAIC,EAAcrB,EAAKqB,YAAchgB,EAAM0f,WAAa,aAGxD,IAAM,IAAIzkB,EAAE,EAAGA,EAAIwjB,EAAoBxjB,IAAM,CAC3C,IAAI+jB,EAAcR,EAAavjB,GAC/B,IAAIiB,EAAQ8D,EAAOgf,GACnB,IAAIZ,EAAM3R,WAAYvQ,GAEtByiB,EAAMK,IAAiBpV,MAAOwU,GAAQA,EAAM,EAG9C,IAAI6B,EAAetB,EAAKuB,YAAcvB,EAAKwB,aAC3C,IAAIC,EAAgBzB,EAAK0B,WAAa1B,EAAK2B,cAC3C,IAAIC,EAAc5B,EAAK6B,WAAa7B,EAAK8B,YACzC,IAAIC,EAAe/B,EAAKgC,UAAYhC,EAAKiC,aACzC,IAAInB,EAAcd,EAAK3C,gBAAkB2C,EAAK1C,iBAC9C,IAAI4E,EAAelC,EAAKxC,eAAiBwC,EAAKvC,kBAE9C,IAAI0E,EAAuBd,GAAeZ,EAG1C,IAAI2B,EAAa5C,aAAcne,EAAMxC,OACrC,GAAKujB,IAAe,MAAQ,CAC1BpC,EAAKnhB,MAAQujB,GAETD,EAAuB,EAAIb,EAAeR,GAGhD,IAAIuB,EAAc7C,aAAcne,EAAMvC,QACtC,GAAKujB,IAAgB,MAAQ,CAC3BrC,EAAKlhB,OAASujB,GAEVF,EAAuB,EAAIV,EAAgBS,GAGjDlC,EAAKC,WAAaD,EAAKnhB,OAAUyiB,EAAeR,GAChDd,EAAKE,YAAcF,EAAKlhB,QAAW2iB,EAAgBS,GAEnDlC,EAAKG,WAAaH,EAAKnhB,MAAQ+iB,EAC/B5B,EAAKI,YAAcJ,EAAKlhB,OAASijB,EAEjC,OAAO/B,EAGT,OAAO7G,UA/LH,mC;;;;;;CCLF,SAAUjd,GAMRF,EAAQ,CACN,YADF,gBAEasmB,GACX,OAgBK,SAASzmB,QAASK,EAAQomB,GAErC,aAIA,SAASlJ,cAGT,IAAIU,EAAQV,WAAWhb,UAAYpB,OAAOY,OAAQ0kB,EAAWlkB,WAI7D0b,EAAMsB,YAAc,WAClB9W,KAAKie,aAAc,OAGrBzI,EAAMsF,cAAgB,WACpB9a,KAAKie,aAAc,QAOrBzI,EAAMyI,aAAe,SAAUC,GAE7BA,EAAQA,IAAU5d,UAAY,KAAO4d,EAErC,IAAIC,EAAaD,EAAQ,mBAAqB,sBAC9C,IAAIE,EAAcF,EAAQle,KAAKqe,kBAAoB,GACnD,IAAM,IAAIrmB,EAAE,EAAGA,EAAIgI,KAAK4W,QAAQrS,OAAQvM,IAAM,CAC5C,IAAIwE,EAASwD,KAAK4W,QAAQ5e,GAC1BgI,KAAKse,gBAAiB9hB,EAAQ0hB,GAC9B1hB,EAAQ2hB,GAAc,QAASne,MAE/B,GAAKpI,EAAO2mB,aAAe,CACzB/hB,EAAOO,MAAMqhB,YAAcA,KAMjC5I,EAAM6I,kBAAoB,OAS1B7I,EAAMgJ,YAAc,SAAUxH,EAAOkB,GACnC,IAAIuG,EAASze,KAAK0e,gBAAiB1H,GACnC,IAAMyH,EAAS,CACb,OAGFze,KAAK2e,mBAAqBzG,EAE1BlB,EAAMrT,iBACN3D,KAAK4e,kBAEL5e,KAAK6e,qBAAsB7H,GAC3BhX,KAAKkX,UAAW,cAAe,CAAEF,EAAOkB,KAI1C,IAAI4G,EAAc,CAChBC,SAAU,KACVC,MAAO,KACPC,OAAQ,KACRC,OAAQ,MAINC,EAAa,CACfC,MAAO,KACPC,SAAU,KACVC,OAAQ,KACRC,OAAQ,KACRC,MAAO,KACPC,KAAM,MAiKR,OA7JAjK,EAAMkJ,gBAAkB,SAAU1H,GAChC,IAAI0I,EAAeZ,EAAa9H,EAAMxP,OAAOmY,UACzCC,EAAcT,EAAYnI,EAAMxP,OAAO/G,MACvCge,GAAUiB,GAAgBE,EAI9B,OAHMnB,GACJze,KAAK6f,gBAEApB,GAITjJ,EAAMoJ,gBAAkB,WACtB,IAAIkB,EAAUllB,SAASmlB,cAETD,GAAWA,EAAQE,MAAQF,GAAWllB,SAAS8hB,MAE3DoD,EAAQE,QAWZxK,EAAMyK,YAAc,SAAUjJ,EAAOkB,GACnC,IAAIuB,EAAazZ,KAAKkgB,iBAAkBlJ,EAAOkB,GAC/ClY,KAAKkX,UAAW,cAAe,CAAEF,EAAOkB,EAASuB,IACjDzZ,KAAKmgB,UAAWnJ,EAAOkB,EAASuB,IAIlCjE,EAAM0K,iBAAmB,SAAUlJ,EAAOkB,GACxC,IAAIuB,EAAa,CACftD,EAAG+B,EAAQ3Q,MAAQvH,KAAK2e,mBAAmBpX,MAC3C6O,EAAG8B,EAAQvQ,MAAQ3H,KAAK2e,mBAAmBhX,OAM7C,OAHM3H,KAAKqa,YAAcra,KAAKogB,eAAgB3G,IAC5CzZ,KAAKqgB,WAAYrJ,EAAOkB,GAEnBuB,GAITjE,EAAM4K,eAAiB,SAAU3G,GAC/B,OAAkC,EAA3BrT,KAAKka,IAAK7G,EAAWtD,IAAsC,EAA3B/P,KAAKka,IAAK7G,EAAWrD,IAU9DZ,EAAM+K,UAAY,SAAUvJ,EAAOkB,GACjClY,KAAKkX,UAAW,YAAa,CAAEF,EAAOkB,IACtClY,KAAKwgB,eAAgBxJ,EAAOkB,IAG9B1C,EAAMgL,eAAiB,SAAUxJ,EAAOkB,GACjClY,KAAKqa,WACRra,KAAKygB,SAAUzJ,EAAOkB,GAGtBlY,KAAK0gB,aAAc1J,EAAOkB,IAO9B1C,EAAM6K,WAAa,SAAUrJ,EAAOkB,GAClClY,KAAKqa,YAAa,EAElBra,KAAK2gB,oBAAqB,EAC1B3gB,KAAKmY,UAAWnB,EAAOkB,IAGzB1C,EAAM2C,UAAY,SAAUnB,EAAOkB,GACjClY,KAAKkX,UAAW,YAAa,CAAEF,EAAOkB,KAIxC1C,EAAM2K,UAAY,SAAUnJ,EAAOkB,EAASuB,GAEpCzZ,KAAKqa,YAIXra,KAAK0Z,SAAU1C,EAAOkB,EAASuB,IAGjCjE,EAAMkE,SAAW,SAAU1C,EAAOkB,EAASuB,GACzCzC,EAAMrT,iBACN3D,KAAKkX,UAAW,WAAY,CAAEF,EAAOkB,EAASuB,KAIhDjE,EAAMiL,SAAW,SAAUzJ,EAAOkB,GAEhClY,KAAKqa,YAAa,EAElB/a,WAAY,kBACHU,KAAK2gB,oBACZnnB,KAAMwG,OAERA,KAAKoa,QAASpD,EAAOkB,IAGvB1C,EAAM4E,QAAU,SAAUpD,EAAOkB,GAC/BlY,KAAKkX,UAAW,UAAW,CAAEF,EAAOkB,KAMtC1C,EAAMoL,QAAU,SAAU5J,GACnBhX,KAAK2gB,oBACR3J,EAAMrT,kBAOV6R,EAAMkL,aAAe,SAAU1J,EAAOkB,GAE/BlY,KAAK6gB,mBAAmC,WAAd7J,EAAMvW,OAIrCT,KAAK0a,YAAa1D,EAAOkB,GAGN,WAAdlB,EAAMvW,OACTT,KAAK6gB,mBAAoB,EAEzBvhB,WAAY,kBACHU,KAAK6gB,mBACZrnB,KAAMwG,MAAQ,QAIpBwV,EAAMkF,YAAc,SAAU1D,EAAOkB,GACnClY,KAAKkX,UAAW,cAAe,CAAEF,EAAOkB,KAK1CpD,WAAWgM,gBAAkB9C,EAAW8C,gBAIjChM,WAnQMvd,CAASK,EAAQomB,IAH1B,2BANF,CAyBCpmB,S;;;;;;CCzBD,SAAUA,GAKRF,EAAQ,CACN,YADF,gBAEaqpB,GACX,OAgBK,SAASxpB,QAASK,EAAQmpB,GAErC,aAEA,SAAS9L,QAET,SAAS+I,cAGT,IAAIxI,EAAQwI,WAAWlkB,UAAYpB,OAAOY,OAAQynB,EAAUjnB,WAE5D0b,EAAMwL,eAAiB,SAAU/E,GAC/Bjc,KAAKse,gBAAiBrC,EAAM,OAG9BzG,EAAMyL,iBAAmB,SAAUhF,GACjCjc,KAAKse,gBAAiBrC,EAAM,QAO9BzG,EAAM8I,gBAAkB,SAAUrC,EAAMiC,GAEtCA,EAAQA,IAAU5d,UAAY,KAAO4d,EACrC,IAAIC,EAAaD,EAAQ,mBAAqB,sBAG9C,IAAIgD,EAAa,YACjB,GAAKtpB,EAAO2mB,aAAe,CAEzB2C,EAAa,mBACR,GAAK,iBAAkBtpB,EAAS,CAErCspB,EAAa,aAEfjF,EAAMkC,GAAc+C,EAAYlhB,OAIlCwV,EAAM2L,YAAc,SAAUnK,GAC5B,IAAIxZ,EAAS,KAAOwZ,EAAMvW,KAC1B,GAAKT,KAAMxC,GAAW,CACpBwC,KAAMxC,GAAUwZ,KAKpBxB,EAAM4L,SAAW,SAAUna,GACzB,IAAM,IAAIjP,EAAE,EAAGA,EAAIiP,EAAQ1C,OAAQvM,IAAM,CACvC,IAAIkP,EAAQD,EAAQjP,GACpB,GAAKkP,EAAMma,YAAcrhB,KAAKshB,kBAAoB,CAChD,OAAOpa,KAObsO,EAAM+L,YAAc,SAAUvK,GAE5B,IAAIsI,EAAStI,EAAMsI,OACnB,GAAKA,GAAYA,IAAW,GAAKA,IAAW,EAAM,CAChD,OAEFtf,KAAKwhB,aAAcxK,EAAOA,IAG5BxB,EAAMiM,aAAe,SAAUzK,GAC7BhX,KAAKwhB,aAAcxK,EAAOA,EAAM7P,eAAe,KAGjDqO,EAAMkM,cAAgB,SAAU1K,GAC9BhX,KAAKwhB,aAAcxK,EAAOA,IAQ5BxB,EAAMgM,aAAe,SAAUxK,EAAOkB,GAGpC,GAAKlB,EAAMsI,QAAUtf,KAAK2hB,cAAgB,CACxC,OAGF3hB,KAAK2hB,cAAgB,KAErB3hB,KAAKshB,kBAAoBpJ,EAAQ0J,YAActhB,UAE7C4X,EAAQ0J,UAAY1J,EAAQmJ,WAE9BrhB,KAAKwe,YAAaxH,EAAOkB,IAG3B1C,EAAMgJ,YAAc,SAAUxH,EAAOkB,GACnClY,KAAK6e,qBAAsB7H,GAC3BhX,KAAKkX,UAAW,cAAe,CAAEF,EAAOkB,KAI1C,IAAI2J,EAAkB,CACpBC,UAAW,CAAE,YAAa,WAC1BC,WAAY,CAAE,YAAa,WAAY,eACvCC,YAAa,CAAE,cAAe,YAAa,kBA+J7C,OA5JAxM,EAAMqJ,qBAAuB,SAAU7H,GACrC,GAAMA,EAAN,CAIA,IAAIiL,EAASJ,EAAiB7K,EAAMvW,MAEpCwhB,EAAO/kB,QAAS,SAAU2L,GACxBjR,EAAOsH,iBAAkB2J,EAAW7I,OACnCA,MAEHA,KAAKkiB,oBAAsBD,IAG7BzM,EAAM2M,uBAAyB,WAEvBniB,KAAKkiB,sBAGXliB,KAAKkiB,oBAAoBhlB,QAAS,SAAU2L,GAC1CjR,EAAO+H,oBAAqBkJ,EAAW7I,OACtCA,aAEIA,KAAKkiB,sBAKd1M,EAAM4M,YAAc,SAAUpL,GAC5BhX,KAAKqiB,aAAcrL,EAAOA,IAG5BxB,EAAM8M,cAAgB,SAAUtL,GACzBA,EAAM4K,WAAa5hB,KAAKshB,mBAC3BthB,KAAKqiB,aAAcrL,EAAOA,IAI9BxB,EAAM+M,YAAc,SAAUvL,GAC5B,IAAI9P,EAAQlH,KAAKohB,SAAUpK,EAAM7P,gBAC5BD,GACHlH,KAAKqiB,aAAcrL,EAAO9P,IAU9BsO,EAAM6M,aAAe,SAAUrL,EAAOkB,GACpClY,KAAKigB,YAAajJ,EAAOkB,IAI3B1C,EAAMyK,YAAc,SAAUjJ,EAAOkB,GACnClY,KAAKkX,UAAW,cAAe,CAAEF,EAAOkB,KAM1C1C,EAAMgN,UAAY,SAAUxL,GAC1BhX,KAAKyiB,WAAYzL,EAAOA,IAG1BxB,EAAMkN,YAAc,SAAU1L,GACvBA,EAAM4K,WAAa5hB,KAAKshB,mBAC3BthB,KAAKyiB,WAAYzL,EAAOA,IAI5BxB,EAAMmN,WAAa,SAAU3L,GAC3B,IAAI9P,EAAQlH,KAAKohB,SAAUpK,EAAM7P,gBAC5BD,GACHlH,KAAKyiB,WAAYzL,EAAO9P,IAU5BsO,EAAMiN,WAAa,SAAUzL,EAAOkB,GAClClY,KAAK4iB,eACL5iB,KAAKugB,UAAWvJ,EAAOkB,IAIzB1C,EAAM+K,UAAY,SAAUvJ,EAAOkB,GACjClY,KAAKkX,UAAW,YAAa,CAAEF,EAAOkB,KAMxC1C,EAAMoN,aAAe,WACnB5iB,KAAK6f,gBACL7f,KAAKmiB,yBACLniB,KAAK6iB,eAGPrN,EAAMqK,cAAgB,WAEpB7f,KAAK2hB,eAAgB,SACd3hB,KAAKshB,mBAGd9L,EAAMqN,YAzNN,SAAS5N,SA6NTO,EAAMsN,gBAAkB,SAAU9L,GAC3BA,EAAM4K,WAAa5hB,KAAKshB,mBAC3BthB,KAAK+iB,eAAgB/L,EAAOA,IAIhCxB,EAAMwN,cAAgB,SAAUhM,GAC9B,IAAI9P,EAAQlH,KAAKohB,SAAUpK,EAAM7P,gBAC5BD,GACHlH,KAAK+iB,eAAgB/L,EAAO9P,IAUhCsO,EAAMuN,eAAiB,SAAU/L,EAAOkB,GACtClY,KAAK4iB,eACL5iB,KAAKijB,cAAejM,EAAOkB,IAI7B1C,EAAMyN,cAAgB,SAAUjM,EAAOkB,GACrClY,KAAKkX,UAAW,gBAAiB,CAAEF,EAAOkB,KAM5C8F,WAAW8C,gBAAkB,SAAU5I,GACrC,MAAO,CACL/B,EAAG+B,EAAQ3Q,MACX6O,EAAG8B,EAAQvQ,QAMRqW,WA1RMzmB,CAASK,EAAQmpB,IAH1B,2BALF,CAwBCnpB,S,0CCnBC,0BAAAF,EAS6C,WAEjD,aAEA,SAASqpB,aAET,IAAIvL,EAAQuL,UAAUjnB,UAiFtB,OA/EA0b,EAAM9W,GAAK,SAAUmK,EAAWkI,GAC9B,GAAMlI,GAAckI,EAApB,CAIA,IAAIkR,EAASjiB,KAAKkjB,QAAUljB,KAAKkjB,SAAW,GAExC/R,EAAY8Q,EAAQpZ,GAAcoZ,EAAQpZ,IAAe,GAM7D,OAJuC,GAAlCsI,EAAU5H,QAASwH,IACtBI,EAAU5K,KAAMwK,GAGX/Q,OAGTwV,EAAMnW,KAAO,SAAUwJ,EAAWkI,GAChC,GAAMlI,GAAckI,EAApB,CAIA/Q,KAAKtB,GAAImK,EAAWkI,GAGpB,IAAIoS,EAAanjB,KAAKojB,YAAcpjB,KAAKojB,aAAe,GAMxD,OAJoBD,EAAYta,GAAcsa,EAAYta,IAAe,IAE1DkI,IAAa,EAErB/Q,OAGTwV,EAAM5V,IAAM,SAAUiJ,EAAWkI,GAC/B,IAAII,EAAYnR,KAAKkjB,SAAWljB,KAAKkjB,QAASra,GAC9C,GAAMsI,GAAcA,EAAU5M,OAA9B,CAGA,IAAI4J,EAAQgD,EAAU5H,QAASwH,GAK/B,OAJe,GAAV5C,GACHgD,EAAUE,OAAQlD,EAAO,GAGpBnO,OAGTwV,EAAM0B,UAAY,SAAUrO,EAAWyI,GACrC,IAAIH,EAAYnR,KAAKkjB,SAAWljB,KAAKkjB,QAASra,GAC9C,GAAMsI,GAAcA,EAAU5M,OAA9B,CAIA4M,EAAYA,EAAUtS,MAAM,GAC5ByS,EAAOA,GAAQ,GAIf,IAFA,IAAI+R,EAAgBrjB,KAAKojB,aAAepjB,KAAKojB,YAAava,GAEhD7Q,EAAE,EAAGA,EAAImZ,EAAU5M,OAAQvM,IAAM,CACzC,IAAI+Y,EAAWI,EAAUnZ,GACZqrB,GAAiBA,EAAetS,KAI3C/Q,KAAKJ,IAAKiJ,EAAWkI,UAEdsS,EAAetS,IAGxBA,EAASJ,MAAO3Q,KAAMsR,GAGxB,OAAOtR,OAGTwV,EAAM8N,OAAS,kBACNtjB,KAAKkjB,eACLljB,KAAKojB,aAGPrC,YAhGH,mC","file":"player.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"xgplayer\"] = factory();\n\telse\n\t\troot[\"xgplayer\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 74);\n","import Proxy from './proxy'\nimport util from './utils/util'\nimport Database from './utils/database'\nimport sniffer from './utils/sniffer'\nimport Errors from './error'\nimport Draggabilly from 'draggabilly'\nimport {\n  version\n} from '../package.json'\nclass Player extends Proxy {\n  static isSupportMP4 () {\n    return util.isSupportMP4()\n  }\n  constructor (options) {\n    super(options)\n    this.config = util.deepCopy({\n      width: 600,\n      height: 337.5,\n      ignores: [],\n      whitelist: [],\n      lang: (document.documentElement.getAttribute('lang') || navigator.language || 'zh-cn').toLocaleLowerCase(),\n      inactive: 3000,\n      volume: 0.6,\n      controls: true,\n      controlsList: ['nodownload']\n    }, options)\n    this.version = version\n    this.userTimer = null\n    this.waitTimer = null\n    this.database = new Database()\n    this.history = []\n    this.isProgressMoving = false\n    this.root = util.findDom(document, `#${this.config.id}`)\n    this.controls = util.createDom('xg-controls', '', {\n      unselectable: 'on',\n      onselectstart: 'return false'\n    }, 'xgplayer-controls')\n    if (!this.root) {\n      let el = this.config.el\n      if (el && el.nodeType === 1) {\n        this.root = el\n      } else {\n        this.emit('error', new Errors('use', this.config.vid, {\n          line: 32,\n          handle: 'Constructor',\n          msg: 'container id can\\'t be empty'\n        }))\n        return false\n      }\n    }\n    // this.rootBackup = util.copyDom(this.root)\n    util.addClass(this.root, `xgplayer xgplayer-${sniffer.device} xgplayer-nostart ${this.config.controls ? '' : 'no-controls'}`)\n    this.root.appendChild(this.controls)\n    if (this.config.fluid) {\n      this.root.style['max-width'] = '100%'\n      this.root.style['width'] = '100%'\n      this.root.style['height'] = '0'\n      this.root.style['padding-top'] = `${this.config.height * 100 / this.config.width}%`\n\n      this.video.style['position'] = 'absolute'\n      this.video.style['top'] = '0'\n      this.video.style['left'] = '0'\n    } else {\n      if (sniffer.device === 'pc' || options.width || options.height) {\n        this.root.style.width = `${this.config.width}px`\n        this.root.style.height = `${this.config.height}px`\n      }\n    }\n    if (this.config.execBeforePluginsCall) {\n      this.config.execBeforePluginsCall.forEach(item => {\n        item.call(this, this)\n      })\n    }\n    if (this.config.controlStyle && util.typeOf(this.config.controlStyle) === 'String') {\n      let self = this\n      window.fetch && window.fetch(self.config.controlStyle, {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json'\n        }\n      }).then(function (res) {\n        if (res.ok) {\n          res.json().then(function (obj) {\n            for (var prop in obj) {\n              if (obj.hasOwnProperty(prop)) {\n                self.config[prop] = obj[prop]\n              }\n            }\n            self.pluginsCall()\n          })\n        }\n      }).catch(function (err) {\n        console.log('Fetch错误:' + err)\n      })\n    } else {\n      this.pluginsCall()\n    }\n    this.ev.forEach((item) => {\n      let evName = Object.keys(item)[0]\n      let evFunc = this[item[evName]]\n      if (evFunc) {\n        this.on(evName, evFunc)\n      }\n    });\n    ['focus', 'blur'].forEach(item => {\n      this.on(item, this['on' + item.charAt(0).toUpperCase() + item.slice(1)])\n    })\n    let player = this\n    this.mousemoveFunc = function () {\n      player.emit('focus')\n      if (!player.config.closeFocusVideoFocus) {\n        player.video.focus()\n      }\n    }\n    this.root.addEventListener('mousemove', this.mousemoveFunc)\n    this.playFunc = function () {\n      player.emit('focus')\n      if (!player.config.closePlayVideoFocus) {\n        player.video.focus()\n      }\n    }\n    player.once('play', this.playFunc)\n\n    setTimeout(() => {\n      this.emit('ready')\n    }, 0)\n    if (this.config.videoInit) {\n      if (util.hasClass(this.root, 'xgplayer-nostart')) {\n        this.start()\n      }\n    }\n    function onDestroy () {\n      player.root.removeEventListener('mousemove', player.mousemoveFunc)\n      player.off('destroy', onDestroy)\n    }\n    player.once('destroy', onDestroy)\n  }\n\n  start (url = this.config.url) {\n    let root = this.root\n    let player = this\n    if (!url || url === '') {\n      this.emit('urlNull')\n    }\n    this.logParams.playSrc = url\n    this.canPlayFunc = function () {\n      let playPromise = player.video.play()\n      if (playPromise !== undefined && playPromise) {\n        playPromise.then(function () {\n          util.removeClass(player.root, 'xgplayer-nostart')\n          player.emit('autoplay started')\n        }).catch(function () {\n          player.emit('autoplay was prevented')\n          Player.util.addClass(player.root, 'xgplayer-is-autoplay')\n        })\n      }\n      player.off('canplay', player.canPlayFunc)\n    }\n    if (util.typeOf(url) === 'String') {\n      this.video.src = url\n    } else {\n      url.forEach(item => {\n        this.video.appendChild(util.createDom('source', '', {\n          src: `${item.src}`,\n          type: `${item.type || ''}`\n        }))\n      })\n    }\n    this.logParams.pt = new Date().getTime()\n    this.logParams.vt = this.logParams.pt\n    this.loadeddataFunc = function () {\n      player.logParams.vt = new Date().getTime()\n      if (player.logParams.pt > player.logParams.vt) {\n        player.logParams.pt = player.logParams.vt\n      }\n      player.logParams.vd = player.video.duration\n    }\n    this.once('loadeddata', this.loadeddataFunc)\n    if (this.config.autoplay) {\n      this.on('canplay', this.canPlayFunc)\n    }\n    root.insertBefore(this.video, root.firstChild)\n    setTimeout(() => {\n      this.emit('complete')\n    }, 1)\n  }\n\n  reload () {\n    this.video.load()\n    this.reloadFunc = function () {\n      this.play().catch((err) => {})\n    }\n    this.once('loadeddata', this.reloadFunc)\n  }\n\n  destroy (isDelDom = true) {\n    let player = this\n    clearInterval(this.bulletResizeTimer)\n    for (let k in this._interval) {\n      clearInterval(this._interval[k])\n      this._interval[k] = null\n    }\n    this.ev.forEach((item) => {\n      let evName = Object.keys(item)[0]\n      let evFunc = this[item[evName]]\n      if (evFunc) {\n        this.off(evName, evFunc)\n      }\n    })\n    if (this.loadeddataFunc) {\n      this.off('loadeddata', this.loadeddataFunc)\n    }\n    if (this.reloadFunc) {\n      this.off('loadeddata', this.reloadFunc)\n    }\n    if (this.replayFunc) {\n      this.off('play', this.replayFunc)\n    }\n    if (this.playFunc) {\n      this.off('play', this.playFunc)\n    }\n    ['focus', 'blur'].forEach(item => {\n      this.off(item, this['on' + item.charAt(0).toUpperCase() + item.slice(1)])\n    })\n    clearTimeout(this.userTimer)\n    clearTimeout(this.waitTimer)\n    clearTimeout(this.sliderTimer)\n\n    function destroyFunc () {\n      this.emit('destroy')\n      // this.root.id = this.root.id + '_del'\n      // parentNode.insertBefore(this.rootBackup, this.root)\n\n      // fix video destroy https://stackoverflow.com/questions/3258587/how-to-properly-unload-destroy-a-video-element\n      this.video.removeAttribute('src') // empty source\n      this.video.load()\n      if (isDelDom) {\n        // parentNode.removeChild(this.root)\n        this.root.innerHTML = ''\n        this.root.className = ''\n      }\n      for (let k in this) {\n        // if (k !== 'config') {\n        delete this[k]\n        // }\n      }\n      this.off('pause', destroyFunc)\n    }\n\n    if (!this.paused) {\n      this.pause()\n      this.once('pause', destroyFunc)\n    } else {\n      destroyFunc.call(this)\n    }\n    super.destroy()\n  }\n\n  replay () {\n    let self = this\n    let _replay = this._replay\n    // ie9 bugfix\n    util.removeClass(this.root, 'xgplayer-ended')\n    this.logParams = {\n      bc: 0,\n      bu_acu_t: 0,\n      played: [],\n      pt: new Date().getTime(),\n      vt: new Date().getTime(),\n      vd: 0\n    }\n    this.logParams.pt = new Date().getTime()\n    this.logParams.vt = this.logParams.pt\n    this.replayFunc = function () {\n      self.logParams.vt = new Date().getTime()\n      if (self.logParams.pt > self.logParams.vt) {\n        self.logParams.pt = self.logParams.vt\n      }\n      self.logParams.vd = self.video.duration\n    }\n    this.once('play', this.replayFunc)\n    this.logParams.playSrc = this.video.currentSrc\n    if (_replay && _replay instanceof Function) {\n      _replay()\n    } else {\n      this.currentTime = 0\n      this.play().catch(err => {})\n    }\n  }\n\n  pluginsCall () {\n    let self = this\n    if (Player.plugins) {\n      let ignores = this.config.ignores\n      Object.keys(Player.plugins).forEach(name => {\n        let descriptor = Player.plugins[name]\n        if (!ignores.some(item => name === item)) {\n          if (['pc', 'tablet', 'mobile'].some(type => type === name)) {\n            if (name === sniffer.device) {\n              setTimeout(() => {\n                descriptor.call(self, self)\n              }, 0)\n            }\n          } else {\n            descriptor.call(this, this)\n          }\n        }\n      })\n    }\n  }\n\n  getPIP (width = 320, height = 180) {\n    let ro = this.root.getBoundingClientRect()\n    let Top = ro.top\n    let Left = ro.left\n    let dragLay = util.createDom('xg-pip-lay', '<div></div>', {}, 'xgplayer-pip-lay')\n    this.root.appendChild(dragLay)\n    let dragHandle = util.createDom('xg-pip-drag', '<div class=\"drag-handle\"><span>点击按住可拖动视频</span></div>', {tabindex: 9}, 'xgplayer-pip-drag')\n    this.root.appendChild(dragHandle)\n    let draggie = new Draggabilly('.xgplayer', {\n      handle: '.drag-handle'\n    })\n    util.addClass(this.root, 'xgplayer-pip-active')\n\n    this.root.style.width = `${width}px`\n    this.root.style.height = `${height}px`\n\n    this.root.style.right = 0\n    this.root.style.bottom = '200px'\n    this.root.style.top = ''\n    this.root.style.left = ''\n    if (this.config.fluid) {\n      this.root.style['padding-top'] = ''\n    }\n    let player = this;\n    ['click', 'touchstart'].forEach(item => {\n      dragLay.addEventListener(item, function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        player.exitPIP()\n        player.root.style.top = `${Top}px`\n        player.root.style.left = `${Left}px`\n      })\n    })\n  }\n\n  exitPIP () {\n    util.removeClass(this.root, 'xgplayer-pip-active')\n    this.root.style.right = ''\n    this.root.style.bottom = ''\n    this.root.style.top = ''\n    this.root.style.left = ''\n\n    if (this.config.fluid) {\n      this.root.style['width'] = '100%'\n      this.root.style['height'] = '0'\n      this.root.style['padding-top'] = `${this.config.height * 100 / this.config.width}%`\n    } else {\n      if (this.config.width) {\n        if (typeof this.config.width !== 'number') {\n          this.root.style.width = this.config.width\n        } else {\n          this.root.style.width = `${this.config.width}px`\n        }\n      }\n      if (this.config.height) {\n        if (typeof this.config.height !== 'number') {\n          this.root.style.height = this.config.height\n        } else {\n          this.root.style.height = `${this.config.height}px`\n        }\n      }\n    }\n  }\n\n  clearWaitTimer () {\n    if (!this.waitTimer) {\n      return\n    }\n    window.clearTimeout(this.waitTimer)\n    this.waitTimer = null\n  }\n\n  onFocus () {\n    let player = this\n    util.removeClass(this.root, 'xgplayer-inactive')\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n    player.userTimer = setTimeout(function () {\n      player.emit('blur')\n    }, player.config.inactive)\n  }\n\n  onBlur () {\n    // this.video.blur()\n    if (!this.paused && !this.ended) {\n      util.addClass(this.root, 'xgplayer-inactive')\n    }\n  }\n\n  onPlay () {\n    util.addClass(this.root, 'xgplayer-playing')\n    util.removeClass(this.root, 'xgplayer-pause')\n  }\n\n  onPause () {\n    util.addClass(this.root, 'xgplayer-pause')\n    if (this.userTimer) {\n      clearTimeout(this.userTimer)\n    }\n    this.emit('focus')\n  }\n\n  onEnded () {\n    util.addClass(this.root, 'xgplayer-ended')\n    util.removeClass(this.root, 'xgplayer-playing')\n  }\n\n  onTimeupdate () {\n    // loading状态下必须有足够的播放buffer才清楚loading\n    if (this.isLoading || (this.waitTimer && !this.isSeeking)) {\n      if (this.checkBuffer()) {\n        this.clearWaitTimer()\n        util.removeClass(this.root, 'xgplayer-isloading')\n        this.isLoading = false\n      }\n    }\n    // 在没有开始播放且当前是暂停状态 不去除xgplayer-nostart, 兼容safari下无法自动播放但是设置了currentTime的情况\n    if (!this._hasStart && this.paused) {\n      util.removeClass(this.root, 'xgplayer-is-enter xgplayer-start-appear')\n    } else {\n      util.removeClass(this.root, 'xgplayer-is-enter xgplayer-nostart xgplayer-start-appear')\n    }\n  }\n\n  onSeeking () {\n    this.isSeeking = true\n    this.onWaiting()\n  }\n\n  onSeeked () {\n    this.isSeeking = false\n    this.isLoading = false\n    // for ie,playing trigger before waiting\n    if (this.waitTimer) {\n      this.clearWaitTimer()\n    }\n    util.removeClass(this.root, 'xgplayer-isloading')\n  }\n\n  onWaiting () {\n    // 未开始播放且暂停状态不显示loading\n    if (!this._hasStart && this.paused) {\n      return\n    }\n    let self = this\n    if (self.waitTimer) {\n      this.clearWaitTimer()\n      this.isLoading = false\n    }\n    self.waitTimer = setTimeout(function () {\n      util.addClass(self.root, 'xgplayer-isloading')\n      self.isLoading = true\n      self.clearWaitTimer()\n    }, 800)\n  }\n\n  onPlaying () {\n    this.isSeeking = false\n    this.isLoading = false\n    if (this.waitTimer) {\n      this.clearWaitTimer()\n    }\n    util.removeClass(this.root, 'xgplayer-isloading xgplayer-pause xgplayer-ended xgplayer-is-error xgplayer-replay')\n    util.addClass(this.root, 'xgplayer-playing')\n  }\n\n  /**\n   * 检查当前缓存是否足够播放currenTime\n   */\n  checkBuffer () {\n    const buffered = this.video.buffered\n    const currentTime = this.currentTime\n    const len = buffered.length\n    if (len > 0 && (buffered.start([len - 1]) <= currentTime && buffered.end([len - 1]) > currentTime)) {\n      console.log('checkBuffer true')\n      return true\n    }\n    console.log('checkBuffer false')\n    return false\n  }\n\n  static install (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    Player.plugins[name] = descriptor\n  }\n}\n\nPlayer.util = util\nPlayer.sniffer = sniffer\nPlayer.Errors = Errors\n\nexport default Player\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","let util = {}\n\nutil.createDom = function (el = 'div', tpl = '', attrs = {}, cname = '') {\n  let dom = document.createElement(el)\n  dom.className = cname\n  dom.innerHTML = tpl\n  Object.keys(attrs).forEach(item => {\n    let key = item\n    let value = attrs[item]\n    if (el === 'video' || el === 'audio') {\n      if (value) {\n        dom.setAttribute(key, value)\n      }\n    } else {\n      dom.setAttribute(key, value)\n    }\n  })\n  return dom\n}\n\nutil.hasClass = function (el, className) {\n  if (el.classList) {\n    return Array.prototype.some.call(el.classList, item => item === className)\n  } else {\n    return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'))\n  }\n}\n\nutil.addClass = function (el, className) {\n  if (el.classList) {\n    className.replace(/(^\\s+|\\s+$)/g, '').split(/\\s+/g).forEach(item => {\n      item && el.classList.add(item)\n    })\n  } else if (!util.hasClass(el, className)) {\n    el.className += ' ' + className\n  }\n}\n\nutil.removeClass = function (el, className) {\n  if (el.classList) {\n    className.split(/\\s+/g).forEach(item => {\n      el.classList.remove(item)\n    })\n  } else if (util.hasClass(el, className)) {\n    className.split(/\\s+/g).forEach(item => {\n      let reg = new RegExp('(\\\\s|^)' + item + '(\\\\s|$)')\n      el.className = el.className.replace(reg, ' ')\n    })\n  }\n}\n\nutil.toggleClass = function (el, className) {\n  className.split(/\\s+/g).forEach(item => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item)\n    } else {\n      util.addClass(el, item)\n    }\n  })\n}\n\nutil.findDom = function (el = document, sel) {\n  let dom\n  // fix querySelector IDs that start with a digit\n  // https://stackoverflow.com/questions/37270787/uncaught-syntaxerror-failed-to-execute-queryselector-on-document\n  try {\n    dom = el.querySelector(sel)\n  } catch (e) {\n    if (sel.startsWith('#')) {\n      dom = el.getElementById(sel.slice(1))\n    }\n  }\n  return dom\n}\n\nutil.padStart = function (str, length, pad) {\n  let charstr = String(pad)\n  let len = length >> 0\n  let maxlen = Math.ceil(len / charstr.length)\n  let chars = []\n  let r = String(str)\n  while (maxlen--) {\n    chars.push(charstr)\n  }\n  return chars.join('').substring(0, len - r.length) + r\n}\n\nutil.format = function (time) {\n  if (window.isNaN(time)) {\n    return ''\n  }\n  let hour = util.padStart(Math.floor(time / 3600), 2, 0)\n  let minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0)\n  let second = util.padStart(Math.floor((time - hour * 3600 - minute * 60)), 2, 0)\n  return (hour === '00' ? [minute, second] : [hour, minute, second]).join(':')\n}\n\nutil.event = function (e) {\n  if (e.touches) {\n    let touch = e.touches[0] || e.changedTouches[0]\n    e.clientX = touch.clientX || 0\n    e.clientY = touch.clientY || 0\n    e.offsetX = touch.pageX - touch.target.offsetLeft\n    e.offsetY = touch.pageY - touch.target.offsetTop\n  }\n  e._target = e.target || e.srcElement\n}\n\nutil.typeOf = function (obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0]\n}\n\nutil.deepCopy = function (dst, src) {\n  if (util.typeOf(src) === 'Object' && util.typeOf(dst) === 'Object') {\n    Object.keys(src).forEach(key => {\n      if (util.typeOf(src[key]) === 'Object' && !(src[key] instanceof Node)) {\n        if (!dst[key]) {\n          dst[key] = src[key]\n        } else {\n          util.deepCopy(dst[key], src[key])\n        }\n      } else if (util.typeOf(src[key]) === 'Array') {\n        dst[key] = util.typeOf(dst[key]) === 'Array' ? dst[key].concat(src[key]) : src[key]\n      } else {\n        dst[key] = src[key]\n      }\n    })\n    return dst\n  }\n}\nutil.getBgImage = function (el) {\n  // fix: return current page url when url is none\n  let url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage\n  if (!url || url === 'none') {\n    return ''\n  }\n  let a = document.createElement('a')\n  a.href = url.replace(/url\\(\"|\"\\)/g, '')\n  return a.href\n}\n\nutil.copyDom = function (dom) {\n  if (dom && dom.nodeType === 1) {\n    let back = document.createElement(dom.tagName)\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value)\n    })\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML\n    }\n    return back\n  } else {\n    return ''\n  }\n}\n\nutil.setInterval = function (context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = setInterval(intervalFunc.bind(context), frequency)\n  }\n}\n\nutil.clearInterval = function (context, eventName) {\n  clearInterval(context._interval[eventName])\n  context._interval[eventName] = null\n}\n\nutil.createImgBtn = function (name, imgUrl, width, height) {\n  let btn = util.createDom(`xg-${name}`, '', {}, `xgplayer-${name}-img`)\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`\n  if (width && height) {\n    let w, h, unit\n    ['px', 'rem', 'em', 'pt', 'dp', 'vw', 'vh', 'vm', '%'].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim())\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim())\n        unit = item\n        return false\n      } else {\n        return true\n      }\n    })\n    btn.style.width = `${w}${unit}`\n    btn.style.height = `${h}${unit}`\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`\n    if (name === 'start') {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`\n    } else {\n      btn.style.margin = 'auto 5px auto 5px'\n    }\n  }\n  return btn\n}\n\nutil.Hex2RGBA = function (hex, alpha) {\n  let rgb = [] // 定义rgb数组\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = '#'\n    hex.replace(/[0-9A-F]/ig, function (kw) {\n      sixHex += kw + kw\n    })\n    hex = sixHex\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function (kw) {\n      rgb.push(eval('0x' + kw))\n    })\n    return `rgba(${rgb.join(',')}, ${alpha})`\n  } else {\n    return 'rgba(255, 255, 255, 0.1)'\n  }\n}\n\nutil.isSupportMP4 = function () {\n  const RegExp = [{\n    key: 'Trident',\n    reg: /(rv:)([\\d.]+)/\n  },\n  {\n    key: 'Trident',\n    reg: /(msie)\\s*([\\d.]+)/\n  }, {\n    key: 'Chrome',\n    reg: /(chrome)\\/([\\d.]+)/\n  }]\n  const ua = navigator.userAgent.toLowerCase()\n  let match = null\n  const browser = {}\n  for (const key in RegExp) {\n    match = RegExp[key].reg.exec(ua)\n    if (match) {\n      const name = RegExp[key].key\n      browser[`is${name}`] = name\n      browser.name = name\n      browser.appVersion = match.length > 2 ? match[2] : ''\n      break\n    }\n  }\n\n  if (!(browser.isChrome && (browser.appVersion === '77.0.3835.0' || browser.appVersion === '76.0.3790.0')) && !browser.isTrident) {\n    return true\n  }\n  const H264_MIMETYPES = [\n    'avc1.42E01E, mp4a.40.2',\n    'avc1.58A01E, mp4a.40.2',\n    'avc1.4D401E, mp4a.40.2',\n    'avc1.64001E, mp4a.40.2',\n    'avc1.42E01E',\n    'mp4v.20.8',\n    'mp4v.20.240',\n    'avc1.42E01E, mp4a.40.2',\n    'avc1.58A01E, mp4a.40.2',\n    'avc1.4D401E, mp4a.40.2',\n    'avc1.64001E, mp4a.40.2',\n    'mp4v.20.8, mp4a.40.2',\n    'mp4v.20.240, mp4a.40.2'\n  ]\n  let a = document.createElement('video')\n  let result = {\n    isSupport: false,\n    mime: ''\n  }\n  if (typeof a.canPlayType === 'function') {\n    H264_MIMETYPES.map(key => {\n      if (a.canPlayType(`video/mp4; codecs=\"${key}\"`) === 'probably') {\n        result.isSupport = true\n        result.mime += `||${key}`\n      }\n    })\n    return result.isSupport\n  }\n  a = null\n  return result.isSupport\n}\n\nexport default util\n","import {version} from '../package.json'\nconst ErrorTypes = {\n  network: {\n    code: 1,\n    msg: '视频下载错误',\n    remark: '只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在'\n  },\n  mse: {\n    code: 2,\n    msg: '流追加错误',\n    remark: '追加流的时候如果类型不对、无法被正确解码则会触发此类错误'\n  },\n  parse: {\n    code: 3,\n    msg: '解析错误',\n    remark: 'mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误'\n  },\n  format: {\n    code: 4,\n    msg: '格式错误',\n    remark: '如果浏览器不支持的格式导致播放错误'\n  },\n  decoder: {\n    code: 5,\n    msg: '解码错误',\n    remark: '浏览器解码异常会抛出此类型错误'\n  },\n  runtime: {\n    code: 6,\n    msg: '语法错误',\n    remark: '播放器语法错误'\n  },\n  timeout: {\n    code: 7,\n    msg: '播放超时',\n    remark: '播放过程中无法正常请求下一个分段导致播放中断'\n  },\n  other: {\n    code: 8,\n    msg: '其他错误',\n    remark: '不可知的错误或被忽略的错误类型'\n  }\n}\n\nclass Errors {\n  static get ErrorTypes() {\n    return ErrorTypes\n  }\n  constructor (type, currentTime, duration, networkState, readyState, src, currentSrc,\n  ended, errd = {line: '', handle: '', msg: '', version: ''}) {\n    let r = {}\n    if (arguments.length >= 3 && arguments.length < 5) {\n      r.playerVersion = version // 播放器版本\n      r.errorType = arguments[0]\n      r.code = arguments[1]\n      r.errd = arguments[2] || {}// 错误详情\n      r.ex = (r.errd || {}).msg // 补充信息\n      r.domain = document.domain // domain\n    } else {\n      r.playerVersion = version // 播放器版本\n      r.errorType = type\n      r.domain = document.domain // domain\n      r.duration = duration // 视频时长\n      r.currentTime = currentTime\n      r.networkState = networkState\n      r.readyState = readyState\n      r.currentSrc = currentSrc\n      r.src = src\n      r.ended = ended\n      r.errd = errd || {}// 错误详情\n      r.ex = (ErrorTypes[type] || {}).msg // 补充信息\n      r.code = r.errd.code\n    }\n    \n    return r\n  }\n}\n\nexport default Errors","let sniffer = {\n  get device () {\n    let r = sniffer.os\n    return r.isPc ? 'pc' : 'mobile'\n    // return r.isPc ? 'pc' : r.isTablet ? 'tablet' : 'mobile'\n  },\n  get browser () {\n    let ua = navigator.userAgent.toLowerCase()\n    let reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firfox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    }\n    return [].concat(Object.keys(reg).filter(key => reg[key].test(ua)))[0]\n  },\n  get os () {\n    let ua = navigator.userAgent\n    let isWindowsPhone = /(?:Windows Phone)/.test(ua)\n    let isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone\n    let isAndroid = /(?:Android)/.test(ua)\n    let isFireFox = /(?:Firefox)/.test(ua)\n    let isTablet = /(?:iPad|PlayBook)/.test(ua) || (isAndroid && !/(?:Mobile)/.test(ua)) || (isFireFox && /(?:Tablet)/.test(ua))\n    let isPhone = /(?:iPhone)/.test(ua) && !isTablet\n    let isPc = !isPhone && !isAndroid && !isSymbian && !isTablet\n    return {\n      isTablet,\n      isPhone,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    }\n  }\n}\n\nexport default sniffer\n","import EventEmitter from 'event-emitter'\nimport util from './utils/util'\nimport Errors from './error'\nconst ua =  navigator.userAgent;\nconst IS_SAFARI = ua.indexOf('Safari') > -1 && ua.indexOf('mac') > -1\n// import allOff from 'event-emitter/all-off'\nclass Proxy {\n  constructor (options) {\n    this.logParams = {\n      bc: 0,\n      bu_acu_t: 0,\n      played: []\n    }\n    this._hasStart = false\n    this._seekingTimer = null\n    this.videoConfig = {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      'webkit-playsinline': options.playsinline,\n      'x5-playsinline': options.playsinline,\n      'x5-video-player-type': options['x5-video-player-type'],\n      'x5-video-player-fullscreen': options['x5-video-player-fullscreen'],\n      'x5-video-orientation': options['x5-video-orientation'],\n      airplay: options['airplay'],\n      'webkit-airplay': options['airplay'],\n      tabindex: 2,\n      mediaType: options.mediaType || 'video'\n    }\n    if (options.loop) {\n      this.videoConfig.loop = 'loop'\n    }\n    if (options.crossorigin) {\n      this.videoConfig.crossorigin = 'anonymous'\n    }\n    let textTrackDom = ''\n    if (options.textTrack && Array.isArray(options.textTrack) && (navigator.userAgent.indexOf('Chrome') > -1 || navigator.userAgent.indexOf('Firefox') > -1)) {\n      options.textTrack.some(track => {\n        if (track.src && track.label && track.default) {\n          textTrackDom += `<track src=\"${track.src}\" `\n          if (track.kind) {\n            textTrackDom += `kind=\"${track.kind}\" `\n          }\n          textTrackDom += `label=\"${track.label}\" `\n          if (track.srclang) {\n            textTrackDom += `srclang=\"${track.srclang}\" `\n          }\n          textTrackDom += `${track.default ? 'default' : ''}>`\n          return true\n        }\n      })\n      this.videoConfig.crossorigin = 'anonymous'\n    }\n    if (options.textTrackStyle) {\n      let style = document.createElement('style')\n      this.textTrackStyle = style\n      document.head.appendChild(style)\n      let styleStr = ''\n      for (let index in options.textTrackStyle) {\n        styleStr += `${index}: ${options.textTrackStyle[index]};`\n      }\n      let wrap = options.id ? `#${options.id}` : (options.el.id ? `#${options.el.id}` : `.${options.el.className}`)\n      if (style.sheet.insertRule) {\n        style.sheet.insertRule(`${wrap} video::cue { ${styleStr} }`, 0)\n      } else if (style.sheet.addRule) {\n        style.sheet.addRule(`${wrap} video::cue`, styleStr)\n      }\n    }\n    this.video = util.createDom(this.videoConfig.mediaType, textTrackDom, this.videoConfig, '')\n    if (options.autoplay) {\n      this.video.autoplay = true\n      if (options.autoplayMuted) {\n        this.video.muted = true\n      }\n    }\n    this.ev = ['play', 'playing', 'pause', 'ended', 'error', 'seeking', 'seeked',\n      'timeupdate', 'waiting', 'canplay', 'canplaythrough', 'durationchange', 'volumechange', 'loadeddata', 'canplaythrough'\n    ].map((item) => {\n      return {\n        [item]: `on${item.charAt(0).toUpperCase()}${item.slice(1)}`\n      }\n    })\n    EventEmitter(this)\n\n    this._interval = {}\n    let lastBuffer = '0,0'\n    let self = this\n\n    this.ev.forEach(item => {\n      self.evItem = Object.keys(item)[0]\n      let name = Object.keys(item)[0]\n      self.video.addEventListener(Object.keys(item)[0], function () {\n        // fix when video destroy called and video reload\n        if (!self.logParams) {\n          return\n        }\n        if (name === 'play') {\n          self.hasStart = true\n        } else if (name === 'waiting') {\n          self.logParams.bc++\n          self.inWaitingStart = new Date().getTime()\n        } else if (name === 'playing') {\n          if (self.inWaitingStart) {\n            self.logParams.bu_acu_t += new Date().getTime() - self.inWaitingStart\n            self.inWaitingStart = undefined\n          }\n        } else if (name === 'loadeddata') {\n          self.logParams.played.push({\n            begin: 0,\n            end: -1\n          })\n        } else if (name === 'seeking') {\n          self.logParams.played.push({\n            begin: self.video.currentTime,\n            end: -1\n          })\n        } else if (self && self.logParams && self.logParams.played && name === 'timeupdate') {\n          if (self.logParams.played.length < 1) {\n            self.logParams.played.push({\n              begin: self.video.currentTime,\n              end: -1\n            })\n          }\n          self.logParams.played[self.logParams.played.length - 1].end = self.video.currentTime\n        }\n        if (name === 'error') {\n          self._onError()\n        } else {\n          self.emit(name, self)\n        }\n\n        if (self.hasOwnProperty('_interval')) {\n          if (['ended', 'error', 'timeupdate'].indexOf(name) < 0) {\n            clearInterval(self._interval['bufferedChange'])\n            util.setInterval(self, 'bufferedChange', function () {\n              let curBuffer = []\n              for (let i = 0, len = self.video.buffered.length; i < len; i++) {\n                curBuffer.push([self.video.buffered.start(i), self.video.buffered.end(i)])\n              }\n              if (curBuffer.toString() !== lastBuffer) {\n                lastBuffer = curBuffer.toString()\n                self.emit('bufferedChange', curBuffer)\n              }\n            }, 200)\n          } else {\n            if (name !== 'timeupdate') {\n              util.clearInterval(self, 'bufferedChange')\n            }\n          }\n        }\n      }, false)\n    })\n  }\n\n  _onError () {\n    const self = this\n    if (self.video.error) {\n      self.emit('error', new Errors('other', self.currentTime, self.duration, self.networkState, self.readyState, self.currentSrc, self.src,\n        self.ended, {\n          line: 41,\n          msg: self.error,\n          handle: 'Constructor',\n          code: self.errorCode\n        }))\n    }\n  }\n\n  get hasStart () {\n    return this._hasStart\n  }\n  set hasStart (bool) {\n    if (typeof bool === 'boolean' && bool === true && !this._hasStart) {\n      this._hasStart = true\n      this.emit('hasstart')\n    }\n  }\n  destroy () {\n    // allOff(this)\n    if (this.textTrackStyle) {\n      this.textTrackStyle.parentNode.removeChild(this.textTrackStyle)\n    }\n  }\n  play () {\n    return this.video.play()\n  }\n  pause () {\n    this.video.pause()\n  }\n  canPlayType () {\n    this.video.canPlayType()\n  }\n  getBufferedRange () {\n    let range = [0, 0]\n    let video = this.video\n    let buffered = video.buffered\n    let currentTime = video.currentTime\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i)\n        range[1] = buffered.end(i)\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range\n    } else {\n      return [0, 0]\n    }\n  }\n  set autoplay (isTrue) {\n    this.video.autoplay = isTrue\n  }\n  get autoplay () {\n    return this.video.autoplay\n  }\n  get buffered () {\n    return this.video.buffered\n  }\n  get crossOrigin () {\n    return this.video.crossOrigin\n  }\n  set crossOrigin (isTrue) {\n    this.video.crossOrigin = isTrue\n  }\n  get currentSrc () {\n    return this.video.currentSrc\n  }\n  set currentSrc (src) {\n    this.video.currentSrc = src\n  }\n  get currentTime () {\n    return this.video.currentTime\n  }\n  set currentTime (time) {\n    if(typeof isFinite === 'function' && !isFinite(time)) return\n    this.video.currentTime = time\n    this.emit('currentTimeChange')\n  }\n  get defaultMuted () {\n    return this.video.defaultMuted\n  }\n  set defaultMuted (isTrue) {\n    this.video.defaultMuted = isTrue\n  }\n  get duration () {\n    return this.video.duration\n  }\n  get ended () {\n    return this.video.ended\n  }\n  get error () {\n    let err = this.video.error\n    if (!err) {\n      return null\n    }\n    let status = [{\n      en: 'MEDIA_ERR_ABORTED',\n      cn: '取回过程被用户中止'\n    }, {\n      en: 'MEDIA_ERR_NETWORK',\n      cn: '当下载时发生错误'\n    }, {\n      en: 'MEDIA_ERR_DECODE',\n      cn: '当解码时发生错误'\n    }, {\n      en: 'MEDIA_ERR_SRC_NOT_SUPPORTED',\n      cn: '不支持音频/视频'\n    }]\n    return this.lang ? this.lang[status[err.code - 1].en] : status[err.code - 1].en\n  }\n  get errorCode () {\n    let err = this.video.error\n    return err.code\n  }\n  get loop () {\n    return this.video.loop\n  }\n  set loop (isTrue) {\n    this.video.loop = isTrue\n  }\n  get muted () {\n    return this.video.muted\n  }\n  set muted (isTrue) {\n    this.video.muted = isTrue\n  }\n  get networkState () {\n    let status = [{\n      en: 'NETWORK_EMPTY',\n      cn: '音频/视频尚未初始化'\n    }, {\n      en: 'NETWORK_IDLE',\n      cn: '音频/视频是活动的且已选取资源，但并未使用网络'\n    }, {\n      en: 'NETWORK_LOADING',\n      cn: '浏览器正在下载数据'\n    }, {\n      en: 'NETWORK_NO_SOURCE',\n      cn: '未找到音频/视频来源'\n    }]\n    return this.lang ? this.lang[status[this.video.networkState].en] : status[this.video.networkState].en\n  }\n  get paused () {\n    return this.video.paused\n  }\n  get playbackRate () {\n    return this.video.playbackRate\n  }\n  set playbackRate (rate) {\n    this.video.playbackRate = rate\n  }\n  get played () {\n    return this.video.played\n  }\n  get preload () {\n    return this.video.preload\n  }\n  set preload (isTrue) {\n    this.video.preload = isTrue\n  }\n  get readyState () {\n    let status = [{\n      en: 'HAVE_NOTHING',\n      cn: '没有关于音频/视频是否就绪的信息'\n    }, {\n      en: 'HAVE_METADATA',\n      cn: '关于音频/视频就绪的元数据'\n    }, {\n      en: 'HAVE_CURRENT_DATA',\n      cn: '关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒'\n    }, {\n      en: 'HAVE_FUTURE_DATA',\n      cn: '当前及至少下一帧的数据是可用的'\n    }, {\n      en: 'HAVE_ENOUGH_DATA',\n      cn: '可用数据足以开始播放'\n    }]\n    return this.lang ? this.lang[status[this.video.readyState].en] : status[this.video.readyState]\n  }\n  get seekable () {\n    return this.video.seekable\n  }\n  get seeking () {\n    return this.video.seeking\n  }\n  get src () {\n    return this.video.src\n  }\n  set src (url) {\n    let self = this\n    if (!util.hasClass(this.root, 'xgplayer-ended')) {\n      this.emit('urlchange', JSON.parse(JSON.stringify(self.logParams)))\n    }\n    this.logParams = {\n      bc: 0,\n      bu_acu_t: 0,\n      played: [],\n      pt: new Date().getTime(),\n      vt: new Date().getTime(),\n      vd: 0\n    }\n    this.video.pause()\n    this.video.src = url\n    this.emit('srcChange')\n    this.logParams.playSrc = url\n    this.logParams.pt = new Date().getTime()\n    this.logParams.vt = this.logParams.pt\n    function ldFunc () {\n      self.logParams.vt = new Date().getTime()\n      if (self.logParams.pt > self.logParams.vt) {\n        self.logParams.pt = self.logParams.vt\n      }\n      self.logParams.vd = self.video.duration\n      self.off('loadeddata', ldFunc)\n    }\n    this.once('loadeddata', ldFunc)\n  }\n  get volume () {\n    return this.video.volume\n  }\n  set volume (vol) {\n    this.video.volume = vol\n  }\n  get fullscreen () {\n    return util.hasClass(this.root, 'xgplayer-is-fullscreen') || util.hasClass(this.root, 'xgplayer-fullscreen-active')\n  }\n  get bullet () {\n    return util.findDom(this.root, 'xg-bullet') ? util.hasClass(util.findDom(this.root, 'xg-bullet'), 'xgplayer-has-bullet') : false\n  }\n  get textTrack () {\n    return util.hasClass(this.root, 'xgplayer-is-textTrack')\n  }\n  get pip () {\n    return util.hasClass(this.root, 'xgplayer-pip-active')\n  }\n}\n\nexport default Proxy\n","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src/*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1/*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","class INDEXDB {\n  constructor (mydb = {name: 'xgplayer', version: 1, db: null, ojstore: {name: 'xg-m4a', keypath: 'vid'}}) {\n    this.indexedDB = window.indexedDB || window.webkitindexedDB\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange // 键范围\n    this.myDB = mydb\n  }\n\n  openDB (callback) {\n    // 建立或打开数据库，建立对象存储空间(ObjectStore)\n    let self = this\n    let version = this.myDB.version || 1\n    let request = self.indexedDB.open(self.myDB.name, version)\n    request.onerror = function (e) {\n      // console.log('e.currentTarget.error.message')\n    }\n    request.onsuccess = e => {\n      this.myDB.db = e.target.result\n      // console.log('成功建立并打开数据库:' + this.myDB.name + ' version' + this.myDB.version)\n      callback.call(self)\n    }\n    request.onupgradeneeded = e => {\n      let db = e.target.result\n      let transaction = e.target.transaction\n      let store\n      if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n        // 没有该对象空间时创建该对象空间\n        store = db.createObjectStore(self.myDB.ojstore.name, {keyPath: self.myDB.ojstore.keypath})\n        // console.log('成功建立对象存储空间：' + this.myDB.ojstore.name)\n      }\n    }\n  }\n\n  deletedb () {\n    // 删除数据库\n    let self = this\n    self.indexedDB.deleteDatabase(this.myDB.name)\n    // console.log(this.myDB.name + '数据库已删除')\n  }\n\n  closeDB () {\n    // 关闭数据库\n    this.myDB.db.close()\n    // console.log('数据库已关闭')\n  }\n\n  addData (storename, data) {\n    // 添加数据，重复添加会报错\n    let store = this.myDB.db.transaction(storename, 'readwrite').objectStore(storename)\n    let request\n    for (let i = 0; i < data.length; i++) {\n      request = store.add(data[i])\n      request.onerror = function () {\n        // console.error('add添加数据库中已有该数据')\n      }\n      request.onsuccess = function () {\n        // console.log('add添加数据已存入数据库')\n      }\n    }\n  }\n\n  putData (storename, data) {\n    // 添加数据，重复添加会更新原有数据\n    let store = this.myDB.db.transaction(storename, 'readwrite').objectStore(storename)\n    let request\n    for (let i = 0; i < data.length; i++) {\n      request = store.put(data[i])\n      request.onerror = function () {\n        // console.error('put添加数据库中已有该数据')\n      }\n      request.onsuccess = function () {\n        // console.log('put添加数据已存入数据库')\n      }\n    }\n  }\n\n  getDataByKey (storename, key, callback) {\n    let self = this\n    // 根据存储空间的键找到对应数据\n    let store = this.myDB.db.transaction(storename, 'readwrite').objectStore(storename)\n    let request = store.get(key)\n    request.onerror = function () {\n      // console.error('getDataByKey error')\n      callback.call(self, null)\n    }\n    request.onsuccess = function (e) {\n      let result = e.target.result\n      // console.log('查找数据成功')\n      callback.call(self, result)\n    }\n  }\n\n  deleteData (storename, key) {\n    // 删除某一条记录\n    let store = this.myDB.db.transaction(storename, 'readwrite').objectStore(storename)\n    store.delete(key)\n    // console.log('已删除存储空间' + storename + '中' + key + '记录')\n  }\n\n  clearData (storename) {\n    // 删除存储空间全部记录\n    let store = this.myDB.db.transaction(storename, 'readwrite').objectStore(storename)\n    store.clear()\n    // console.log('已删除存储空间' + storename + '全部记录')\n  }\n}\n\nexport default INDEXDB\n","/*!\n * Draggabilly v2.2.0\n * Make that shiz draggable\n * https://draggabilly.desandro.com\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'get-size/get-size',\n        'unidragger/unidragger'\n      ],\n      function( getSize, Unidragger ) {\n        return factory( window, getSize, Unidragger );\n      });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('get-size'),\n      require('unidragger')\n    );\n  } else {\n    // browser global\n    window.Draggabilly = factory(\n      window,\n      window.getSize,\n      window.Unidragger\n    );\n  }\n\n}( window, function factory( window, getSize, Unidragger ) {\n\n'use strict';\n\n// -------------------------- helpers & variables -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nfunction noop() {}\n\nvar jQuery = window.jQuery;\n\n// --------------------------  -------------------------- //\n\nfunction Draggabilly( element, options ) {\n  // querySelector if string\n  this.element = typeof element == 'string' ?\n    document.querySelector( element ) : element;\n\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  this._create();\n}\n\n// inherit Unidragger methods\nvar proto = Draggabilly.prototype = Object.create( Unidragger.prototype );\n\nDraggabilly.defaults = {\n};\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  extend( this.options, opts );\n};\n\n// css position values that don't need to be set\nvar positionValues = {\n  relative: true,\n  absolute: true,\n  fixed: true\n};\n\nproto._create = function() {\n  // properties\n  this.position = {};\n  this._getPosition();\n\n  this.startPoint = { x: 0, y: 0 };\n  this.dragPoint = { x: 0, y: 0 };\n\n  this.startPosition = extend( {}, this.position );\n\n  // set relative positioning\n  var style = getComputedStyle( this.element );\n  if ( !positionValues[ style.position ] ) {\n    this.element.style.position = 'relative';\n  }\n\n  // events, bridge jQuery events from vanilla\n  this.on( 'pointerDown', this.onPointerDown );\n  this.on( 'pointerMove', this.onPointerMove );\n  this.on( 'pointerUp', this.onPointerUp );\n\n  this.enable();\n  this.setHandles();\n};\n\n/**\n * set this.handles and bind start events to 'em\n */\nproto.setHandles = function() {\n  this.handles = this.options.handle ?\n    this.element.querySelectorAll( this.options.handle ) : [ this.element ];\n\n  this.bindHandles();\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = [ event ].concat( args );\n  this.emitEvent( type, emitArgs );\n  this.dispatchJQueryEvent( type, event, args );\n};\n\nproto.dispatchJQueryEvent = function( type, event, args ) {\n  var jQuery = window.jQuery;\n  // trigger jQuery event\n  if ( !jQuery || !this.$element ) {\n    return;\n  }\n  // create jQuery event\n  var $event = jQuery.Event( event );\n  $event.type = type;\n  this.$element.trigger( $event, args );\n};\n\n// -------------------------- position -------------------------- //\n\n// get x/y position from style\nproto._getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var x = this._getPositionCoord( style.left, 'width' );\n  var y = this._getPositionCoord( style.top, 'height' );\n  // clean up 'auto' or other non-integer values\n  this.position.x = isNaN( x ) ? 0 : x;\n  this.position.y = isNaN( y ) ? 0 : y;\n\n  this._addTransformPosition( style );\n};\n\nproto._getPositionCoord = function( styleSide, measure ) {\n  if ( styleSide.indexOf('%') != -1 ) {\n    // convert percent into pixel for Safari, #75\n    var parentSize = getSize( this.element.parentNode );\n    // prevent not-in-DOM element throwing bug, #131\n    return !parentSize ? 0 :\n      ( parseFloat( styleSide ) / 100 ) * parentSize[ measure ];\n  }\n  return parseInt( styleSide, 10 );\n};\n\n// add transform: translate( x, y ) to position\nproto._addTransformPosition = function( style ) {\n  var transform = style.transform;\n  // bail out if value is 'none'\n  if ( transform.indexOf('matrix') !== 0 ) {\n    return;\n  }\n  // split matrix(1, 0, 0, 1, x, y)\n  var matrixValues = transform.split(',');\n  // translate X value is in 12th or 4th position\n  var xIndex = transform.indexOf('matrix3d') === 0 ? 12 : 4;\n  var translateX = parseInt( matrixValues[ xIndex ], 10 );\n  // translate Y value is in 13th or 5th position\n  var translateY = parseInt( matrixValues[ xIndex + 1 ], 10 );\n  this.position.x += translateX;\n  this.position.y += translateY;\n};\n\n// -------------------------- events -------------------------- //\n\nproto.onPointerDown = function( event, pointer ) {\n  this.element.classList.add('is-pointer-down');\n  this.dispatchJQueryEvent( 'pointerDown', event, [ pointer ] );\n};\n\n/**\n * drag start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this._getPosition();\n  this.measureContainment();\n  // position _when_ drag began\n  this.startPosition.x = this.position.x;\n  this.startPosition.y = this.position.y;\n  // reset left/top style\n  this.setLeftTop();\n\n  this.dragPoint.x = 0;\n  this.dragPoint.y = 0;\n\n  this.element.classList.add('is-dragging');\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n  // start animation\n  this.animate();\n};\n\nproto.measureContainment = function() {\n  var container = this.getContainer();\n  if ( !container ) {\n    return;\n  }\n\n  var elemSize = getSize( this.element );\n  var containerSize = getSize( container );\n  var elemRect = this.element.getBoundingClientRect();\n  var containerRect = container.getBoundingClientRect();\n\n  var borderSizeX = containerSize.borderLeftWidth + containerSize.borderRightWidth;\n  var borderSizeY = containerSize.borderTopWidth + containerSize.borderBottomWidth;\n\n  var position = this.relativeStartPosition = {\n    x: elemRect.left - ( containerRect.left + containerSize.borderLeftWidth ),\n    y: elemRect.top - ( containerRect.top + containerSize.borderTopWidth )\n  };\n\n  this.containSize = {\n    width: ( containerSize.width - borderSizeX ) - position.x - elemSize.width,\n    height: ( containerSize.height - borderSizeY ) - position.y - elemSize.height\n  };\n};\n\nproto.getContainer = function() {\n  var containment = this.options.containment;\n  if ( !containment ) {\n    return;\n  }\n  var isElement = containment instanceof HTMLElement;\n  // use as element\n  if ( isElement ) {\n    return containment;\n  }\n  // querySelector if string\n  if ( typeof containment == 'string' ) {\n    return document.querySelector( containment );\n  }\n  // fallback to parent element\n  return this.element.parentNode;\n};\n\n// ----- move event ----- //\n\nproto.onPointerMove = function( event, pointer, moveVector ) {\n  this.dispatchJQueryEvent( 'pointerMove', event, [ pointer, moveVector ] );\n};\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  var dragX = moveVector.x;\n  var dragY = moveVector.y;\n\n  var grid = this.options.grid;\n  var gridX = grid && grid[0];\n  var gridY = grid && grid[1];\n\n  dragX = applyGrid( dragX, gridX );\n  dragY = applyGrid( dragY, gridY );\n\n  dragX = this.containDrag( 'x', dragX, gridX );\n  dragY = this.containDrag( 'y', dragY, gridY );\n\n  // constrain to axis\n  dragX = this.options.axis == 'y' ? 0 : dragX;\n  dragY = this.options.axis == 'x' ? 0 : dragY;\n\n  this.position.x = this.startPosition.x + dragX;\n  this.position.y = this.startPosition.y + dragY;\n  // set dragPoint properties\n  this.dragPoint.x = dragX;\n  this.dragPoint.y = dragY;\n\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nfunction applyGrid( value, grid, method ) {\n  method = method || 'round';\n  return grid ? Math[ method ]( value / grid ) * grid : value;\n}\n\nproto.containDrag = function( axis, drag, grid ) {\n  if ( !this.options.containment ) {\n    return drag;\n  }\n  var measure = axis == 'x' ? 'width' : 'height';\n\n  var rel = this.relativeStartPosition[ axis ];\n  var min = applyGrid( -rel, grid, 'ceil' );\n  var max = this.containSize[ measure ];\n  max = applyGrid( max, grid, 'floor' );\n  return  Math.max( min, Math.min( max, drag ) );\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.onPointerUp = function( event, pointer ) {\n  this.element.classList.remove('is-pointer-down');\n  this.dispatchJQueryEvent( 'pointerUp', event, [ pointer ] );\n};\n\n/**\n * drag end\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  // use top left position when complete\n  this.element.style.transform = '';\n  this.setLeftTop();\n  this.element.classList.remove('is-dragging');\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\n// -------------------------- animation -------------------------- //\n\nproto.animate = function() {\n  // only render and animate if dragging\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.positionDrag();\n\n  var _this = this;\n  requestAnimationFrame( function animateFrame() {\n    _this.animate();\n  });\n\n};\n\n// left/top positioning\nproto.setLeftTop = function() {\n  this.element.style.left = this.position.x + 'px';\n  this.element.style.top  = this.position.y + 'px';\n};\n\nproto.positionDrag = function() {\n  this.element.style.transform = 'translate3d( ' + this.dragPoint.x +\n    'px, ' + this.dragPoint.y + 'px, 0)';\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  this.dispatchEvent( 'staticClick', event, [ pointer ] );\n};\n\n// ----- methods ----- //\n\n/**\n * @param {Number} x\n * @param {Number} y\n */\nproto.setPosition = function( x, y ) {\n  this.position.x = x;\n  this.position.y = y;\n  this.setLeftTop();\n};\n\nproto.enable = function() {\n  this.isEnabled = true;\n};\n\nproto.disable = function() {\n  this.isEnabled = false;\n  if ( this.isDragging ) {\n    this.dragEnd();\n  }\n};\n\nproto.destroy = function() {\n  this.disable();\n  // reset styles\n  this.element.style.transform = '';\n  this.element.style.left = '';\n  this.element.style.top = '';\n  this.element.style.position = '';\n  // unbind handles\n  this.unbindHandles();\n  // remove jQuery data\n  if ( this.$element ) {\n    this.$element.removeData('draggabilly');\n  }\n};\n\n// ----- jQuery bridget ----- //\n\n// required for jQuery bridget\nproto._init = noop;\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'draggabilly', Draggabilly );\n}\n\n// -----  ----- //\n\nreturn Draggabilly;\n\n}));\n","/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n","/*!\n * Unidragger v2.3.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.Unidragger = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n'use strict';\n\n// -------------------------- Unidragger -------------------------- //\n\nfunction Unidragger() {}\n\n// inherit Unipointer & EvEmitter\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n// ----- bind start ----- //\n\nproto.bindHandles = function() {\n  this._bindHandles( true );\n};\n\nproto.unbindHandles = function() {\n  this._bindHandles( false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd\n */\nproto._bindHandles = function( isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  // bind each handle\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n  var touchAction = isAdd ? this._touchActionValue : '';\n  for ( var i=0; i < this.handles.length; i++ ) {\n    var handle = this.handles[i];\n    this._bindStartEvent( handle, isAdd );\n    handle[ bindMethod ]( 'click', this );\n    // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n    if ( window.PointerEvent ) {\n      handle.style.touchAction = touchAction;\n    }\n  }\n};\n\n// prototype so it can be overwriteable by Flickity\nproto._touchActionValue = 'none';\n\n// ----- start event ----- //\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n  // track start event position\n  this.pointerDownPointer = pointer;\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// nodes that have text fields\nvar cursorNodes = {\n  TEXTAREA: true,\n  INPUT: true,\n  SELECT: true,\n  OPTION: true,\n};\n\n// input types that do not have text fields\nvar clickTypes = {\n  radio: true,\n  checkbox: true,\n  button: true,\n  submit: true,\n  image: true,\n  file: true,\n};\n\n// dismiss inputs with text fields. flickity#403, flickity#404\nproto.okayPointerDown = function( event ) {\n  var isCursorNode = cursorNodes[ event.target.nodeName ];\n  var isClickType = clickTypes[ event.target.type ];\n  var isOkay = !isCursorNode || isClickType;\n  if ( !isOkay ) {\n    this._pointerReset();\n  }\n  return isOkay;\n};\n\n// kludge to blur previously focused input\nproto.pointerDownBlur = function() {\n  var focused = document.activeElement;\n  // do not blur body for IE10, metafizzy/flickity#117\n  var canBlur = focused && focused.blur && focused != document.body;\n  if ( canBlur ) {\n    focused.blur();\n  }\n};\n\n// ----- move event ----- //\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\n// base pointer move logic\nproto._dragPointerMove = function( event, pointer ) {\n  var moveVector = {\n    x: pointer.pageX - this.pointerDownPointer.pageX,\n    y: pointer.pageY - this.pointerDownPointer.pageY\n  };\n  // start drag if pointer has moved far enough to start drag\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n    this._dragStart( event, pointer );\n  }\n  return moveVector;\n};\n\n// condition if pointer has moved far enough to start drag\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto._dragPointerUp = function( event, pointer ) {\n  if ( this.isDragging ) {\n    this._dragEnd( event, pointer );\n  } else {\n    // pointer didn't move enough for drag to start\n    this._staticClick( event, pointer );\n  }\n};\n\n// -------------------------- drag -------------------------- //\n\n// dragStart\nproto._dragStart = function( event, pointer ) {\n  this.isDragging = true;\n  // prevent clicks\n  this.isPreventingClicks = true;\n  this.dragStart( event, pointer );\n};\n\nproto.dragStart = function( event, pointer ) {\n  this.emitEvent( 'dragStart', [ event, pointer ] );\n};\n\n// dragMove\nproto._dragMove = function( event, pointer, moveVector ) {\n  // do not drag if not dragging yet\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  event.preventDefault();\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n};\n\n// dragEnd\nproto._dragEnd = function( event, pointer ) {\n  // set flags\n  this.isDragging = false;\n  // re-enable clicking async\n  setTimeout( function() {\n    delete this.isPreventingClicks;\n  }.bind( this ) );\n\n  this.dragEnd( event, pointer );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\n};\n\n// ----- onclick ----- //\n\n// handle all clicks and prevent clicks when dragging\nproto.onclick = function( event ) {\n  if ( this.isPreventingClicks ) {\n    event.preventDefault();\n  }\n};\n\n// ----- staticClick ----- //\n\n// triggered after pointer down & up with no/tiny movement\nproto._staticClick = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  this.staticClick( event, pointer );\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    setTimeout( function() {\n      delete this.isIgnoringMouseUp;\n    }.bind( this ), 400 );\n  }\n};\n\nproto.staticClick = function( event, pointer ) {\n  this.emitEvent( 'staticClick', [ event, pointer ] );\n};\n\n// ----- utils ----- //\n\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n// -----  ----- //\n\nreturn Unidragger;\n\n}));\n","/*!\n * Unipointer v2.3.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.Unipointer = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n}( window, function factory( window, EvEmitter ) {\n\n'use strict';\n\nfunction noop() {}\n\nfunction Unipointer() {}\n\n// inherit EvEmitter\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\nproto.bindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd - remove if falsey\n */\nproto._bindStartEvent = function( elem, isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n  // default to mouse events\n  var startEvent = 'mousedown';\n  if ( window.PointerEvent ) {\n    // Pointer Events\n    startEvent = 'pointerdown';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events. iOS Safari\n    startEvent = 'touchstart';\n  }\n  elem[ bindMethod ]( startEvent, this );\n};\n\n// trigger handler methods for events\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// returns the touch that we're keeping track of\nproto.getTouch = function( touches ) {\n  for ( var i=0; i < touches.length; i++ ) {\n    var touch = touches[i];\n    if ( touch.identifier == this.pointerIdentifier ) {\n      return touch;\n    }\n  }\n};\n\n// ----- start event ----- //\n\nproto.onmousedown = function( event ) {\n  // dismiss clicks from right or middle buttons\n  var button = event.button;\n  if ( button && ( button !== 0 && button !== 1 ) ) {\n    return;\n  }\n  this._pointerDown( event, event );\n};\n\nproto.ontouchstart = function( event ) {\n  this._pointerDown( event, event.changedTouches[0] );\n};\n\nproto.onpointerdown = function( event ) {\n  this._pointerDown( event, event );\n};\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto._pointerDown = function( event, pointer ) {\n  // dismiss right click and other pointers\n  // button = 0 is okay, 1-4 not\n  if ( event.button || this.isPointerDown ) {\n    return;\n  }\n\n  this.isPointerDown = true;\n  // save pointer identifier to match up touch events\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n  this.pointerDown( event, pointer );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// hash of events to be bound after start event\nvar postStartEvents = {\n  mousedown: [ 'mousemove', 'mouseup' ],\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n};\n\nproto._bindPostStartEvents = function( event ) {\n  if ( !event ) {\n    return;\n  }\n  // get proper events to match start event\n  var events = postStartEvents[ event.type ];\n  // bind events to node\n  events.forEach( function( eventName ) {\n    window.addEventListener( eventName, this );\n  }, this );\n  // save these arguments\n  this._boundPointerEvents = events;\n};\n\nproto._unbindPostStartEvents = function() {\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n  if ( !this._boundPointerEvents ) {\n    return;\n  }\n  this._boundPointerEvents.forEach( function( eventName ) {\n    window.removeEventListener( eventName, this );\n  }, this );\n\n  delete this._boundPointerEvents;\n};\n\n// ----- move event ----- //\n\nproto.onmousemove = function( event ) {\n  this._pointerMove( event, event );\n};\n\nproto.onpointermove = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerMove( event, event );\n  }\n};\n\nproto.ontouchmove = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerMove( event, touch );\n  }\n};\n\n/**\n * pointer move\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerMove = function( event, pointer ) {\n  this.pointerMove( event, pointer );\n};\n\n// public\nproto.pointerMove = function( event, pointer ) {\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\n};\n\n// ----- end event ----- //\n\n\nproto.onmouseup = function( event ) {\n  this._pointerUp( event, event );\n};\n\nproto.onpointerup = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerUp( event, event );\n  }\n};\n\nproto.ontouchend = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerUp( event, touch );\n  }\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerUp = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerUp( event, pointer );\n};\n\n// public\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n};\n\n// ----- pointer done ----- //\n\n// triggered on pointer up & pointer cancel\nproto._pointerDone = function() {\n  this._pointerReset();\n  this._unbindPostStartEvents();\n  this.pointerDone();\n};\n\nproto._pointerReset = function() {\n  // reset properties\n  this.isPointerDown = false;\n  delete this.pointerIdentifier;\n};\n\nproto.pointerDone = noop;\n\n// ----- pointer cancel ----- //\n\nproto.onpointercancel = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerCancel( event, event );\n  }\n};\n\nproto.ontouchcancel = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerCancel( event, touch );\n  }\n};\n\n/**\n * pointer cancel\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerCancel = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerCancel( event, pointer );\n};\n\n// public\nproto.pointerCancel = function( event, pointer ) {\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\n};\n\n// -----  ----- //\n\n// utility function for getting x/y coords from event\nUnipointer.getPointerPoint = function( pointer ) {\n  return {\n    x: pointer.pageX,\n    y: pointer.pageY\n  };\n};\n\n// -----  ----- //\n\nreturn Unipointer;\n\n}));\n","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n"],"sourceRoot":""}