!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.xgplayer=t():e.xgplayer=t()}(window,function(){return function(n){var r={};function __webpack_require__(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}return __webpack_require__.m=n,__webpack_require__.c=r,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)__webpack_require__.d(n,r,function(e){return t[e]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=55)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=_interopRequireDefault(n(8)),c=_interopRequireDefault(n(3)),i=_interopRequireDefault(n(28)),a=_interopRequireDefault(n(6)),s=_interopRequireDefault(n(4)),d=_interopRequireDefault(n(29)),l=n(5);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(){function Player(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Player);var r=_possibleConstructorReturn(this,(Player.__proto__||Object.getPrototypeOf(Player)).call(this,e));if(r.config=c.default.deepCopy({width:600,height:337.5,ignores:[],whitelist:[],lang:(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase(),inactive:3e3,volume:.6,controls:!0,controlsList:["nodownload"]},e),r.version=l.version,r.userTimer=null,r.waitTimer=null,r.database=new i.default,r.history=[],r.isProgressMoving=!1,r.root=c.default.findDom(document,"#"+r.config.id),r.controls=c.default.createDom("xg-controls","",{unselectable:"on",onselectstart:"return false"},"xgplayer-controls"),!r.root){var t=r.config.el;if(!t||1!==t.nodeType)return r.emit("error",new s.default("use",r.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),_possibleConstructorReturn(r,!1);r.root=t}if(c.default.addClass(r.root,"xgplayer xgplayer-"+a.default.device+" xgplayer-nostart "+(r.config.controls?"":"no-controls")),r.root.appendChild(r.controls),r.config.fluid?(r.root.style["max-width"]="100%",r.root.style.width="100%",r.root.style.height="0",r.root.style["padding-top"]=100*r.config.height/r.config.width+"%",r.video.style.position="absolute",r.video.style.top="0",r.video.style.left="0"):("pc"===a.default.device||e.width||e.height)&&(r.root.style.width=r.config.width+"px",r.root.style.height=r.config.height+"px"),r.config.execBeforePluginsCall&&r.config.execBeforePluginsCall.forEach(function(e){e.call(r,r)}),r.config.controlStyle&&"String"===c.default.typeOf(r.config.controlStyle)){var n=r;window.fetch&&window.fetch(n.config.controlStyle,{method:"GET",headers:{Accept:"application/json"}}).then(function(e){e.ok&&e.json().then(function(e){for(var t in e)e.hasOwnProperty(t)&&(n.config[t]=e[t]);n.pluginsCall()})}).catch(function(e){console.log("Fetch错误:"+e)})}else r.pluginsCall();r.ev.forEach(function(e){var t=Object.keys(e)[0],n=r[e[t]];n&&r.on(t,n)}),["focus","blur"].forEach(function(e){r.on(e,r["on"+e.charAt(0).toUpperCase()+e.slice(1)])});var o=r;return r.mousemoveFunc=function(){o.emit("focus"),o.config.closeFocusVideoFocus||o.video.focus()},r.root.addEventListener("mousemove",r.mousemoveFunc),r.playFunc=function(){o.emit("focus"),o.config.closePlayVideoFocus||o.video.focus()},o.once("play",r.playFunc),setTimeout(function(){r.emit("ready")},0),r.config.videoInit&&c.default.hasClass(r.root,"xgplayer-nostart")&&r.start(),o.once("destroy",function onDestroy(){o.root.removeEventListener("mousemove",o.mousemoveFunc),o.off("destroy",onDestroy)}),r}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Player,o.default),r(Player,null,[{key:"isSupportMP4",value:function isSupportMP4(){return c.default.isSupportMP4()}}]),r(Player,[{key:"start",value:function start(e){var t=this,n=0<arguments.length&&void 0!==e?e:this.config.url,r=this.root,o=this;n&&""!==n||this.emit("urlNull"),this.logParams.playSrc=n,this.canPlayFunc=function(){var e=o.video.play();void 0!==e&&e&&e.then(function(){c.default.removeClass(o.root,"xgplayer-nostart"),o.emit("autoplay started")}).catch(function(){o.emit("autoplay was prevented"),Player.util.addClass(o.root,"xgplayer-is-autoplay")}),o.off("canplay",o.canPlayFunc)},"String"===c.default.typeOf(n)?this.video.src=n:n.forEach(function(e){t.video.appendChild(c.default.createDom("source","",{src:""+e.src,type:""+(e.type||"")}))}),this.logParams.pt=(new Date).getTime(),this.logParams.vt=this.logParams.pt,this.loadeddataFunc=function(){o.logParams.vt=(new Date).getTime(),o.logParams.pt>o.logParams.vt&&(o.logParams.pt=o.logParams.vt),o.logParams.vd=o.video.duration},this.once("loadeddata",this.loadeddataFunc),this.config.autoplay&&this.on("canplay",this.canPlayFunc),r.insertBefore(this.video,r.firstChild),setTimeout(function(){t.emit("complete")},1)}},{key:"reload",value:function reload(){this.video.load(),this.reloadFunc=function(){this.play().catch(function(e){})},this.once("loadeddata",this.reloadFunc)}},{key:"destroy",value:function destroy(e){var r=this,t=!(0<arguments.length&&void 0!==e)||e;for(var n in clearInterval(this.bulletResizeTimer),this._interval)clearInterval(this._interval[n]),this._interval[n]=null;function destroyFunc(){for(var e in this.emit("destroy"),this.video.removeAttribute("src"),this.video.load(),t&&(this.root.innerHTML="",this.root.className=""),this)delete this[e];this.off("pause",destroyFunc)}this.ev.forEach(function(e){var t=Object.keys(e)[0],n=r[e[t]];n&&r.off(t,n)}),this.loadeddataFunc&&this.off("loadeddata",this.loadeddataFunc),this.reloadFunc&&this.off("loadeddata",this.reloadFunc),this.replayFunc&&this.off("play",this.replayFunc),this.playFunc&&this.off("play",this.playFunc),["focus","blur"].forEach(function(e){r.off(e,r["on"+e.charAt(0).toUpperCase()+e.slice(1)])}),clearTimeout(this.userTimer),clearTimeout(this.waitTimer),clearTimeout(this.sliderTimer),this.paused?destroyFunc.call(this):(this.pause(),this.once("pause",destroyFunc)),function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(n):void 0}(Player.prototype.__proto__||Object.getPrototypeOf(Player.prototype),"destroy",this).call(this)}},{key:"replay",value:function replay(){var e=this,t=this._replay;c.default.removeClass(this.root,"xgplayer-ended"),this.logParams={bc:0,bu_acu_t:0,played:[],pt:(new Date).getTime(),vt:(new Date).getTime(),vd:0},this.logParams.pt=(new Date).getTime(),this.logParams.vt=this.logParams.pt,this.replayFunc=function(){e.logParams.vt=(new Date).getTime(),e.logParams.pt>e.logParams.vt&&(e.logParams.pt=e.logParams.vt),e.logParams.vd=e.video.duration},this.once("play",this.replayFunc),this.logParams.playSrc=this.video.currentSrc,t&&t instanceof Function?t():(this.currentTime=0,this.play().catch(function(e){}))}},{key:"pluginsCall",value:function pluginsCall(){var n=this,r=this;if(Player.plugins){var o=this.config.ignores;Object.keys(Player.plugins).forEach(function(t){var e=Player.plugins[t];o.some(function(e){return t===e})||(["pc","tablet","mobile"].some(function(e){return e===t})?t===a.default.device&&setTimeout(function(){e.call(r,r)},0):e.call(n,n))})}}},{key:"getPIP",value:function getPIP(e,t){var n=0<arguments.length&&void 0!==e?e:320,r=1<arguments.length&&void 0!==t?t:180,o=this.root.getBoundingClientRect(),i=o.top,a=o.left,s=c.default.createDom("xg-pip-lay","<div></div>",{},"xgplayer-pip-lay");this.root.appendChild(s);var l=c.default.createDom("xg-pip-drag",'<div class="drag-handle"><span>点击按住可拖动视频</span></div>',{tabindex:9},"xgplayer-pip-drag");this.root.appendChild(l);new d.default(".xgplayer",{handle:".drag-handle"});c.default.addClass(this.root,"xgplayer-pip-active"),this.root.style.width=n+"px",this.root.style.height=r+"px",this.root.style.right=0,this.root.style.bottom="200px",this.root.style.top="",this.root.style.left="",this.config.fluid&&(this.root.style["padding-top"]="");var u=this;["click","touchstart"].forEach(function(e){s.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),u.exitPIP(),u.root.style.top=i+"px",u.root.style.left=a+"px"})})}},{key:"exitPIP",value:function exitPIP(){c.default.removeClass(this.root,"xgplayer-pip-active"),this.root.style.right="",this.root.style.bottom="",this.root.style.top="",this.root.style.left="",this.config.fluid?(this.root.style.width="100%",this.root.style.height="0",this.root.style["padding-top"]=100*this.config.height/this.config.width+"%"):(this.config.width&&("number"!=typeof this.config.width?this.root.style.width=this.config.width:this.root.style.width=this.config.width+"px"),this.config.height&&("number"!=typeof this.config.height?this.root.style.height=this.config.height:this.root.style.height=this.config.height+"px"))}},{key:"clearWaitTimer",value:function clearWaitTimer(){this.waitTimer&&(window.clearTimeout(this.waitTimer),this.waitTimer=null)}},{key:"onFocus",value:function onFocus(){var e=this;c.default.removeClass(this.root,"xgplayer-inactive"),e.userTimer&&clearTimeout(e.userTimer),e.userTimer=setTimeout(function(){e.emit("blur")},e.config.inactive)}},{key:"onBlur",value:function onBlur(){this.paused||this.ended||c.default.addClass(this.root,"xgplayer-inactive")}},{key:"onPlay",value:function onPlay(){c.default.addClass(this.root,"xgplayer-playing"),c.default.removeClass(this.root,"xgplayer-pause")}},{key:"onPause",value:function onPause(){c.default.addClass(this.root,"xgplayer-pause"),this.userTimer&&clearTimeout(this.userTimer),this.emit("focus")}},{key:"onEnded",value:function onEnded(){c.default.addClass(this.root,"xgplayer-ended"),c.default.removeClass(this.root,"xgplayer-playing")}},{key:"onTimeupdate",value:function onTimeupdate(){(this.isLoading||this.waitTimer&&!this.isSeeking)&&this.checkBuffer()&&(this.clearWaitTimer(),c.default.removeClass(this.root,"xgplayer-isloading"),this.isLoading=!1),!this._hasStart&&this.paused?c.default.removeClass(this.root,"xgplayer-is-enter xgplayer-start-appear"):c.default.removeClass(this.root,"xgplayer-is-enter xgplayer-nostart xgplayer-start-appear")}},{key:"onSeeking",value:function onSeeking(){this.isSeeking=!0,this.onWaiting()}},{key:"onSeeked",value:function onSeeked(){this.isSeeking=!1,this.isLoading=!1,this.waitTimer&&this.clearWaitTimer(),c.default.removeClass(this.root,"xgplayer-isloading")}},{key:"onWaiting",value:function onWaiting(){if(this._hasStart||!this.paused){var e=this;e.waitTimer&&(this.clearWaitTimer(),this.isLoading=!1),e.waitTimer=setTimeout(function(){c.default.addClass(e.root,"xgplayer-isloading"),e.isLoading=!0,e.clearWaitTimer()},800)}}},{key:"onPlaying",value:function onPlaying(){this.isSeeking=!1,this.isLoading=!1,this.waitTimer&&this.clearWaitTimer(),c.default.removeClass(this.root,"xgplayer-isloading xgplayer-pause xgplayer-ended xgplayer-is-error xgplayer-replay"),c.default.addClass(this.root,"xgplayer-playing")}},{key:"checkBuffer",value:function checkBuffer(){var e=this.video.buffered,t=this.currentTime,n=e.length;return 0<n&&e.start([n-1])<=t&&e.end([n-1])>t?(console.log("checkBuffer true"),!0):(console.log("checkBuffer false"),!1)}}],[{key:"install",value:function install(e,t){Player.plugins||(Player.plugins={}),Player.plugins[e]=t}}]),Player}();u.util=c.default,u.sniffer=a.default,u.Errors=s.default,t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r=n(21)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict";e.exports=function(e){return null!=e}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var util={createDom:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",i=document.createElement(r);return i.className=t,i.innerHTML=e,Object.keys(o).forEach(function(e){var t=e,n=o[e];("video"!==r&&"audio"!==r||n)&&i.setAttribute(t,n)}),i},hasClass:function(e,t){return e.classList?Array.prototype.some.call(e.classList,function(e){return e===t}):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(t,e){t.classList?e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(e){e&&t.classList.add(e)}):util.hasClass(t,e)||(t.className+=" "+e)},removeClass:function(n,e){n.classList?e.split(/\s+/g).forEach(function(e){n.classList.remove(e)}):util.hasClass(n,e)&&e.split(/\s+/g).forEach(function(e){var t=new RegExp("(\\s|^)"+e+"(\\s|$)");n.className=n.className.replace(t," ")})},toggleClass:function(t,e){e.split(/\s+/g).forEach(function(e){util.hasClass(t,e)?util.removeClass(t,e):util.addClass(t,e)})},findDom:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,n=arguments[1],r=void 0;try{r=t.querySelector(n)}catch(e){n.startsWith("#")&&(r=t.getElementById(n.slice(1)))}return r},padStart:function(e,t,n){for(var r=String(n),o=t>>0,i=Math.ceil(o/r.length),a=[],s=String(e);i--;)a.push(r);return a.join("").substring(0,o-s.length)+s},format:function(e){if(window.isNaN(e))return"";var t=util.padStart(Math.floor(e/3600),2,0),n=util.padStart(Math.floor((e-3600*t)/60),2,0),r=util.padStart(Math.floor(e-3600*t-60*n),2,0);return("00"===t?[n,r]:[t,n,r]).join(":")},event:function(e){if(e.touches){var t=e.touches[0]||e.changedTouches[0];e.clientX=t.clientX||0,e.clientY=t.clientY||0,e.offsetX=t.pageX-t.target.offsetLeft,e.offsetY=t.pageY-t.target.offsetTop}e._target=e.target||e.srcElement},typeOf:function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},deepCopy:function(t,n){if("Object"===util.typeOf(n)&&"Object"===util.typeOf(t))return Object.keys(n).forEach(function(e){"Object"!==util.typeOf(n[e])||n[e]instanceof Node?"Array"===util.typeOf(n[e])?t[e]="Array"===util.typeOf(t[e])?t[e].concat(n[e]):n[e]:t[e]=n[e]:t[e]?util.deepCopy(t[e],n[e]):t[e]=n[e]}),t},getBgImage:function(e){var t=(e.currentStyle||window.getComputedStyle(e,null)).backgroundImage;if(!t||"none"===t)return"";var n=document.createElement("a");return n.href=t.replace(/url\("|"\)/g,""),n.href},copyDom:function(e){if(e&&1===e.nodeType){var t=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,function(e){t.setAttribute(e.name,e.value)}),e.innerHTML&&(t.innerHTML=e.innerHTML),t}return""},setInterval:function(e,t,n,r){e._interval[t]||(e._interval[t]=setInterval(n.bind(e),r))},clearInterval:function(e,t){clearInterval(e._interval[t]),e._interval[t]=null},createImgBtn:function(e,t,n,r){var o=util.createDom("xg-"+e,"",{},"xgplayer-"+e+"-img");if(o.style.backgroundImage='url("'+t+'")',n&&r){var i=void 0,a=void 0,s=void 0;["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(e){return!(-1<n.indexOf(e)&&-1<r.indexOf(e))||(i=parseFloat(n.slice(0,n.indexOf(e)).trim()),a=parseFloat(r.slice(0,r.indexOf(e)).trim()),s=e,!1)}),o.style.width=""+i+s,o.style.height=""+a+s,o.style.backgroundSize=""+i+s+" "+a+s,o.style.margin="start"===e?"-"+a/2+s+" auto auto -"+i/2+s:"auto 5px auto 5px"}return o},Hex2RGBA:function(hex,alpha){var rgb=[];if(/^\#[0-9A-F]{3}$/i.test(hex)){var sixHex="#";hex.replace(/[0-9A-F]/gi,function(e){sixHex+=e+e}),hex=sixHex}return/^#[0-9A-F]{6}$/i.test(hex)?(hex.replace(/[0-9A-F]{2}/gi,function(kw){rgb.push(eval("0x"+kw))}),"rgba("+rgb.join(",")+", "+alpha+")"):"rgba(255, 255, 255, 0.1)"},isSupportMP4:function(){var e=[{key:"Trident",reg:/(rv:)([\d.]+)/},{key:"Trident",reg:/(msie)\s*([\d.]+)/},{key:"Chrome",reg:/(chrome)\/([\d.]+)/}],t=navigator.userAgent.toLowerCase(),n=null,r={};for(var o in e)if(n=e[o].reg.exec(t)){var i=e[o].key;r["is"+i]=i,r.name=i,r.appVersion=2<n.length?n[2]:"";break}if((!r.isChrome||"77.0.3835.0"!==r.appVersion&&"76.0.3790.0"!==r.appVersion)&&!r.isTrident)return!0;var a=document.createElement("video"),s={isSupport:!1,mime:""};return"function"==typeof a.canPlayType?["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","mp4v.20.240","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"].map(function(e){"probably"===a.canPlayType('video/mp4; codecs="'+e+'"')&&(s.isSupport=!0,s.mime+="||"+e)}):a=null,s.isSupport}};exports.default=util,module.exports=exports.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),c=n(5);var d={network:{code:1,msg:"视频下载错误",remark:"只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在"},mse:{code:2,msg:"流追加错误",remark:"追加流的时候如果类型不对、无法被正确解码则会触发此类错误"},parse:{code:3,msg:"解析错误",remark:"mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误"},format:{code:4,msg:"格式错误",remark:"如果浏览器不支持的格式导致播放错误"},decoder:{code:5,msg:"解码错误",remark:"浏览器解码异常会抛出此类型错误"},runtime:{code:6,msg:"语法错误",remark:"播放器语法错误"},timeout:{code:7,msg:"播放超时",remark:"播放过程中无法正常请求下一个分段导致播放中断"},other:{code:8,msg:"其他错误",remark:"不可知的错误或被忽略的错误类型"}},o=function(){function Errors(e,t,n,r,o,i,a,s){var l=8<arguments.length&&void 0!==arguments[8]?arguments[8]:{line:"",handle:"",msg:"",version:""};!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Errors);var u={};return 3<=arguments.length&&arguments.length<5?(u.playerVersion=c.version,u.errorType=e,u.code=t,u.errd=n||{},u.ex=(u.errd||{}).msg,u.domain=document.domain):(u.playerVersion=c.version,u.errorType=e,u.domain=document.domain,u.duration=n,u.currentTime=t,u.networkState=r,u.readyState=o,u.currentSrc=a,u.src=i,u.ended=s,u.errd=l||{},u.ex=(d[e]||{}).msg,u.code=u.errd.code),u}return r(Errors,null,[{key:"ErrorTypes",get:function get(){return d}}]),Errors}();t.default=o,e.exports=t.default},function(e){e.exports=JSON.parse('{"name":"xgplayer","version":"1.3.7","description":"video player","main":"./dist/index.js","scripts":{"build":"webpack --progress --display-chunks -p","prepare":"npm run build","test":"karma start --single-run","test:watch":"karma start","analyze":"webpack --analyze --progress --display-chunks -p","watch":"webpack --progress --display-chunks -p --watch --mode development"},"keywords":["video","player"],"babel":{"presets":["es2015"],"plugins":["add-module-exports","babel-plugin-bulk-import"]},"browserslist":["> 5%","IE 9","iOS 7","Firefox > 20"],"repository":{"type":"git","url":"git+https://github.com/bytedance/xgplayer.git"},"author":"yinguohui@bytedance.com","license":"MIT","dependencies":{"danmu.js":"^0.2.9","deepmerge":"^1.5.0","downloadjs":"1.4.7","draggabilly":"^2.2.0","event-emitter":"^0.3.5","pasition":"^1.0.1","request-frame":"^1.5.3","standard":"^14.3.1"},"devDependencies":{"autoprefixer":"^9.1.5","babel-core":"^6.26.3","babel-loader":"^7.1.4","babel-plugin-add-module-exports":"^0.2.1","babel-plugin-bulk-import":"^1.0.2","babel-plugin-transform-object-rest-spread":"^6.26.0","babel-plugin-transform-runtime":"^6.23.0","babel-preset-es2015":"^6.24.1","chai":"^4.1.2","core-js":"^2.5.4","css-loader":"^0.28.11","json-loader":"^0.5.7","karma":"^3.0.0","karma-chrome-launcher":"^2.2.0","karma-mocha":"^1.3.0","karma-sourcemap-loader":"^0.3.7","karma-spec-reporter":"0.0.32","karma-webpack":"^4.0.0-rc.1","mocha":"^5.2.0","node-sass":"^4.8.3","postcss-cssnext":"^3.1.0","postcss-loader":"^2.1.5","sass-loader":"^6.0.7","style-loader":"^0.20.3","sugarss":"^1.0.1","uglifyjs-webpack-plugin":"^2.2.0","webpack":"^4.11.0","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.0.2","zlib":"^1.0.5"}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={get device(){return r.os.isPc?"pc":"mobile"},get browser(){var t=navigator.userAgent.toLowerCase(),n={ie:/rv:([\d.]+)\) like gecko/,firfox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(n).filter(function(e){return n[e].test(t)}))[0]},get os(){var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),n=/(?:SymbianOS)/.test(e)||t,r=/(?:Android)/.test(e),o=/(?:Firefox)/.test(e),i=/(?:iPad|PlayBook)/.test(e)||r&&!/(?:Mobile)/.test(e)||o&&/(?:Tablet)/.test(e),a=/(?:iPhone)/.test(e)&&!i;return{isTablet:i,isPhone:a,isAndroid:r,isPc:!(a||r||n||i),isSymbian:n,isWindowsPhone:t,isFireFox:o}}};t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(34));n(35);var i=function(){function SVG(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SVG),this.from=e.from,this.to=e.to,this.easing=e.easing||function(e){return e*e},this.duration=e.duration||150,this.curPath="",this.progress=e.progress,this.state=0}return r(SVG,[{key:"animate",value:function animate(){var n=this,r=new Date,o=n.duration,i=null,e=n.path2shapes(n.from),a=n.path2shapes(n.to),s=n._preprocessing(e,a);n.state=1;!function tick(){var e=new Date-r;if(o<=e||2===n.state)return i=a,n.progress(i,1),window.cancelAnimationFrame(n.tickId),void(n.state=0);var t=n.easing(e/o);i=n._lerp(s[0],s[1],t),n.progress(i,t),n.tickId=window.requestAnimationFrame(tick)}()}},{key:"toSVGString",value:function toSVGString(e){return e.map(function(e){return e.forEach(function(e,t){t?e.splice(0,2,"C"):(e.splice(2,0,"C"),e.unshift("M"))}),e.map(function(e){return e.join(" ")}).join("")}).join("")}},{key:"start",value:function start(){this.animate()}},{key:"stop",value:function stop(){0!==this.state&&(this.state=2),window.cancelAnimationFrame(self.tickId),this.state=0}},{key:"reverse",value:function reverse(){0!==this.state&&this.stop();var e=this.from;this.from=this.to,this.to=e,this.animate()}},{key:"reset",value:function reset(e,t){var n=1<arguments.length&&void 0!==t?t:this.from;0!==this.state&&this.stop(),this.from=n,this.to=e,this.animate()}}]),SVG}();for(var a in o.default)o.default[a]instanceof Function&&!i.prototype[a]&&(i.prototype[a]=o.default[a]);t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),l=_interopRequireDefault(n(9)),u=_interopRequireDefault(n(3)),o=_interopRequireDefault(n(4));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=navigator.userAgent,a=(-1<i.indexOf("Safari")&&i.indexOf("mac"),function(){function Proxy(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Proxy),this.logParams={bc:0,bu_acu_t:0,played:[]},this._hasStart=!1,this._seekingTimer=null,this.videoConfig={controls:!1,autoplay:e.autoplay,playsinline:e.playsinline,"webkit-playsinline":e.playsinline,"x5-playsinline":e.playsinline,"x5-video-player-type":e["x5-video-player-type"],"x5-video-player-fullscreen":e["x5-video-player-fullscreen"],"x5-video-orientation":e["x5-video-orientation"],airplay:e.airplay,"webkit-airplay":e.airplay,tabindex:2,mediaType:e.mediaType||"video"},e.loop&&(this.videoConfig.loop="loop"),e.crossorigin&&(this.videoConfig.crossorigin="anonymous");var t="";if(e.textTrack&&Array.isArray(e.textTrack)&&(-1<navigator.userAgent.indexOf("Chrome")||-1<navigator.userAgent.indexOf("Firefox"))&&(e.textTrack.some(function(e){if(e.src&&e.label&&e.default)return t+='<track src="'+e.src+'" ',e.kind&&(t+='kind="'+e.kind+'" '),t+='label="'+e.label+'" ',e.srclang&&(t+='srclang="'+e.srclang+'" '),t+=(e.default?"default":"")+">",!0}),this.videoConfig.crossorigin="anonymous"),e.textTrackStyle){var n=document.createElement("style");this.textTrackStyle=n,document.head.appendChild(n);var r="";for(var o in e.textTrackStyle)r+=o+": "+e.textTrackStyle[o]+";";var i=e.id?"#"+e.id:e.el.id?"#"+e.el.id:"."+e.el.className;n.sheet.insertRule?n.sheet.insertRule(i+" video::cue { "+r+" }",0):n.sheet.addRule&&n.sheet.addRule(i+" video::cue",r)}this.video=u.default.createDom(this.videoConfig.mediaType,t,this.videoConfig,""),e.autoplay&&(this.video.autoplay=!0,e.autoplayMuted&&(this.video.muted=!0)),this.ev=["play","playing","pause","ended","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","canplaythrough"].map(function(e){return function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,"on"+e.charAt(0).toUpperCase()+e.slice(1))}),(0,l.default)(this),this._interval={};var a="0,0",s=this;this.ev.forEach(function(e){s.evItem=Object.keys(e)[0];var t=Object.keys(e)[0];s.video.addEventListener(Object.keys(e)[0],function(){s.logParams&&("play"===t?s.hasStart=!0:"waiting"===t?(s.logParams.bc++,s.inWaitingStart=(new Date).getTime()):"playing"===t?s.inWaitingStart&&(s.logParams.bu_acu_t+=(new Date).getTime()-s.inWaitingStart,s.inWaitingStart=void 0):"loadeddata"===t?s.logParams.played.push({begin:0,end:-1}):"seeking"===t?s.logParams.played.push({begin:s.video.currentTime,end:-1}):s&&s.logParams&&s.logParams.played&&"timeupdate"===t&&(s.logParams.played.length<1&&s.logParams.played.push({begin:s.video.currentTime,end:-1}),s.logParams.played[s.logParams.played.length-1].end=s.video.currentTime),"error"===t?s._onError():s.emit(t,s),s.hasOwnProperty("_interval")&&(["ended","error","timeupdate"].indexOf(t)<0?(clearInterval(s._interval.bufferedChange),u.default.setInterval(s,"bufferedChange",function(){for(var e=[],t=0,n=s.video.buffered.length;t<n;t++)e.push([s.video.buffered.start(t),s.video.buffered.end(t)]);e.toString()!==a&&(a=e.toString(),s.emit("bufferedChange",e))},200)):"timeupdate"!==t&&u.default.clearInterval(s,"bufferedChange")))},!1)})}return r(Proxy,[{key:"_onError",value:function _onError(){var e=this;e.video.error&&e.emit("error",new o.default("other",e.currentTime,e.duration,e.networkState,e.readyState,e.currentSrc,e.src,e.ended,{line:41,msg:e.error,handle:"Constructor",code:e.errorCode}))}},{key:"destroy",value:function destroy(){this.textTrackStyle&&this.textTrackStyle.parentNode.removeChild(this.textTrackStyle)}},{key:"play",value:function play(){return this.video.play()}},{key:"pause",value:function pause(){this.video.pause()}},{key:"canPlayType",value:function canPlayType(){this.video.canPlayType()}},{key:"getBufferedRange",value:function getBufferedRange(){var e=[0,0],t=this.video,n=t.buffered,r=t.currentTime;if(n)for(var o=0,i=n.length;o<i&&(e[0]=n.start(o),e[1]=n.end(o),!(e[0]<=r&&r<=e[1]));o++);return e[0]-r<=0&&r-e[1]<=0?e:[0,0]}},{key:"hasStart",get:function get(){return this._hasStart},set:function set(e){"boolean"!=typeof e||!0!==e||this._hasStart||(this._hasStart=!0,this.emit("hasstart"))}},{key:"autoplay",set:function set(e){this.video.autoplay=e},get:function get(){return this.video.autoplay}},{key:"buffered",get:function get(){return this.video.buffered}},{key:"crossOrigin",get:function get(){return this.video.crossOrigin},set:function set(e){this.video.crossOrigin=e}},{key:"currentSrc",get:function get(){return this.video.currentSrc},set:function set(e){this.video.currentSrc=e}},{key:"currentTime",get:function get(){return this.video.currentTime},set:function set(e){"function"==typeof isFinite&&!isFinite(e)||(this.video.currentTime=e,this.emit("currentTimeChange"))}},{key:"defaultMuted",get:function get(){return this.video.defaultMuted},set:function set(e){this.video.defaultMuted=e}},{key:"duration",get:function get(){return this.video.duration}},{key:"ended",get:function get(){return this.video.ended}},{key:"error",get:function get(){var e=this.video.error;if(!e)return null;var t=[{en:"MEDIA_ERR_ABORTED",cn:"取回过程被用户中止"},{en:"MEDIA_ERR_NETWORK",cn:"当下载时发生错误"},{en:"MEDIA_ERR_DECODE",cn:"当解码时发生错误"},{en:"MEDIA_ERR_SRC_NOT_SUPPORTED",cn:"不支持音频/视频"}];return this.lang?this.lang[t[e.code-1].en]:t[e.code-1].en}},{key:"errorCode",get:function get(){return this.video.error.code}},{key:"loop",get:function get(){return this.video.loop},set:function set(e){this.video.loop=e}},{key:"muted",get:function get(){return this.video.muted},set:function set(e){this.video.muted=e}},{key:"networkState",get:function get(){var e=[{en:"NETWORK_EMPTY",cn:"音频/视频尚未初始化"},{en:"NETWORK_IDLE",cn:"音频/视频是活动的且已选取资源，但并未使用网络"},{en:"NETWORK_LOADING",cn:"浏览器正在下载数据"},{en:"NETWORK_NO_SOURCE",cn:"未找到音频/视频来源"}];return this.lang?this.lang[e[this.video.networkState].en]:e[this.video.networkState].en}},{key:"paused",get:function get(){return this.video.paused}},{key:"playbackRate",get:function get(){return this.video.playbackRate},set:function set(e){this.video.playbackRate=e}},{key:"played",get:function get(){return this.video.played}},{key:"preload",get:function get(){return this.video.preload},set:function set(e){this.video.preload=e}},{key:"readyState",get:function get(){var e=[{en:"HAVE_NOTHING",cn:"没有关于音频/视频是否就绪的信息"},{en:"HAVE_METADATA",cn:"关于音频/视频就绪的元数据"},{en:"HAVE_CURRENT_DATA",cn:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒"},{en:"HAVE_FUTURE_DATA",cn:"当前及至少下一帧的数据是可用的"},{en:"HAVE_ENOUGH_DATA",cn:"可用数据足以开始播放"}];return this.lang?this.lang[e[this.video.readyState].en]:e[this.video.readyState]}},{key:"seekable",get:function get(){return this.video.seekable}},{key:"seeking",get:function get(){return this.video.seeking}},{key:"src",get:function get(){return this.video.src},set:function set(e){var t=this;u.default.hasClass(this.root,"xgplayer-ended")||this.emit("urlchange",JSON.parse(JSON.stringify(t.logParams))),this.logParams={bc:0,bu_acu_t:0,played:[],pt:(new Date).getTime(),vt:(new Date).getTime(),vd:0},this.video.pause(),this.video.src=e,this.emit("srcChange"),this.logParams.playSrc=e,this.logParams.pt=(new Date).getTime(),this.logParams.vt=this.logParams.pt,this.once("loadeddata",function ldFunc(){t.logParams.vt=(new Date).getTime(),t.logParams.pt>t.logParams.vt&&(t.logParams.pt=t.logParams.vt),t.logParams.vd=t.video.duration,t.off("loadeddata",ldFunc)})}},{key:"volume",get:function get(){return this.video.volume},set:function set(e){this.video.volume=e}},{key:"fullscreen",get:function get(){return u.default.hasClass(this.root,"xgplayer-is-fullscreen")||u.default.hasClass(this.root,"xgplayer-fullscreen-active")}},{key:"bullet",get:function get(){return!!u.default.findDom(this.root,"xg-bullet")&&u.default.hasClass(u.default.findDom(this.root,"xg-bullet"),"xgplayer-has-bullet")}},{key:"textTrack",get:function get(){return u.default.hasClass(this.root,"xgplayer-is-textTrack")}},{key:"pip",get:function get(){return u.default.hasClass(this.root,"xgplayer-pip-active")}}]),Proxy}());t.default=a,e.exports=t.default},function(e,t,n){"use strict";var o,r,i,a,s,l,u,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n(10),p=n(27),f=Function.prototype.apply,h=Function.prototype.call,g=Object.create,y=Object.defineProperty,v=Object.defineProperties,m=Object.prototype.hasOwnProperty,b={configurable:!0,enumerable:!1,writable:!0};r=function once(e,t){var n,r;return p(t),o.call(r=this,e,n=function once(){i.call(r,e,n),f.call(t,this,arguments)}),n.__eeOnceListener__=t,this},s={on:o=function on(e,t){var n;return p(t),m.call(this,"__ee__")?n=this.__ee__:(n=b.value=g(null),y(this,"__ee__",b),b.value=null),n[e]?"object"===c(n[e])?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:r,off:i=function off(e,t){var n,r,o,i;if(p(t),!m.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"===(void 0===(r=n[e])?"undefined":c(r)))for(i=0;o=r[i];++i)o!==t&&o.__eeOnceListener__!==t||(2===r.length?n[e]=r[i?0:1]:r.splice(i,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},emit:a=function emit(e,t,n){var r,o,i,a,s;if(m.call(this,"__ee__")&&(a=this.__ee__[e]))if("object"===(void 0===a?"undefined":c(a))){for(o=arguments.length,s=new Array(o-1),r=1;r<o;++r)s[r-1]=arguments[r];for(a=a.slice(),r=0;i=a[r];++r)f.call(i,this,s)}else switch(arguments.length){case 1:h.call(a,this);break;case 2:h.call(a,this,t);break;case 3:h.call(a,this,t,n);break;default:for(o=arguments.length,s=new Array(o-1),r=1;r<o;++r)s[r-1]=arguments[r];f.call(a,this,s)}}},l={on:d(o),once:d(r),off:d(i),emit:d(a)},u=v({},l),e.exports=t=function exports(e){return null==e?g(u):v(Object(e),l)},t.methods=s},function(e,t,n){"use strict";var s=n(2),l=n(11),u=n(15),c=n(23),d=n(24);(e.exports=function(e,t){var n,r,o,i,a;return arguments.length<2||"string"!=typeof e?(i=t,t=e,e=null):i=arguments[2],s(e)?(n=d.call(e,"c"),r=d.call(e,"e"),o=d.call(e,"w")):(n=o=!0,r=!1),a={value:t,configurable:n,enumerable:r,writable:o},i?u(c(i),a):a}).gs=function(e,t,n){var r,o,i,a;return"string"!=typeof e?(i=n,n=t,t=e,e=null):i=arguments[3],s(t)?l(t)?s(n)?l(n)||(i=n,n=void 0):n=void 0:(i=t,t=n=void 0):t=void 0,o=s(e)?(r=d.call(e,"c"),d.call(e,"e")):!(r=!0),a={get:t,set:n,configurable:r,enumerable:o},i?u(c(i),a):a}},function(e,t,n){"use strict";var r=n(12),o=/^\s*class[\s{/}]/,i=Function.prototype.toString;e.exports=function(e){return!!r(e)&&!o.test(i.call(e))}},function(e,t,n){"use strict";var r=n(13);e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!r(e)}},function(e,t,n){"use strict";var r=n(14);e.exports=function(e){if(!r(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch(e){return!1}}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(2),i={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!o(e)&&hasOwnProperty.call(i,void 0===e?"undefined":r(e))}},function(e,t,n){"use strict";e.exports=n(16)()?Object.assign:n(17)},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var a=n(18),s=n(22),l=Math.max;e.exports=function(t,n){var r,e,o,i=l(arguments.length,2);for(t=Object(s(t)),o=function assign(e){try{t[e]=n[e]}catch(e){r=r||e}},e=1;e<i;++e)a(n=arguments[e]).forEach(o);if(void 0!==r)throw r;return t}},function(e,t,n){"use strict";e.exports=n(19)()?Object.keys:n(20)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(1),o=Object.keys;e.exports=function(e){return o(r(e)?Object(e):e)}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";var r=n(1),o=Array.prototype.forEach,i=Object.create;e.exports=function(e){var t=i(null);return o.call(arguments,function(e){r(e)&&function process(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t}},function(e,t,n){"use strict";e.exports=n(25)()?String.prototype.contains:n(26)},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return-1<r.call(this,e,arguments[1])}},function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var o=function(){function INDEXDB(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,INDEXDB),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=e}return r(INDEXDB,[{key:"openDB",value:function openDB(t){var n=this,r=this,e=this.myDB.version||1,o=r.indexedDB.open(r.myDB.name,e);o.onerror=function(e){},o.onsuccess=function(e){n.myDB.db=e.target.result,t.call(r)},o.onupgradeneeded=function(e){var t=e.target.result;e.target.transaction;t.objectStoreNames.contains(r.myDB.ojstore.name)||t.createObjectStore(r.myDB.ojstore.name,{keyPath:r.myDB.ojstore.keypath})}}},{key:"deletedb",value:function deletedb(){this.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function closeDB(){this.myDB.db.close()}},{key:"addData",value:function addData(e,t){for(var n=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=void 0,o=0;o<t.length;o++)(r=n.add(t[o])).onerror=function(){},r.onsuccess=function(){}}},{key:"putData",value:function putData(e,t){for(var n=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=void 0,o=0;o<t.length;o++)(r=n.put(t[o])).onerror=function(){},r.onsuccess=function(){}}},{key:"getDataByKey",value:function getDataByKey(e,t,n){var r=this,o=this.myDB.db.transaction(e,"readwrite").objectStore(e).get(t);o.onerror=function(){n.call(r,null)},o.onsuccess=function(e){var t=e.target.result;n.call(r,t)}}},{key:"deleteData",value:function deleteData(e,t){this.myDB.db.transaction(e,"readwrite").objectStore(e).delete(t)}},{key:"clearData",value:function clearData(e){this.myDB.db.transaction(e,"readwrite").objectStore(e).clear()}}]),INDEXDB}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";var o,i;
/*!
 * Draggabilly v2.2.0
 * Make that shiz draggable
 * https://draggabilly.desandro.com
 * MIT license
 */
!function(n){o=[r(30),r(31)],void 0===(i=function(e,t){return function factory(i,l,e){"use strict";function extend(e,t){for(var n in t){e[n]=t[n]}return e}function noop(){}var n=i.jQuery;function Draggabilly(e,t){this.element=typeof e=="string"?document.querySelector(e):e;if(n){this.$element=n(this.element)}this.options=extend({},this.constructor.defaults);this.option(t);this._create()}var t=Draggabilly.prototype=Object.create(e.prototype);Draggabilly.defaults={},t.option=function(e){extend(this.options,e)};var r={relative:true,absolute:true,fixed:true};function applyGrid(e,t,n){n=n||"round";return t?Math[n](e/t)*t:e}if(t._create=function(){this.position={};this._getPosition();this.startPoint={x:0,y:0};this.dragPoint={x:0,y:0};this.startPosition=extend({},this.position);var e=getComputedStyle(this.element);if(!r[e.position]){this.element.style.position="relative"}this.on("pointerDown",this.onPointerDown);this.on("pointerMove",this.onPointerMove);this.on("pointerUp",this.onPointerUp);this.enable();this.setHandles()},t.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element];this.bindHandles()},t.dispatchEvent=function(e,t,n){var r=[t].concat(n);this.emitEvent(e,r);this.dispatchJQueryEvent(e,t,n)},t.dispatchJQueryEvent=function(e,t,n){var r=i.jQuery;if(!r||!this.$element){return}var o=r.Event(t);o.type=e;this.$element.trigger(o,n)},t._getPosition=function(){var e=getComputedStyle(this.element);var t=this._getPositionCoord(e.left,"width");var n=this._getPositionCoord(e.top,"height");this.position.x=isNaN(t)?0:t;this.position.y=isNaN(n)?0:n;this._addTransformPosition(e)},t._getPositionCoord=function(e,t){if(e.indexOf("%")!=-1){var n=l(this.element.parentNode);return!n?0:parseFloat(e)/100*n[t]}return parseInt(e,10)},t._addTransformPosition=function(e){var t=e.transform;if(t.indexOf("matrix")!==0){return}var n=t.split(",");var r=t.indexOf("matrix3d")===0?12:4;var o=parseInt(n[r],10);var i=parseInt(n[r+1],10);this.position.x+=o;this.position.y+=i},t.onPointerDown=function(e,t){this.element.classList.add("is-pointer-down");this.dispatchJQueryEvent("pointerDown",e,[t])},t.dragStart=function(e,t){if(!this.isEnabled){return}this._getPosition();this.measureContainment();this.startPosition.x=this.position.x;this.startPosition.y=this.position.y;this.setLeftTop();this.dragPoint.x=0;this.dragPoint.y=0;this.element.classList.add("is-dragging");this.dispatchEvent("dragStart",e,[t]);this.animate()},t.measureContainment=function(){var e=this.getContainer();if(!e){return}var t=l(this.element);var n=l(e);var r=this.element.getBoundingClientRect();var o=e.getBoundingClientRect();var i=n.borderLeftWidth+n.borderRightWidth;var a=n.borderTopWidth+n.borderBottomWidth;var s=this.relativeStartPosition={x:r.left-(o.left+n.borderLeftWidth),y:r.top-(o.top+n.borderTopWidth)};this.containSize={width:n.width-i-s.x-t.width,height:n.height-a-s.y-t.height}},t.getContainer=function(){var e=this.options.containment;if(!e){return}var t=e instanceof HTMLElement;if(t){return e}if(typeof e=="string"){return document.querySelector(e)}return this.element.parentNode},t.onPointerMove=function(e,t,n){this.dispatchJQueryEvent("pointerMove",e,[t,n])},t.dragMove=function(e,t,n){if(!this.isEnabled){return}var r=n.x;var o=n.y;var i=this.options.grid;var a=i&&i[0];var s=i&&i[1];r=applyGrid(r,a);o=applyGrid(o,s);r=this.containDrag("x",r,a);o=this.containDrag("y",o,s);r=this.options.axis=="y"?0:r;o=this.options.axis=="x"?0:o;this.position.x=this.startPosition.x+r;this.position.y=this.startPosition.y+o;this.dragPoint.x=r;this.dragPoint.y=o;this.dispatchEvent("dragMove",e,[t,n])},t.containDrag=function(e,t,n){if(!this.options.containment){return t}var r=e=="x"?"width":"height";var o=this.relativeStartPosition[e];var i=applyGrid(-o,n,"ceil");var a=this.containSize[r];a=applyGrid(a,n,"floor");return Math.max(i,Math.min(a,t))},t.onPointerUp=function(e,t){this.element.classList.remove("is-pointer-down");this.dispatchJQueryEvent("pointerUp",e,[t])},t.dragEnd=function(e,t){if(!this.isEnabled){return}this.element.style.transform="";this.setLeftTop();this.element.classList.remove("is-dragging");this.dispatchEvent("dragEnd",e,[t])},t.animate=function(){if(!this.isDragging){return}this.positionDrag();var e=this;requestAnimationFrame(function animateFrame(){e.animate()})},t.setLeftTop=function(){this.element.style.left=this.position.x+"px";this.element.style.top=this.position.y+"px"},t.positionDrag=function(){this.element.style.transform="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},t.staticClick=function(e,t){this.dispatchEvent("staticClick",e,[t])},t.setPosition=function(e,t){this.position.x=e;this.position.y=t;this.setLeftTop()},t.enable=function(){this.isEnabled=true},t.disable=function(){this.isEnabled=false;if(this.isDragging){this.dragEnd()}},t.destroy=function(){this.disable();this.element.style.transform="";this.element.style.left="";this.element.style.top="";this.element.style.position="";this.unbindHandles();if(this.$element){this.$element.removeData("draggabilly")}},t._init=noop,n&&n.bridget){n.bridget("draggabilly",Draggabilly)}return Draggabilly}(n,e,t)}.apply(t,o))||(e.exports=i)}(window)},function(e,t,n){"use strict";var r,o,x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,void 0===(o="function"==typeof(r=function factory(){"use strict";function getStyleSize(e){var t=parseFloat(e);var n=e.indexOf("%")==-1&&!isNaN(t);return n&&t}function noop(){}var n=typeof console=="undefined"?noop:function(e){console.error(e)},v=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],m=v.length;function getZeroSize(){var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var t=0;t<m;t++){var n=v[t];e[n]=0}return e}function getStyle(e){var t=getComputedStyle(e);if(!t){n("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? "+"See https://bit.ly/getsizebug1")}return t}var r=false,b;function setup(){if(r){return}r=true;var e=document.createElement("div");e.style.width="200px";e.style.padding="1px 2px 3px 4px";e.style.borderStyle="solid";e.style.borderWidth="1px 2px 3px 4px";e.style.boxSizing="border-box";var t=document.body||document.documentElement;t.appendChild(e);var n=getStyle(e);b=Math.round(getStyleSize(n.width))==200;getSize.isBoxSizeOuter=b;t.removeChild(e)}function getSize(e){setup();if(typeof e=="string"){e=document.querySelector(e)}if(!e||(typeof e==="undefined"?"undefined":x(e))!="object"||!e.nodeType){return}var t=getStyle(e);if(t.display=="none"){return getZeroSize()}var n={};n.width=e.offsetWidth;n.height=e.offsetHeight;var r=n.isBorderBox=t.boxSizing=="border-box";for(var o=0;o<m;o++){var i=v[o];var a=t[i];var s=parseFloat(a);n[i]=!isNaN(s)?s:0}var l=n.paddingLeft+n.paddingRight;var u=n.paddingTop+n.paddingBottom;var c=n.marginLeft+n.marginRight;var d=n.marginTop+n.marginBottom;var p=n.borderLeftWidth+n.borderRightWidth;var f=n.borderTopWidth+n.borderBottomWidth;var h=r&&b;var g=getStyleSize(t.width);if(g!==false){n.width=g+(h?0:l+p)}var y=getStyleSize(t.height);if(y!==false){n.height=y+(h?0:u+f)}n.innerWidth=n.width-(l+p);n.innerHeight=n.height-(u+f);n.outerWidth=n.width+c;n.outerHeight=n.height+d;return n}return getSize})?r.call(t,n,t,e):r)||(e.exports=o)},function(e,n,r){"use strict";var o,i;
/*!
 * Unidragger v2.3.0
 * Draggable base class
 * MIT license
 */
!function(t){o=[r(32)],void 0===(i=function(e){return function factory(i,e){"use strict";function Unidragger(){}var t=Unidragger.prototype=Object.create(e.prototype);t.bindHandles=function(){this._bindHandles(true)},t.unbindHandles=function(){this._bindHandles(false)},t._bindHandles=function(e){e=e===undefined?true:e;var t=e?"addEventListener":"removeEventListener";var n=e?this._touchActionValue:"";for(var r=0;r<this.handles.length;r++){var o=this.handles[r];this._bindStartEvent(o,e);o[t]("click",this);if(i.PointerEvent){o.style.touchAction=n}}},t._touchActionValue="none",t.pointerDown=function(e,t){var n=this.okayPointerDown(e);if(!n){return}this.pointerDownPointer=t;e.preventDefault();this.pointerDownBlur();this._bindPostStartEvents(e);this.emitEvent("pointerDown",[e,t])};var o={TEXTAREA:true,INPUT:true,SELECT:true,OPTION:true},a={radio:true,checkbox:true,button:true,submit:true,image:true,file:true};return t.okayPointerDown=function(e){var t=o[e.target.nodeName],n=a[e.target.type],r=!t||n;return r||this._pointerReset(),r},t.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},t.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},t._dragPointerMove=function(e,t){var n={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(e,t),n},t.hasDragStarted=function(e){return 3<Math.abs(e.x)||3<Math.abs(e.y)},t.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},t._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},t._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},t.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},t._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},t.dragMove=function(e,t,n){e.preventDefault(),this.emitEvent("dragMove",[e,t,n])},t._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},t.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},t.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},t._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},t.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},Unidragger.getPointerPoint=e.getPointerPoint,Unidragger}(t,e)}.apply(n,o))||(e.exports=i)}(window)},function(e,n,r){"use strict";var o,i;
/*!
 * Unipointer v2.3.0
 * base class for doing one thing with pointer event
 * MIT license
 */
!function(t){o=[r(33)],void 0===(i=function(e){return function factory(o,e){"use strict";function noop(){}function Unipointer(){}var t=Unipointer.prototype=Object.create(e.prototype);t.bindStartEvent=function(e){this._bindStartEvent(e,true)},t.unbindStartEvent=function(e){this._bindStartEvent(e,false)},t._bindStartEvent=function(e,t){t=t===undefined?true:t;var n=t?"addEventListener":"removeEventListener";var r="mousedown";if(o.PointerEvent){r="pointerdown"}else if("ontouchstart"in o){r="touchstart"}e[n](r,this)},t.handleEvent=function(e){var t="on"+e.type;if(this[t]){this[t](e)}},t.getTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.identifier==this.pointerIdentifier){return n}}},t.onmousedown=function(e){var t=e.button;if(t&&t!==0&&t!==1){return}this._pointerDown(e,e)},t.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},t.onpointerdown=function(e){this._pointerDown(e,e)},t._pointerDown=function(e,t){if(e.button||this.isPointerDown){return}this.isPointerDown=true;this.pointerIdentifier=t.pointerId!==undefined?t.pointerId:t.identifier;this.pointerDown(e,t)},t.pointerDown=function(e,t){this._bindPostStartEvents(e);this.emitEvent("pointerDown",[e,t])};var n={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return t._bindPostStartEvents=function(e){if(e){var t=n[e.type];t.forEach(function(e){o.addEventListener(e,this)},this),this._boundPointerEvents=t}},t._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){o.removeEventListener(e,this)},this),delete this._boundPointerEvents)},t.onmousemove=function(e){this._pointerMove(e,e)},t.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},t.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},t._pointerMove=function(e,t){this.pointerMove(e,t)},t.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},t.onmouseup=function(e){this._pointerUp(e,e)},t.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},t.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},t._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},t.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},t._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},t._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},t.pointerDone=function noop(){},t.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},t.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},t._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},t.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},Unipointer.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},Unipointer}(t,e)}.apply(n,o))||(e.exports=i)}(window)},function(e,t,n){"use strict";var r,o;void 0===(o="function"==typeof(r=function(){"use strict";function EvEmitter(){}var e=EvEmitter.prototype;return e.on=function(e,t){if(e&&t){var n=this._events=this._events||{},r=n[e]=n[e]||[];return-1==r.indexOf(t)&&r.push(t),this}},e.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},e.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var r=n.indexOf(t);return-1!=r&&n.splice(r,1),this}},e.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var r=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var i=n[o];r&&r[i]&&(this.off(e,i),delete r[i]),i.apply(this,t)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},EvEmitter})?r.call(t,n,t,e):r)||(e.exports=o)},function(t,n,r){"use strict";var o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"object"===a(n)&&void 0!==t?t.exports=e():void 0===(i="function"==typeof(o=e)?o.call(n,r,n,t):o)||(t.exports=i)}(function(){function Dp(e,t,n,r,o,i,a){var s=e.x,l=e.y;return{x:r*(s*=t)-o*(l*=n)+i,y:o*s+r*l+a}}function Ep(e,t){var n=4/3*Math.tan(t/4),r=Math.cos(e),o=Math.sin(e),i=Math.cos(e+t),a=Math.sin(e+t);return[{x:r-o*n,y:o+r*n},{x:i+a*n,y:a-i*n},{x:i,y:a}]}function Fp(e,t,n,r){var o=e*r-t*n<0?-1:1,i=(e*n+t*r)/(Math.sqrt(e*e+t*t)*Math.sqrt(e*e+t*t));return 1<i&&(i=1),i<-1&&(i=-1),o*Math.acos(i)}function Hp(e){var t=e.px,n=e.py,r=e.cx,o=e.cy,l=e.rx,u=e.ry,i=e.xAxisRotation,a=void 0===i?0:i,s=e.largeArcFlag,c=void 0===s?0:s,d=e.sweepFlag,p=void 0===d?0:d,f=[];if(0===l||0===u)return[];var h=Math.sin(a*T/360),g=Math.cos(a*T/360),y=g*(t-r)/2+h*(n-o)/2,v=-h*(t-r)/2+g*(n-o)/2;if(0==y&&0==v)return[];l=Math.abs(l),u=Math.abs(u);var m=Math.pow(y,2)/Math.pow(l,2)+Math.pow(v,2)/Math.pow(u,2);1<m&&(l*=Math.sqrt(m),u*=Math.sqrt(m));var b=function getArcCenter(e,t,n,r,o,i,a,s,l,u,c,d){var p=Math.pow(o,2),f=Math.pow(i,2),h=Math.pow(c,2),g=Math.pow(d,2),y=p*f-p*g-f*h;y<0&&(y=0),y/=p*g+f*h;var v=(y=Math.sqrt(y)*(a===s?-1:1))*o/i*d,m=y*-i/o*c,b=u*v-l*m+(e+n)/2,x=l*v+u*m+(t+r)/2,_=(c-v)/o,w=(d-m)/i,k=(-c-v)/o,C=(-d-m)/i,E=Fp(1,0,_,w),S=Fp(_,w,k,C);return 0===s&&0<S&&(S-=T),1===s&&S<0&&(S+=T),[b,x,E,S]}(t,n,r,o,l,u,c,p,h,g,y,v),x=P(b,4),_=x[0],w=x[1],k=x[2],C=x[3],E=Math.max(Math.ceil(Math.abs(C)/(T/4)),1);C/=E;for(var S=0;S<E;S++)f.push(Ep(k,C)),k+=C;return f.map(function(e){var t=Dp(e[0],l,u,g,h,_,w),n=t.x,r=t.y,o=Dp(e[1],l,u,g,h,_,w),i=o.x,a=o.y,s=Dp(e[2],l,u,g,h,_,w);return{x1:n,y1:r,x2:i,y2:a,x:s.x,y:s.y}})}var P=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=2*Math.PI,i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function shapeBox(e){var u=e[0][0],c=e[0][1],d=u,p=c;return e.forEach(function(e){var t=e[0],n=e[2],r=e[4],o=e[6],i=e[1],a=e[3],s=e[5],l=e[7];u=Math.min(u,t,n,r,o),c=Math.min(c,i,a,s,l),d=Math.max(d,t,n,r,o),p=Math.max(p,i,a,s,l)}),[u,c,d,p]}function sortCurves(r,o){var e=function permuteCurveNum(e){for(var t=[],n=0;n<e;n++){for(var r=[],o=0;o<e;o++){var i=o+n;e-1<i&&(i-=e),r[i]=o}t.push(r)}return t}(r.length),i=[];e.forEach(function(e){var t=0,n=0;e.forEach(function(e){t+=function curveDistance(e,t){var n=e[0],r=e[2],o=e[4],i=e[6],a=e[1],s=e[3],l=e[5],u=e[7],c=t[0],d=t[2],p=t[4],f=t[6],h=t[1],g=t[3],y=t[5],v=t[7];return Math.sqrt(Math.pow(c-n,2)+Math.pow(h-a,2))+Math.sqrt(Math.pow(d-r,2)+Math.pow(g-s,2))+Math.sqrt(Math.pow(p-o,2)+Math.pow(y-l,2))+Math.sqrt(Math.pow(f-i,2)+Math.pow(v-u,2))}(r[e],o[n++])}),i.push({index:e,distance:t})}),i.sort(function(e,t){return e.distance-t.distance});var t=[];return i[0].index.forEach(function(e){t.push(r[e])}),t}function sort(n,r){var e=function permuteNum(e){for(var t=[],n=0;n<e;n++)t.push(n);return function permute(e){var r=[],o=[];return function main(e){var t,n;for(t=0;t<e.length;t++)n=e.splice(t,1)[0],o.push(n),0==e.length&&r.push(o.slice()),main(e),e.splice(t,0,n),o.pop();return r}(e)}(t)}(n.length),o=[];e.forEach(function(e){var t=0;e.forEach(function(e){t+=function boxDistance(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))+Math.sqrt(Math.pow(e[2]-t[2],2)+Math.pow(e[3]-t[3],2))}(shapeBox(n[e]),shapeBox(r[e]))}),o.push({index:e,distance:t})}),o.sort(function(e,t){return e.distance-t.distance});var t=[];return o[0].index.forEach(function(e){t.push(n[e])}),t}var m={};function split(e,t,n,r,o,i,a,s,l){return{left:_split(e,t,n,r,o,i,a,s,l),right:_split(a,s,o,i,n,r,e,t,1-l,!0)}}function _split(e,t,n,r,o,i,a,s,l,u){var c=(n-e)*l+e,d=(r-t)*l+t,p=(o-n)*l+n,f=(i-r)*l+r,h=(p-c)*l+c,g=(f-d)*l+d,y=(((a-o)*l+o-p)*l+p-h)*l+h,v=(((s-i)*l+i-f)*l+f-g)*l+g;return u?[y,v,h,g,c,d,e,t]:[e,t,c,d,h,g,y,v]}function sync(n,e){for(var t=function _loop(){var e=n[n.length-1],t=[];e.forEach(function(e){t.push(e.slice(0))}),n.push(t)},r=0;r<e;r++)t()}return m.parser=function parse(e){var o=[];return e.replace(t,function(e,t,n){var r=t.toLowerCase();for(n=function parseValues(e){var t=e.match(a);return t?t.map(Number):[]}(n),"m"==r&&2<n.length&&(o.push([t].concat(n.splice(0,2))),r="l",t="m"==t?"l":"L");;){if(n.length==i[r])return n.unshift(t),o.push(n);if(n.length<i[r])throw new Error("malformed path data");o.push([t].concat(n.splice(0,i[r])))}}),o},m.lerpCurve=function(e,t,n){return m.lerpPoints(e[0],e[1],t[0],t[1],n).concat(m.lerpPoints(e[2],e[3],t[2],t[3],n)).concat(m.lerpPoints(e[4],e[5],t[4],t[5],n)).concat(m.lerpPoints(e[6],e[7],t[6],t[7],n))},m.lerpPoints=function(e,t,n,r,o){return[e+(n-e)*o,t+(r-t)*o]},m.q2b=function(e,t,n,r,o,i){return[e,t,(e+2*n)/3,(t+2*r)/3,(o+2*n)/3,(i+2*r)/3,o,i]},m.path2shapes=function(e){for(var t=m.parser(e),n=0,r=0,o=0,i=t.length,a=[],s=null,l=void 0,u=void 0,c=void 0,d=void 0,p=void 0,f=void 0,h=void 0;o<i;o++){var g=t[o],y=g[0],v=t[o-1];switch(y){case"m":a[p=a.length]=[],s=a[p],n+=g[1],r+=g[2];break;case"M":a[p=a.length]=[],s=a[p],n=g[1],r=g[2];break;case"l":s.push([n,r,n,r,n,r,n+g[1],r+g[2]]),n+=g[1],r+=g[2];break;case"L":s.push([n,r,g[1],g[2],g[1],g[2],g[1],g[2]]),n=g[1],r=g[2];break;case"h":s.push([n,r,n,r,n,r,n+g[1],r]),n+=g[1];break;case"H":s.push([n,r,g[1],r,g[1],r,g[1],r]),n=g[1];break;case"v":s.push([n,r,n,r,n,r,n,r+g[1]]),r+=g[1];break;case"V":s.push([n,r,n,g[1],n,g[1],n,g[1]]),r=g[1];break;case"C":s.push([n,r,g[1],g[2],g[3],g[4],g[5],g[6]]),n=g[5],r=g[6];break;case"S":"C"===v[0]||"c"===v[0]?s.push([n,r,n+v[5]-v[3],r+v[6]-v[4],g[1],g[2],g[3],g[4]]):"S"!==v[0]&&"s"!==v[0]||s.push([n,r,n+v[3]-v[1],r+v[4]-v[2],g[1],g[2],g[3],g[4]]),n=g[3],r=g[4];break;case"c":s.push([n,r,n+g[1],r+g[2],n+g[3],r+g[4],n+g[5],r+g[6]]),n+=g[5],r+=g[6];break;case"s":"C"===v[0]||"c"===v[0]?s.push([n,r,n+v[5]-v[3],r+v[6]-v[4],n+g[1],r+g[2],n+g[3],r+g[4]]):"S"!==v[0]&&"s"!==v[0]||s.push([n,r,n+v[3]-v[1],r+v[4]-v[2],n+g[1],r+g[2],n+g[3],r+g[4]]),n+=g[3],r+=g[4];break;case"a":h=(f=Hp({rx:g[1],ry:g[2],px:n,py:r,xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5],cx:n+g[6],cy:r+g[7]}))[f.length-1],f.forEach(function(e,t){0===t?s.push([n,r,e.x1,e.y1,e.x2,e.y2,e.x,e.y]):s.push([f[t-1].x,f[t-1].y,e.x1,e.y1,e.x2,e.y2,e.x,e.y])}),n=h.x,r=h.y;break;case"A":h=(f=Hp({rx:g[1],ry:g[2],px:n,py:r,xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5],cx:g[6],cy:g[7]}))[f.length-1],f.forEach(function(e,t){0===t?s.push([n,r,e.x1,e.y1,e.x2,e.y2,e.x,e.y]):s.push([f[t-1].x,f[t-1].y,e.x1,e.y1,e.x2,e.y2,e.x,e.y])}),n=h.x,r=h.y;break;case"Q":s.push(m.q2b(n,r,g[1],g[2],g[3],g[4])),n=g[3],r=g[4];break;case"q":s.push(m.q2b(n,r,n+g[1],r+g[2],g[3]+n,g[4]+r)),n+=g[3],r+=g[4];break;case"T":"Q"===v[0]||"q"===v[0]?(c=n+v[3]-v[1],d=r+v[4]-v[2],s.push(m.q2b(n,r,c,d,g[1],g[2]))):"T"!==v[0]&&"t"!==v[0]||(s.push(m.q2b(n,r,n+n-c,r+r-d,g[1],g[2])),c=n+n-c,d=r+r-d),n=g[1],r=g[2];break;case"t":"Q"===v[0]||"q"===v[0]?(c=n+v[3]-v[1],d=r+v[4]-v[2],s.push(m.q2b(n,r,c,d,n+g[1],r+g[2]))):"T"!==v[0]&&"t"!==v[0]||(s.push(m.q2b(n,r,n+n-c,r+r-d,n+g[1],r+g[2])),c=n+n-c,d=r+r-d),n+=g[1],r+=g[2];break;case"Z":case"z":l=s[0][0],u=s[0][1],s.push([n,r,l,u,l,u,l,u])}}return a},m._upCurves=function(e,t){for(var n=0,r=0,o=e.length;n<t;n++)e.push(e[r].slice(0)),o-1<++r&&(r-=o)},m._splitCurves=function(e,t){for(var n=0,r=0;n<t;n++){var o=e[r],i=split(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],.5);e.splice(r,1),e.splice(r,0,i.left,i.right),(r+=2)>=e.length-1&&(r=0)}},m.lerp=function(e,t,n){return m._lerp(m.path2shapes(e),m.path2shapes(t),n)},m.MIM_CURVES_COUNT=100,m._preprocessing=function(e,t){var n=e.length,r=t.length,o=JSON.parse(JSON.stringify(e)),i=JSON.parse(JSON.stringify(t));return r<n?sync(i,n-r):n<r&&sync(o,r-n),(o=sort(o,i)).forEach(function(e,t){var n=e.length,r=i[t].length;r<n?n<m.MIM_CURVES_COUNT?(m._splitCurves(e,m.MIM_CURVES_COUNT-n),m._splitCurves(i[t],m.MIM_CURVES_COUNT-r)):m._splitCurves(i[t],n-r):n<r&&(r<m.MIM_CURVES_COUNT?(m._splitCurves(e,m.MIM_CURVES_COUNT-n),m._splitCurves(i[t],m.MIM_CURVES_COUNT-r)):m._splitCurves(e,r-n))}),o.forEach(function(e,t){o[t]=sortCurves(e,i[t])}),[o,i]},m._lerp=function(e,o,i){var t=[];return e.forEach(function(e,n){var r=[];e.forEach(function(e,t){r.push(m.lerpCurve(e,o[n][t],i))}),t.push(r)}),t},m.animate=function(e){var t=m.path2shapes(e.from),n=m.path2shapes(e.to),r=m._preprocessing(t,n),o=new Date,i=e.end||function(){},a=e.progress||function(){},s=e.begin||function(){},l=e.easing||function(e){return e},u=null,c=null,d=e.time;s(t);!function tick(){var e=new Date-o;if(d<=e)return a(c=n,1),i(c),void cancelAnimationFrame(u);var t=l(e/d);c=m._lerp(r[0],r[1],t),a(c,t),u=requestAnimationFrame(tick)}()},m})},function(e,t,n){"use strict";!function(){for(var i=0,e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-i)),o=window.setTimeout(function(){e(n+r)},r);return i=n+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},function(e,t,n){"use strict";var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));i.default.install("time",function time(){var e=this,t=i.default.util,n=t.format,r=t.createDom("xg-time","<span>"+(e.currentTime||n(0))+"</span><em>"+(e.duration||n(0))+"</em>",{},"xgplayer-time");e.controls.appendChild(r);var o=function handle(){"audio"===e.videoConfig.mediaType&&e.isProgressMoving&&e.dash||(r.innerHTML="<span>"+n(e.currentTime||0)+"</span><em>"+n(e.duration))};e.on("durationchange",o),e.on("timeupdate",o),e.once("destroy",function destroyFunc(){e.off("durationchange",o),e.off("timeupdate",o),e.off("destroy",destroyFunc)})})},function(e,t,n){"use strict";var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));r.default.install("poster",function poster(){var e=this,poster=r.default.util.createDom("xg-poster","",{},"xgplayer-poster"),t=e.root;function playFunc(){poster.style.display="none"}e.config.poster&&(poster.style.backgroundImage="url("+e.config.poster+")",t.appendChild(poster)),e.on("play",playFunc),e.once("destroy",function destroyFunc(){e.off("play",playFunc),e.off("destroy",destroyFunc)})})},function(e,t,n){"use strict";var u=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));u.default.install("playbackRate",function playbackRate(){var r=this,e=u.default.util,n=0,o=1,i=[];if(!r.config.playbackRate)return!1;r.config.playbackRate.sort(function(e,t){return e-t}),r.config.playbackRate.forEach(function(e,t){r.config.defaultPlaybackRate&&r.config.defaultPlaybackRate===e?(n=t,o=e,r.once("playing",function(){r.video.playbackRate=e})):1!==e&&"1"!==e||(n=t),i.push(e+"x")});var t=r.config.lang&&"zh-cn"===r.config.lang?"倍速":"Speed",a=e.createDom("xg-playback","<p class='name'><span>"+o+"x</span></p>",{},"xgplayer-playback"),s=r.controls,l=e.createDom("xg-tips",t,{},"xgplayer-tips");a.appendChild(l),s.appendChild(a),["touchstart","click"].forEach(function(e){a.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation();var t=e.target||e.srcElement;!t||"p"!==t.tagName.toLocaleLowerCase()&&"span"!==t.tagName.toLocaleLowerCase()||(n=n+1===i.length?0:n+1,a.querySelector("p").innerHTML="<span>"+i[n]+"</span>",r.video.playbackRate=+i[n].replace(/x$/g,""))},!1)}),a.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),l.style.left="50%";var t=l.getBoundingClientRect(),n=r.root.getBoundingClientRect();t.right>n.right&&(l.style.left=-t.right+n.right+16+"px")}),r.on("play",function(){var e=parseFloat(i[n].substring(0,i[n].length-1));r.video.playbackRate.toFixed(1)!==e.toFixed(1)&&(r.video.playbackRate=e)})})},function(e,t,n){"use strict";var p=_interopRequireDefault(n(0)),f=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}p.default.install("play",function play(){var t=this,e=t.controls,n=p.default.util,r=t.config.iconScale||.0320625,o={play:"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z",pause:"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"},i=t.config.playBtn?t.config.playBtn:{},a=void 0,s=void 0,l=void 0;"img"===i.type?a=p.default.util.createImgBtn("play",i.url.play,i.width,i.height):(a=n.createDom("xg-play",'<xg-icon class="xgplayer-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024">\n              <path transform="scale('+r+" "+r+')" d="'+o.play+'"></path>\n          </svg></xg-icon>',{},"xgplayer-play"),s=a.querySelector("path"),l=new f.default({progress:function progress(e){s.setAttribute("d",l.toSVGString(e))},from:o.pause,to:o.play,duration:50}));var u=t.config.lang&&"zh-cn"===t.config.lang?"播放":"Play",c=t.config.lang&&"zh-cn"===t.config.lang?"暂停":"Pause",d=n.createDom("xg-tips",u,{},"xgplayer-tips");a.appendChild(d);function playFunc(){"img"===i.type?a.style.backgroundImage='url("'+i.url.pause+'")':setTimeout(function(){d.textContent=c,l.to!==o.pause&&l.reset(o.pause,o.play)},80)}function pauseFunc(){"img"===i.type?a.style.backgroundImage='url("'+i.url.play+'")':setTimeout(function(){d.textContent=u,l.to!==o.play&&l.reset(o.play,o.pause)},80)}e.appendChild(a),["click","touchstart"].forEach(function(e){a.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),t.ended?t.config.enableEndedPlay&&t.replay():(n.removeClass(t.root,"xgplayer-nostart"),t.paused?(t.play(),t.emit("playBtnClick","play")):(t.pause(),t.emit("playBtnClick","pause")))},!1)}),t.on("play",playFunc),t.on("pause",pauseFunc),t.once("destroy",function destroyFunc(){t.off("play",playFunc),t.off("pause",pauseFunc),t.off("destroy",destroyFunc)})})},function(e,t,n){"use strict";var h=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));h.default.install("pc",function pc(){var t=this,r=h.default.util,o=t.controls,n=t.root,i=0,a=void 0,s=t.config.centerBtn?t.config.centerBtn:{},l=void 0,u=void 0,c=void 0;"img"===s.type?u=h.default.util.createImgBtn("start",s.url.play,s.width,s.height):(l={pause:s.pausePath?s.pausePath:"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z",play:s.playPath?s.playPath:"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"},u=r.createDom("xg-start",'\n          <svg xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024">\n              <path transform="scale(0.04,0.04)" d="'+l.pause+'"></path>\n          </svg>',{},"xgplayer-start"),c=u.querySelector("path"));var e=r.createDom("xg-enter",'<xg-enter-logo class="xgplayer-enter-logo"></xg-enter-logo><xg-enter-tips class="xgplayer-enter-tips"></xg-player-tips>',{},"xgplayer-enter"),d=e.querySelector(".xgplayer-enter-logo");n.appendChild(u),n.appendChild(e);var p=e.querySelector(".xgplayer-enter-tips"),f=new Image;function startClcCanplay(){r.removeClass(n,"xgplayer-is-enter")}function startClcPlaying(){r.removeClass(n,"xgplayer-is-enter")}function startAniEnd(e){e.preventDefault(),r.removeClass(u,"xgplayer-start-interact"),r.removeClass(n,"xgplayer-nostart"),r.removeClass(n,"xgplayer-start-appear")}function onPlayBtnClick(e){"pause"===e?("img"===s.type?u.style.backgroundImage='url("'+s.url.play+'")':c.setAttribute("d",l.play),r.addClass(n,"xgplayer-start-appear"),r.addClass(u,"xgplayer-start-interact")):"play"===e&&("img"===s.type?u.style.backgroundImage='url("'+s.url.pause+'")':c.setAttribute("d",l.pause),r.addClass(n,"xgplayer-start-appear"),r.addClass(u,"xgplayer-start-interact"))}function mouseenterFunc(){clearTimeout(t.leavePlayerTimer),t.emit("focus",t)}function mouseleaveFunc(){t.config.closePlayerBlur||(t.leavePlayerTimer=setTimeout(function(){t.emit("blur",t)},t.config.leavePlayerTime||0))}function readyFunc(e){t.config.autoplay&&t.start()}f.onload=function(){p.style.display="block"},t.config.enterLogo&&t.config.enterLogo.url&&t.config.enterLogo.width&&t.config.enterLogo.height?(f.src=t.config.enterLogo.url,d.style.backgroundImage='url("'+t.config.enterLogo.url+'")',d.style.width=t.config.enterLogo.width+"px",d.style.height=t.config.enterLogo.height+"px",d.style.backgroundSize=t.config.enterLogo.width+"px "+t.config.enterLogo.height+"px",d.style.margin="-"+t.config.enterLogo.height/2+"px auto auto -"+t.config.enterLogo.width/2+"px",p.style.margin=t.config.enterLogo.height-6+"px auto auto -62px"):f.src=r.getBgImage(d),t.config.enterTips&&t.config.enterTips.background&&(p.style.background=""+t.config.enterTips.background),t.config.enterBg&&(t.config.enterBg.url?e.style.backgroundImage='url("'+t.config.enterBg.url+'")':t.config.enterBg.color&&(e.style.background=t.config.enterBg.color)),["click","touchend"].forEach(function(e){u.addEventListener(e,function(e){!function startClc(e){e.preventDefault(),e.stopPropagation(),r.hasClass(n,"xgplayer-nostart")?(r.removeClass(n,"xgplayer-nostart"),r.addClass(n,"xgplayer-is-enter"),t.on("canplay",startClcCanplay),t.once("playing",startClcPlaying),n.querySelector("video")||"dash"===t.type||t.start(),t.play()):t.paused&&(r.removeClass(n,"xgplayer-nostart xgplayer-isloading"),setTimeout(function(){t.play()},10))}(e)},!1)}),u.addEventListener("animationend",function(e){startAniEnd(e)}),u.addEventListener("webkitAnimationEnd",function(e){startAniEnd(e)}),t.on("playBtnClick",onPlayBtnClick),t.once("autoplay was prevented",function(){setTimeout(function(){c.setAttribute("d",l.pause),h.default.util.addClass(t.root,"xgplayer-nostart")},500)}),t.onElementClick=function(e,t){e.preventDefault(),e.stopPropagation();var n=this;n.config.closeVideoClick||(i++,a&&clearTimeout(a),1===i?a=setTimeout(function(){if(r.hasClass(n.root,"xgplayer-nostart"))return!1;n.ended||(n.paused?n.play():n.pause()),i=0},200):i=0)},t.video.addEventListener("click",function(e){t.onElementClick(e,t.video)},!1),t.onElementDblclick=function(e,t){e.preventDefault(),e.stopPropagation();if(!this.config.closeVideoDblclick){var n=o.querySelector(".xgplayer-fullscreen");if(n){var r=void 0;document.createEvent?(r=document.createEvent("Event")).initEvent("click",!0,!0):r=new Event("click"),n.dispatchEvent(r)}}},t.video.addEventListener("dblclick",function(e){t.onElementDblclick(e,t.video)},!1),n.addEventListener("mouseenter",mouseenterFunc,!1),n.addEventListener("mouseleave",mouseleaveFunc),o.addEventListener("mouseenter",function cmouseenterFunc(e){t.userTimer&&clearTimeout(t.userTimer)}),o.addEventListener("mouseleave",function cmouseleaveFunc(e){t.config.closeControlsBlur||t.emit("focus",t)}),t.once("ready",readyFunc),t.once("destroy",function destroyFunc(){n.removeEventListener("mouseenter",mouseenterFunc),n.removeEventListener("mouseleave",mouseleaveFunc),t.off("canplay",startClcCanplay),t.off("playing",startClcPlaying),t.off("playBtnClick",onPlayBtnClick),t.off("ready",readyFunc),t.off("destroy",destroyFunc)})})},function(e,t,n){"use strict";var f=_interopRequireDefault(n(0)),h=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}f.default.install("mobile",function mobile(){var t=this,n=f.default.util,r=t.root,e=function whitelistPass(e){var t=f.default.util;return e.some(function(e){return"Function"===t.typeOf(e)?e.call(void 0,navigator.userAgent):"RegExp"===t.typeOf(e)?e.test(navigator.userAgent):"String"===t.typeOf(e)&&-1<navigator.userAgent.indexOf(e)})}(t.config.whitelist);t.mobilePass=e;var o=t.config.centerBtn?t.config.centerBtn:{},i=void 0,a=void 0,s=void 0,l=void 0;"img"===o.type?a=f.default.util.createImgBtn("start",o.url.play,o.width,o.height):(i={pause:o.pausePath?o.pausePath:"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z",play:o.playPath?o.playPath:"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"},a=n.createDom("xg-start",'\n          <svg xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024">\n              <path transform="scale(0.04,0.04)" d="'+i.pause+'"></path>\n          </svg>',{},"xgplayer-start"),s=a.querySelector("path"),l=new h.default({from:i.play,to:i.pause,progress:function progress(e){s.setAttribute("d",l.toSVGString(e))}}));var u=n.createDom("xg-enter",'<xg-enter-logo class="xgplayer-enter-logo"></xg-enter-logo><xg-enter-tips class="xgplayer-enter-tips"></xg-player-tips>',{},"xgplayer-enter"),c=u.querySelector(".xgplayer-enter-logo");r.appendChild(a),r.appendChild(u);var d=u.querySelector(".xgplayer-enter-tips"),p=new Image;p.onload=function(){d.style.display="block"},t.config.enterLogo&&t.config.enterLogo.url&&t.config.enterLogo.width&&t.config.enterLogo.height?(p.src=t.config.enterLogo.url,c.style.backgroundImage='url("'+t.config.enterLogo.url+'")',c.style.width=t.config.enterLogo.width+"px",c.style.height=t.config.enterLogo.height+"px",c.style.backgroundSize=t.config.enterLogo.width+"px "+t.config.enterLogo.height+"px",c.style.margin="-"+t.config.enterLogo.height/2+"px auto auto -"+t.config.enterLogo.width/2+"px",d.style.margin=t.config.enterLogo.height-6+"px auto auto -62px"):p.src=n.getBgImage(c),t.config.enterTips&&t.config.enterTips.background&&(d.style.background=""+t.config.enterTips.background),t.config.enterBg&&(t.config.enterBg.url?u.style.backgroundImage='url("'+t.config.enterBg.url+'")':t.config.enterBg.color&&(u.style.background=t.config.enterBg.color)),t.start(),e?(t.video.addEventListener("touchend",function(e){e.preventDefault(),n.hasClass(r,"xgplayer-inactive")?t.emit("focus"):t.emit("blur"),t.config.closeVideoTouch||t.isTouchMove||t.ended||(t.paused?t.play():t.pause())}),t.video.addEventListener("touchstart",function(){t.isTouchMove=!1}),t.video.addEventListener("touchmove",function(){t.isTouchMove=!0}),a.addEventListener("touchend",function(e){e.preventDefault(),n.hasClass(r,"xgplayer-nostart")?(n.removeClass(r,"xgplayer-nostart"),n.addClass(r,"xgplayer-is-enter"),t.on("canplay",function(){n.removeClass(r,"xgplayer-is-enter")}),t.once("playing",function(){n.removeClass(r,"xgplayer-is-enter")}),t.play()):t.paused?t.play():t.pause()}),t.on("play",function(){"img"===o.type?a.style.backgroundImage='url("'+o.url.pause+'")':l.reset(i.play,i.pause)}),t.on("pause",function(){"img"===o.type?a.style.backgroundImage='url("'+o.url.play+'")':l.reset(i.pause,i.play)})):(n.addClass(r,"xgplayer-mobile-npassed"),t.once("ready",function(){t.video.controls=t.config.controls,t.video.controlsList=t.config.controlsList.join(" "),t.config.poster&&(t.video.poster=t.config.poster)})),t.config.debug&&function debug(e){var t={};Object.assign(t,{host:"127.0.0.1",port:9090},e);var n=document.createElement("script"),r=document.createElement("h4");r.style.cssText="position:fixed;bottom:0;padding:10px;width:100%;background-color:#fff;text-align:center",r.textContent="weinre --boundHost "+t.host+" --httpPort "+t.port+"\r\n 启动服务后，刷新页面",n.anonymous=!0,n.async=!0,n.src="http://"+t.host+":"+t.port+"/target/target-script-min.js#anonymous",n.onload=function(){r.parentNode.removeChild(r)},document.body.appendChild(n),document.body.appendChild(r)}(t.config.debug)})},function(e,t,n){"use strict";var o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));o.default.install("localPreview",function localPreview(){var t=this,n=o.default.util,e=n.createDom("xg-preview",'<input type="file">',{},"xgplayer-preview"),r=e.querySelector("input");t.config.preview&&t.config.preview.uploadEl&&(t.config.preview.uploadEl.appendChild(e),r.onchange=function(){t.uploadFile=r.files[0];var e=URL.createObjectURL(t.uploadFile);n.hasClass(t.root,"xgplayer-nostart")?(t.config.url=e,t.start()):(t.src=e,t.play())})})},function(e,t,n){"use strict";var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));r.default.install("loading",function loading(){var e=r.default.util.createDom("xg-loading",'\n    <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewbox="0 0 100 100">\n      <path d="M100,50A50,50,0,1,1,50,0"></path>\n    </svg>\n    ',{},"xgplayer-loading");this.root.appendChild(e)})},function(e,t,n){"use strict";var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));var i=o.default.util,a=function(){function Keyboard(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Keyboard),this.player=e,this.state={playbackRate:0,isRepeat:!1,keyCode:0,repeat:0,isBody:!1},this.timer=null,this.initEvents()}return r(Keyboard,[{key:"initEvents",value:function initEvents(){var e=this,t=this.player,n=t.root,r=t.config;this.player.onBodyKeydown=this.onBodyKeydown.bind(this),this.player.onKeydown=this.onKeydown.bind(this),this.player.onKeyup=this.onKeyup.bind(this),r.keyShortcut&&"on"!==r.keyShortcut||(document.addEventListener("keydown",this.player.onBodyKeydown),n.addEventListener("keydown",this.player.onKeydown),this.player.on("destroy",function(){document.removeEventListener("keydown",e.player.onBodyKeydown),n.removeEventListener("keydown",e.player.onKeydown),clearTimeout(e.timer),e.timer=null}))}},{key:"checkTarget",value:function checkTarget(e){var t=this.player;return e.target===t.root||e.target===t.video||e.target===t.controls}},{key:"onBodyKeydown",value:function onBodyKeydown(e){var t=e||window.event,n=t.keyCode;if(t.target===document.body&&(37===n||39===n||32===n))return t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,t.repeat||document.addEventListener("keyup",this.player.onKeyup),this.handler(t),!1}},{key:"onKeydown",value:function onKeydown(e){var t=e||window.event,n=t.keyCode;if(this.checkTarget(t)&&(37===n||38===n||39===n||40===n||32===n))return t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,t.repeat||this.player.root.addEventListener("keyup",this.player.onKeyup),this.handler(t),!1}},{key:"onKeyup",value:function onKeyup(){var e=this.state,t=this.player;document.removeEventListener("keyup",this.player.onKeyup),t.root.removeEventListener("keyup",this.player.onKeyup),e.keyCode&&(0!==e.playbackRate&&(t.playbackRate=e.playbackRate),e.isRepeat||this.handlerKeyCode(e.keyCode,!1),e.playbackRate=0,e.isRepeat=!1,e.keyCode=0,e.repeat=0,this.changeVolumeSlide())}},{key:"handler",value:function handler(e){var t=this.state,n=this.player;t.keyCode=e.keyCode,t.isRepeat=e.repeat,e.repeat&&(t.repeat%2!=0||n.config.disableLongPress||this.handlerKeyCode(t.keyCode,!0),t.repeat++)}},{key:"handlerKeyCode",value:function handlerKeyCode(e,t){var n=this.player,r=this.state;switch(e){case 39:t?0===r.repeat&&this.changeRate():this.seek(!1,t);break;case 37:this.seek(!0,t);break;case 38:this.changeVolume(!0);break;case 40:this.changeVolume(!1);break;case 32:t||(n.paused?n.play():n.pause())}}},{key:"seek",value:function seek(e,t){var n=this.player;n.isLoading||n.isSeeking||t&&0<this.state.repeat%8||(e?0<=n.currentTime-10?n.currentTime-=10:n.currentTime=0:n.currentTime+10<=n.duration?n.currentTime+=10:n.currentTime=n.duration-1)}},{key:"changeRate",value:function changeRate(){this.state.playbackRate=this.player.playbackRate,this.player.playbackRate=this.player.config.keyboardRate||5}},{key:"changeVolumeSlide",value:function changeVolumeSlide(e){var t=this.player;t.controls&&(e?(t.emit("focus"),i.hasClass(t.root,"xgplayer-volume-active")||i.addClass(t.root,"xgplayer-volume-active")):(clearTimeout(this.timer),this.timer=setTimeout(function(){i.removeClass(t.root,"xgplayer-volume-active")},1e3)))}},{key:"changeVolume",value:function changeVolume(e){var t=this.player;this.changeVolumeSlide(!0);var n=t.volume;e&&n+.1<=1?t.volume=n+.1:!e&&0<=n-.1&&(t.volume=n-.1)}}]),Keyboard}();o.default.install("keyboard",function(){this.keyboard=new a(this)})},function(e,t,n){"use strict";(function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}})(n(0)).default.install("i18n",function i18n(){var e=this,n={},r=e.constructor.util;n.en={HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"network is offline"},n["zh-cn"]={HAVE_NOTHING:"没有关于音频/视频是否就绪的信息",HAVE_METADATA:"音频/视频的元数据已就绪",HAVE_CURRENT_DATA:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒",HAVE_FUTURE_DATA:"当前及至少下一帧的数据是可用的",HAVE_ENOUGH_DATA:"可用数据足以开始播放",NETWORK_EMPTY:"音频/视频尚未初始化",NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络",NETWORK_LOADING:"浏览器正在下载数据",NETWORK_NO_SOURCE:"未找到音频/视频来源",MEDIA_ERR_ABORTED:"取回过程被用户中止",MEDIA_ERR_NETWORK:"当下载时发生错误",MEDIA_ERR_DECODE:"当解码时发生错误",MEDIA_ERR_SRC_NOT_SUPPORTED:"不支持的音频/视频格式",REPLAY:"重播",ERROR:"网络连接似乎出现了问题"},Object.defineProperty(e,"lang",{get:function get(){return n[e.config.lang]||n.en},set:function set(t){"Object"===r.typeOf(t)&&Object.keys(t).forEach(function(e){n[e]=t[e]})},configurable:!0})})},function(e,t,n){"use strict";var p=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));p.default.install("fullscreen",function fullscreen(){var i=this,a=p.default.util,n="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z",t="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z",r=a.createDom("xg-fullscreen",'<xg-icon class="xgplayer-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024">\n            <path transform="scale(0.03 0.03)" d="'+t+'"></path>\n        </svg></xg-icon>',{},"xgplayer-fullscreen"),s=i.config.lang&&"zh-cn"===i.config.lang?"全屏":"Full screen",o=i.config.lang&&"zh-cn"===i.config.lang?"退出全屏":"Exit full screen",e=i.controls,l=i.root,u=a.createDom("xg-tips",s,{},"xgplayer-tips"),c=r.querySelector("path");r.appendChild(u);e.appendChild(r),["click","touchend"].forEach(function(e){r.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),i.config.rotateFullscreen?(a.hasClass(l,"xgplayer-rotate-fullscreen")?function exitRotateFullscreen(){c.setAttribute("d",t),u.textContent=s,document.documentElement.style.width="unset",document.documentElement.style.height="unset",l&&a.hasClass(l,"xgplayer-rotate-fullscreen")&&a.removeClass(l,"xgplayer-rotate-fullscreen"),i.emit("exitRotateFullscreen")}:function getRotateFullscreen(){c.setAttribute("d",n),u.textContent=o,document.documentElement.style.width="100%",document.documentElement.style.height="100%",l&&!a.hasClass(l,"xgplayer-rotate-fullscreen")&&a.addClass(l,"xgplayer-rotate-fullscreen"),i.emit("getRotateFullscreen")})():(a.hasClass(l,"xgplayer-fullscreen-active")||a.hasClass(l,"xgplayer-is-fullscreen")?function exitFullscreen(e){var t=a.findDom(i.controls,"xg-cssfullscreen"),n="M843.617212 67.898413 175.411567 67.898413c-61.502749 0-111.367437 49.856501-111.367437 111.367437l0 668.205645c0 61.510936 49.864688 111.367437 111.367437 111.367437L843.617212 958.838931c61.510936 0 111.367437-49.856501 111.367437-111.367437L954.984648 179.26585C954.984648 117.754914 905.12917 67.898413 843.617212 67.898413zM398.146441 736.104057c15.380292 0 27.842115 12.461823 27.842115 27.842115 0 15.379269-12.461823 27.841092-27.842115 27.841092L259.725858 791.787264c-7.785314 0-14.781658-3.217275-19.838837-8.365528-5.383614-4.577249-8.791224-11.228739-8.791224-19.475564L231.095797 624.736621c0-15.371082 12.471033-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115l-0.61603 71.426773 133.036969-133.037992 39.378869 39.378869L324.962651 736.113267 398.146441 736.104057zM419.199942 463.611943 286.162974 330.565764l0.61603 71.435982c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.371082 0-27.842115-12.461823-27.842115-27.842115L231.094774 262.791172c0-8.256034 3.40761-14.908548 8.791224-19.476587 5.057179-5.148253 12.053524-8.374738 19.838837-8.374738l138.420583 0.00921c15.380292 0 27.842115 12.461823 27.842115 27.842115s-12.461823 27.842115-27.842115 27.842115l-73.175603-0.00921 133.607974 133.607974L419.199942 463.611943zM787.932981 763.946172c0 8.247848-3.40761 14.899338-8.791224 19.475564-5.057179 5.148253-12.053524 8.365528-19.839861 8.365528L620.881314 791.787264c-15.379269 0-27.841092-12.461823-27.841092-27.841092 0-15.380292 12.461823-27.842115 27.841092-27.842115l73.185836 0.00921L560.449967 602.50427l39.378869-39.378869L732.875015 696.163393l-0.62524-71.426773c0-15.371082 12.462846-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115L787.934005 763.946172zM787.932981 402.000724c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.379269 0-27.842115-12.461823-27.842115-27.842115l0.62524-71.435982L599.828836 463.611943l-39.378869-39.378869 133.617184-133.607974-73.185836 0.00921c-15.379269 0-27.841092-12.461823-27.841092-27.842115s12.461823-27.842115 27.841092-27.842115l138.421606-0.00921c7.785314 0 14.781658 3.226484 19.839861 8.374738 5.383614 4.568039 8.791224 11.219529 8.791224 19.476587L787.934005 402.000724z";if(t){var r=a.findDom(t,"xg-tips"),o=t.querySelector("path");t.style.display="block",r.textContent=i.config.lang&&"zh-cn"===i.config.lang?"样式全屏":"Full screen",o.setAttribute("d",n)}a.removeClass(e,"xgplayer-cssfullscreen-active"),c.setAttribute("d",n),u.textContent=s,document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():a.removeClass(e,"xgplayer-fullscreen-active")}:function getFullscreen(e){var t=a.findDom(i.controls,"xg-cssfullscreen");t&&(t.style.display="none"),c.setAttribute("d",n),u.textContent=o,e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.video.webkitSupportsFullscreen?i.video.webkitEnterFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():a.addClass(e,"xgplayer-fullscreen-active")})(l)})}),i.video.addEventListener("webkitendfullscreen",function(){i.emit("exitFullscreen"),c.setAttribute("d",t)});["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(function(e){document.addEventListener(e,function(e){if(e.preventDefault(),e.stopPropagation(),!(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)){var t=a.findDom(i.controls,"xg-cssfullscreen"),n="M843.617212 67.898413 175.411567 67.898413c-61.502749 0-111.367437 49.856501-111.367437 111.367437l0 668.205645c0 61.510936 49.864688 111.367437 111.367437 111.367437L843.617212 958.838931c61.510936 0 111.367437-49.856501 111.367437-111.367437L954.984648 179.26585C954.984648 117.754914 905.12917 67.898413 843.617212 67.898413zM398.146441 736.104057c15.380292 0 27.842115 12.461823 27.842115 27.842115 0 15.379269-12.461823 27.841092-27.842115 27.841092L259.725858 791.787264c-7.785314 0-14.781658-3.217275-19.838837-8.365528-5.383614-4.577249-8.791224-11.228739-8.791224-19.475564L231.095797 624.736621c0-15.371082 12.471033-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115l-0.61603 71.426773 133.036969-133.037992 39.378869 39.378869L324.962651 736.113267 398.146441 736.104057zM419.199942 463.611943 286.162974 330.565764l0.61603 71.435982c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.371082 0-27.842115-12.461823-27.842115-27.842115L231.094774 262.791172c0-8.256034 3.40761-14.908548 8.791224-19.476587 5.057179-5.148253 12.053524-8.374738 19.838837-8.374738l138.420583 0.00921c15.380292 0 27.842115 12.461823 27.842115 27.842115s-12.461823 27.842115-27.842115 27.842115l-73.175603-0.00921 133.607974 133.607974L419.199942 463.611943zM787.932981 763.946172c0 8.247848-3.40761 14.899338-8.791224 19.475564-5.057179 5.148253-12.053524 8.365528-19.839861 8.365528L620.881314 791.787264c-15.379269 0-27.841092-12.461823-27.841092-27.841092 0-15.380292 12.461823-27.842115 27.841092-27.842115l73.185836 0.00921L560.449967 602.50427l39.378869-39.378869L732.875015 696.163393l-0.62524-71.426773c0-15.371082 12.462846-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115L787.934005 763.946172zM787.932981 402.000724c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.379269 0-27.842115-12.461823-27.842115-27.842115l0.62524-71.435982L599.828836 463.611943l-39.378869-39.378869 133.617184-133.607974-73.185836 0.00921c-15.379269 0-27.841092-12.461823-27.841092-27.842115s12.461823-27.842115 27.841092-27.842115l138.421606-0.00921c7.785314 0 14.781658 3.226484 19.839861 8.374738 5.383614 4.568039 8.791224 11.219529 8.791224 19.476587L787.934005 402.000724z";if(t){var r=a.findDom(t,"xg-tips"),o=t.querySelector("path");t.style.display="block",r.textContent=i.config.lang&&"zh-cn"===i.config.lang?"样式全屏":"Full screen",o.setAttribute("d",n)}a.removeClass(l,"xgplayer-cssfullscreen-active"),c.setAttribute("d",n),u.textContent=s,a.removeClass(l,"xgplayer-fullscreen-active")}})});var d=function handle(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e&&e===l?(a.addClass(l,"xgplayer-is-fullscreen"),c.setAttribute("d",n),u.textContent=o,i.emit("requestFullscreen")):(a.removeClass(l,"xgplayer-is-fullscreen"),c.setAttribute("d",t),u.textContent=s,i.emit("exitFullscreen"))};r.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),u.style.left="50%";var t=u.getBoundingClientRect(),n=l.getBoundingClientRect();t.right>n.right&&(u.style.left=-t.right+n.right+16+"px")}),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(function(e){document.addEventListener(e,d)}),i.once("destroy",function destroyFunc(){["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(function(e){document.removeEventListener(e,d)}),i.off("destroy",destroyFunc)})})},function(e,t,n){"use strict";var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));r.default.install("__flex__",function flex(){var e=r.default.util.createDom("xg-placeholder","",{},"xgplayer-placeholder");this.controls.appendChild(e)})},function(e,t,n){"use strict";var o=_interopRequireDefault(n(0)),i=_interopRequireDefault(n(49));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}o.default.install("danmu",function danmu(){var n=this;if(n.config.danmu){var r=o.default.util.createDom("xg-bullet","",{},"xgplayer-bullet");n.root.appendChild(r),r.style.height="100%";var e=o.default.util.deepCopy({container:r,player:n.video,comments:[],area:{start:0,end:1}},n.config.danmu);n.once("complete",function(){var t=new i.default(e);o.default.util.addClass(r,"xgplayer-has-bullet"),n.config.danmu.closeDefaultBtn||(n.bulletBtn=o.default.util.copyDom(t.bulletBtn.createSwitch(!0)),n.controls.appendChild(n.bulletBtn),["click","touchend"].forEach(function(e){n.bulletBtn.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),o.default.util.toggleClass(n.bulletBtn,"danmu-switch-active"),o.default.util.hasClass(n.bulletBtn,"danmu-switch-active")?(o.default.util.addClass(r,"xgplayer-has-bullet"),n.once("timeupdate",function(){t.start()})):(o.default.util.removeClass(r,"xgplayer-has-bullet"),t.stop())},!1)}),n.onElementClick&&r.addEventListener("click",function(e){n.onElementClick(e,r)},!1),n.onElementDblclick&&r.addEventListener("dblclick",function(e){n.onElementDblclick(e,r)},!1),n.on("pause",function(){o.default.util.hasClass(n.bulletBtn,"danmu-switch-active")&&t.pause()}),n.on("play",function(){o.default.util.hasClass(n.bulletBtn,"danmu-switch-active")&&t.play()}),n.on("seeked",function(){o.default.util.hasClass(n.bulletBtn,"danmu-switch-active")&&(t.stop(),t.start())})),n.danmu=t,n.emit("initDefaultDanmu",t)})}})},function(e,u,t){"use strict";(function(t){var o,s,l,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"object"==E(u)&&"object"==E(t)?t.exports=e():(s=[],void 0===(l="function"==typeof(o=e)?o.apply(u,s):o)||(t.exports=l))}((window,function(){return function(r){var o={};function n(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=r,n.c=o,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":E(t))&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),o=r&&r.__esModule?r:{default:r},i={};i.domObj=new o.default,i.createDom=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",i=document.createElement(r);return i.className=t,i.innerHTML=e,Object.keys(o).forEach(function(e){var t=e,n=o[e];("video"!==r&&"audio"!==r||n)&&i.setAttribute(t,n)}),i},i.hasClass=function(e,t){return e.classList?Array.prototype.some.call(e.classList,function(e){return e===t}):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},i.addClass=function(t,e){t.classList?e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(e){e&&t.classList.add(e)}):i.hasClass(t,e)||(t.className+=" "+e)},i.removeClass=function(n,e){n.classList?e.split(/\s+/g).forEach(function(e){n.classList.remove(e)}):i.hasClass(n,e)&&e.split(/\s+/g).forEach(function(e){var t=new RegExp("(\\s|^)"+e+"(\\s|$)");n.className=n.className.replace(t," ")})},i.toggleClass=function(t,e){e.split(/\s+/g).forEach(function(e){i.hasClass(t,e)?i.removeClass(t,e):i.addClass(t,e)})},i.findDom=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,n=arguments[1],r=void 0;try{r=t.querySelector(n)}catch(e){n.startsWith("#")&&(r=t.getElementById(n.slice(1)))}return r},i.deepCopy=function(t,n){if("Object"===i.typeOf(n)&&"Object"===i.typeOf(t))return Object.keys(n).forEach(function(e){"Object"!==i.typeOf(n[e])||n[e]instanceof Node?"Array"===i.typeOf(n[e])?t[e]="Array"===i.typeOf(t[e])?t[e].concat(n[e]):n[e]:t[e]=n[e]:t[e]?i.deepCopy(t[e],n[e]):t[e]=n[e]}),t},i.typeOf=function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},i.copyDom=function(e){if(e&&1===e.nodeType){var t=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,function(e){t.setAttribute(e.name,e.value)}),e.innerHTML&&(t.innerHTML=e.innerHTML),t}return""},i.formatTime=function(e){var t=Math.floor(e);return 1e3*t+(e-t)},t.default=i,e.exports=t.default},function(e,t,n){var r=n(18)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){e.exports=function(e){return null!=e}},function(e,t,n){e.exports=n(4)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=r&&r.__esModule?r:{default:r};n(30),t.default=o.default,e.exports=t.default},function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(r(6)),a=s(r(25)),l=s(r(0));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=this;if(n.config=l.default.deepCopy({overlap:!1,area:{start:0,end:1},live:!1,comments:[],direction:"r2l"},e),n.hideArr=[],(0,i.default)(n),n.config.comments.forEach(function(e){e.duration=e.duration?e.duration:5e3,e.mode||(e.mode="scroll")}),!n.config.container||1!==n.config.container.nodeType)return n.emit("error","container id can't be empty"),!1;if(n.container=n.config.container,n.config.containerStyle){var r=n.config.containerStyle;Object.keys(r).forEach(function(e){n.container.style[e]=r[e]})}n.live=n.config.live,n.player=n.config.player,n.direction=n.config.direction,l.default.addClass(n.container,"danmu"),n.bulletBtn=new a.default(n),n.emit("ready")}return o(t,[{key:"start",value:function value(){this.bulletBtn.main.start()}},{key:"pause",value:function value(){this.bulletBtn.main.pause()}},{key:"play",value:function value(){this.bulletBtn.main.play()}},{key:"stop",value:function value(){this.bulletBtn.main.stop()}},{key:"sendComment",value:function value(e){e.duration||(e.duration=15e3),e&&e.id&&e.duration&&(e.el||e.txt)&&(e.duration=e.duration?e.duration:5e3,e.style&&(this.opacity&&this.opacity!==e.style.opacity&&(e.style.opacity=this.opacity),this.fontSize&&this.fontSize!==e.style.fontSize&&(e.style.fontSize=this.fontSize),this.like&&(e.like=e.like?e.like:this.like)),e.prior?this.bulletBtn.main.data.unshift(e):this.bulletBtn.main.data.push(e))}},{key:"setCommentID",value:function value(t,n){var r=this,o=this.container.getBoundingClientRect();t&&n&&(this.bulletBtn.main.data.some(function(e){return e.id===t&&(e.id=n,!0)}),this.bulletBtn.main.queue.some(function(e){return e.id===t&&(e.id=n,e.pauseMove(o),"paused"!==r.bulletBtn.main.status&&e.startMove(o),!0)}))}},{key:"setCommentDuration",value:function value(t,n){var r=this,o=this.container.getBoundingClientRect();t&&n&&(n=n||5e3,this.bulletBtn.main.data.some(function(e){return e.id===t&&(e.duration=n,!0)}),this.bulletBtn.main.queue.some(function(e){return e.id===t&&(e.duration=n,e.pauseMove(o),"paused"!==r.bulletBtn.main.status&&e.startMove(o),!0)}))}},{key:"setCommentLike",value:function value(t,n){var r=this.container.getBoundingClientRect();this.like=n,t&&n&&(this.bulletBtn.main.data.some(function(e){return e.id===t&&(e.like=n,!0)}),this.bulletBtn.main.queue.some(function(e){return e.id===t&&(e.pauseMove(r),e.setLikeDom(n.el,n.style),"paused"!==e.danmu.bulletBtn.main.status&&e.startMove(r),!0)}))}},{key:"restartComment",value:function value(t){this.mouseControl=!1;var n=this.container.getBoundingClientRect();t&&this.bulletBtn.main.queue.some(function(e){return e.id===t&&("paused"!==e.danmu.bulletBtn.main.status?e.startMove(n,!0):e.status="paused",!0)})}},{key:"freezeComment",value:function value(t){this.mouseControl=!0;var n=this.container.getBoundingClientRect();t&&this.bulletBtn.main.queue.some(function(e){return e.id===t&&(e.status="forcedPause",e.pauseMove(n),e.el&&e.el.style&&(e.el.style.zIndex=10),!0)})}},{key:"removeComment",value:function value(t){t&&this.bulletBtn.main.queue.some(function(e){return e.id===t&&(e.remove(),!0)})}},{key:"setAllDuration",value:function value(e,t,n){var r=0<arguments.length&&void 0!==e?e:"scroll",o=t,i=n,a=this.container.getBoundingClientRect();o&&(o=o||5e3,i&&(this.bulletBtn.main.forceDuration=o),this.bulletBtn.main.data.forEach(function(e){r===e.mode&&(e.duration=o)}),this.bulletBtn.main.queue.forEach(function(e){r===e.mode&&(e.duration=o,e.pauseMove(a),"paused"!==e.danmu.bulletBtn.main.status&&e.startMove(a))}))}},{key:"setOpacity",value:function value(e){this.container.style.opacity=e}},{key:"setFontSize",value:function value(e,t){var n=this;this.fontSize=e+"px",e&&(this.bulletBtn.main.data.forEach(function(e){e.style&&(e.style.fontSize=n.fontSize)}),this.bulletBtn.main.queue.forEach(function(e){e.options.style||(e.options.style={}),e.options.style.fontSize=n.fontSize,e.setFontSize(n.fontSize)})),t&&(this.config.fontSize=t,this.bulletBtn.main.channel.resize(!0))}},{key:"setArea",value:function value(e){this.config.area=e,this.bulletBtn.main.channel.resize(!0)}},{key:"hide",value:function value(e){var t=0<arguments.length&&void 0!==e?e:"scroll";this.hideArr.indexOf(t)<0&&this.hideArr.push(t),this.bulletBtn.main.queue.filter(function(e){return t===e.mode||"color"===t&&e.color}).forEach(function(e){return e.remove()})}},{key:"show",value:function value(e){var t=0<arguments.length&&void 0!==e?e:"scroll",n=this.hideArr.indexOf(t);-1<n&&this.hideArr.splice(n,1)}},{key:"setDirection",value:function value(e){var t=0<arguments.length&&void 0!==e?e:"r2l";this.emit("changeDirection",t)}}]),t}();n.default=u,e.exports=n.default},function(t,s,l){var u,c,d,p,f,h,g,y=l(7),v=l(24),m=Function.prototype.apply,b=Function.prototype.call,x=Object.create,_=Object.defineProperty,w=Object.defineProperties,k=Object.prototype.hasOwnProperty,C={configurable:!0,enumerable:!1,writable:!0};c=function o(e,t){var r,o;return v(t),o=this,u.call(this,e,r=function n(){d.call(o,e,r),m.call(t,this,arguments)}),r.__eeOnceListener__=t,this},f={on:u=function i(e,t){var n;return v(t),k.call(this,"__ee__")?n=this.__ee__:(n=C.value=x(null),_(this,"__ee__",C),C.value=null),n[e]?"object"==E(n[e])?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:c,off:d=function r(e,t){var n,o,i,r;if(v(t),!k.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"==E(o=n[e]))for(r=0;i=o[r];++r)i!==t&&i.__eeOnceListener__!==t||(2===o.length?n[e]=o[r?0:1]:o.splice(r,1));else o!==t&&o.__eeOnceListener__!==t||delete n[e];return this},emit:p=function a(e,t,n){var r,o,i,s,l;if(k.call(this,"__ee__")&&(s=this.__ee__[e]))if("object"==(void 0===s?"undefined":E(s))){for(o=arguments.length,l=new Array(o-1),r=1;r<o;++r)l[r-1]=arguments[r];for(s=s.slice(),r=0;i=s[r];++r)m.call(i,this,l)}else switch(arguments.length){case 1:b.call(s,this);break;case 2:b.call(s,this,t);break;case 3:b.call(s,this,t,n);break;default:for(o=arguments.length,l=new Array(o-1),r=1;r<o;++r)l[r-1]=arguments[r];m.call(s,this,l)}}},h={on:y(u),once:y(c),off:y(d),emit:y(p)},g=w({},h),t.exports=s=function e(t){return null==t?x(g):w(Object(t),h)},s.methods=f},function(e,t,n){var s=n(2),l=n(8),u=n(12),c=n(20),d=n(21);(e.exports=function(e,t){var n,r,o,i,a;return arguments.length<2||"string"!=typeof e?(i=t,t=e,e=null):i=arguments[2],s(e)?(n=d.call(e,"c"),r=d.call(e,"e"),o=d.call(e,"w")):(n=o=!0,r=!1),a={value:t,configurable:n,enumerable:r,writable:o},i?u(c(i),a):a}).gs=function(e,t,n){var r,o,i,a;return"string"!=typeof e?(i=n,n=t,t=e,e=null):i=arguments[3],s(t)?l(t)?s(n)?l(n)||(i=n,n=void 0):n=void 0:(i=t,t=n=void 0):t=void 0,o=s(e)?(r=d.call(e,"c"),d.call(e,"e")):!(r=!0),a={get:t,set:n,configurable:r,enumerable:o},i?u(c(i),a):a}},function(e,t,n){var r=n(9),o=/^\s*class[\s{/}]/,i=Function.prototype.toString;e.exports=function(e){return!!r(e)&&!o.test(i.call(e))}},function(e,t,n){var r=n(10);e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!r(e)}},function(e,t,n){var r=n(11);e.exports=function(e){if(!r(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}},function(e,t,n){var r=n(2),o={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!r(e)&&hasOwnProperty.call(o,void 0===e?"undefined":E(e))}},function(e,t,n){e.exports=n(13)()?Object.assign:n(14)},function(e,t,n){e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){var a=n(15),l=n(19),u=Math.max;e.exports=function(t,n){var r,e,o,i=u(arguments.length,2);for(t=Object(l(t)),o=function s(e){try{t[e]=n[e]}catch(e){r=r||e}},e=1;e<i;++e)a(n=arguments[e]).forEach(o);if(void 0!==r)throw r;return t}},function(e,t,n){e.exports=n(16)()?Object.keys:n(17)},function(e,t,n){e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){var r=n(1),o=Object.keys;e.exports=function(e){return o(r(e)?Object(e):e)}},function(e,t,n){e.exports=function(){}},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){var r=n(1),o=Array.prototype.forEach,i=Object.create;e.exports=function(e){var t=i(null);return o.call(arguments,function(e){r(e)&&function a(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t}},function(e,t,n){e.exports=n(22)()?String.prototype.contains:n(23)},function(e,t,n){var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},function(e,t,n){var r=String.prototype.indexOf;e.exports=function(e){return-1<r.call(this,e,arguments[1])}},function(e,t,n){e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(r(0)),s=a(r(27));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.danmu=e,this.main=new s.default(e),e.config.defaultOff||this.main.start()}return o(t,[{key:"createSwitch",value:function value(e){var t=!(0<arguments.length&&void 0!==e)||e;return this.switchBtn=i.default.createDom("dk-switch",'<span class="txt">弹</span>',{},"danmu-switch "+(t?"danmu-switch-active":"")),this.switchBtn}}]),t}();n.default=l,e.exports=n.default},function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e={initDOM:function initDOM(){return document.createElement("div")},initSize:10},this.init(e)}return o(t,[{key:"init",value:function value(e){this.idleList=[],this.usingList=[],this._id=0,this.options=e,this._expand(e.initSize)}},{key:"use",value:function value(){this.idleList.length||this._expand(1);var e=this.idleList.shift();return this.usingList.push(e),e}},{key:"unuse",value:function value(e){var t=this.usingList.indexOf(e);t<0||(this.usingList.splice(t,1),e.innerHTML="",e.textcontent="",e.style="",this.idleList.push(e))}},{key:"_expand",value:function value(e){for(var t=0;t<e;t++)this.idleList.push(this.options.initDOM(this._id++))}}]),t}();n.default=i,e.exports=n.default},function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(r(28)),l=s(r(29)),u=s(r(0));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.danmu=e,this.container=e.container,this.channel=new i.default(e),this.data=[].concat(e.config.comments),this.playedData=[],this.queue=[],this.timer=null,this.retryTimer=null,this.interval=e.config.interval||2e3,this.status="idle",e.on("bullet_remove",this.updateQueue.bind(this));var n=this;this.danmu.on("changeDirection",function(e){n.danmu.direction=e}),this.nums=0}return o(t,[{key:"updateQueue",value:function value(n){var r=this;r.queue.some(function(e,t){return e.id===n.bullet.id&&(r.queue.splice(t,1),!0)})}},{key:"init",value:function value(e,t){(t=t||this).data.sort(function(e,t){return e.start-t.start}),t.retryTimer||(t.retryTimer=setInterval(function(){t.readData(),t.dataHandle()},t.interval-1e3))}},{key:"start",value:function value(){this.status="playing",this.queue=[],this.container.innerHTML="",this.channel.resetWithCb(this.init,this)}},{key:"stop",value:function value(){this.status="closed",clearInterval(this.retryTimer),this.retryTimer=null,this.channel.reset(),this.queue=[],this.container.innerHTML=""}},{key:"play",value:function value(){this.status="playing";var r=this.channel.channels,o=this.danmu.container.getBoundingClientRect();r&&0<r.length&&["scroll","top","bottom"].forEach(function(e){for(var t=0;t<r.length;t++)r[t].queue[e].forEach(function(e){e.resized||(e.startMove(o),e.resized=!0)});for(var n=0;n<r.length;n++)r[n].queue[e].forEach(function(e){e.resized=!1})})}},{key:"pause",value:function value(){this.status="paused";var e=this.channel.channels,t=this.danmu.container.getBoundingClientRect();e&&0<e.length&&this.queue.forEach(function(e){e.pauseMove(t)})}},{key:"dataHandle",value:function value(){var t=this;"paused"!==this.status&&"closed"!==this.status&&t.queue.length&&t.queue.forEach(function(e){"waiting"!==e.status&&"paused"!==e.status||e.startMove(t.channel.containerPos)})}},{key:"readData",value:function value(){var t=this,n=this.danmu,r=0;n.player&&n.player.currentTime&&(r=u.default.formatTime(n.player.currentTime));var o=void 0,i=t.interval,a=t.channel,e=void 0;n.player?(e=t.data.filter(function(e){return!e.start&&t.danmu.hideArr.indexOf(e.mode)<0&&(!e.color||t.danmu.hideArr.indexOf("color")<0)&&(e.start=r),t.danmu.hideArr.indexOf(e.mode)<0&&(!e.color||t.danmu.hideArr.indexOf("color")<0)&&e.start-i<=r&&r<=e.start+i}),n.live&&(t.data=t.data.filter(function(e){return e.start||(e.start=r),e.start>r-3*i}))):0===(e=t.data.splice(0,1)).length&&(e=t.playedData.splice(0,1)),0<e.length&&e.forEach(function(e){t.forceDuration&&t.forceDuration!=e.duration&&(e.duration=t.forceDuration),o=new l.default(n,e),e.hasAttached||(o.attach(),e.hasAttach=!0),a.addBullet(o).result?(t.queue.push(o),t.nums++,o.topInit()):(o.detach(),e.noDiscard&&(e.prior?t.data.unshift(e):t.data.push(e)))})}}]),t}();n.default=a,e.exports=n.default},function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.danmu=e,this.reset();var n=this;this.danmu.on("bullet_remove",function(e){n.removeBullet(e.bullet)}),this.direction=e.direction,this.danmu.on("changeDirection",function(e){n.direction=e}),this.containerPos=this.danmu.container.getBoundingClientRect(),this.containerWidth=this.containerPos.width,this.containerHeight=this.containerPos.height,this.containerLeft=this.containerPos.left,this.containerRight=this.containerPos.right,this.danmu.bulletResizeTimer=setInterval(function(){n.containerPos=n.danmu.container.getBoundingClientRect(),n.resizeing||(2<=Math.abs(n.containerPos.width-n.containerWidth)||2<=Math.abs(n.containerPos.height-n.containerHeight)||2<=Math.abs(n.containerPos.left-n.containerLeft)||2<=Math.abs(n.containerPos.right-n.containerRight))&&(n.containerWidth=n.containerPos.width,n.containerHeight=n.containerPos.height,n.containerLeft=n.containerPos.left,n.containerRight=n.containerPos.right,n.resize(!0))},50)}return o(t,[{key:"resize",value:function value(e){var b=0<arguments.length&&void 0!==e&&e,x=this.danmu.container,_=this;_.resizeing||(_.resizeing=!0,setTimeout(function(){_.danmu.bulletBtn.main.status,_.danmu.bulletBtn.main.data&&_.danmu.bulletBtn.main.data.forEach(function(e){e.bookChannelId&&delete e.bookChannelId});var e=x.getBoundingClientRect();_.width=e.width,_.height=e.height,_.danmu.config.area&&0<=_.danmu.config.area.start&&_.danmu.config.area.end>=_.danmu.config.area.start&&("b2t"===_.direction?_.width=_.width*(_.danmu.config.area.end-_.danmu.config.area.start):_.height=_.height*(_.danmu.config.area.end-_.danmu.config.area.start)),_.container=x;var t,a=_.danmu.config.fontSize||(/mobile/gi.test(navigator.userAgent)?10:12);t="b2t"===_.direction?Math.floor(_.width/a):Math.floor(_.height/a);for(var s=[],n=0;n<t;n++)s[n]={id:n,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};if(_.channels&&_.channels.length<=s.length){for(var r=function u(n){s[n]={id:n,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top"].forEach(function(t){_.channels[n].queue[t].forEach(function(e){e.el&&(s[n].queue[t].push(e),e.resized||(e.pauseMove(_.containerPos,b),"paused"!==e.danmu.bulletBtn.main.status&&e.startMove(_.containerPos),e.resized=!0))})}),_.channels[n].queue.bottom.forEach(function(e){if(e.el){if(s[n+s.length-_.channels.length].queue.bottom.push(e),e.channel_id[0]+e.channel_id[1]-1===n){var t=[].concat(e.channel_id);e.channel_id=[t[0]-_.channels.length+s.length,t[1]],e.top=e.channel_id[0]*a,_.danmu.config.area&&_.danmu.config.area.start&&(e.top+=_.containerHeight*_.danmu.config.area.start),e.topInit()}e.resized||(e.pauseMove(_.containerPos,b),"paused"!==e.danmu.bulletBtn.main.status&&e.startMove(_.containerPos),e.resized=!0)}})},o=0;o<_.channels.length;o++)r(o);for(var i=function c(t){["scroll","top","bottom"].forEach(function(e){s[t].queue[e].forEach(function(e){e.resized=!1})})},l=0;l<s.length;l++)i(l);_.channels=s,"b2t"===_.direction?_.channelWidth=a:_.channelHeight=a}else if(_.channels&&_.channels.length>s.length){for(var d=function f(i){s[i]={id:i,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top","bottom"].forEach(function(r){if(!("top"===r&&i>Math.floor(s.length/2)||"bottom"===r&&i<=Math.floor(s.length/2))){var o="bottom"===r?i-s.length+_.channels.length:i;_.channels[o].queue[r].forEach(function(e,t){if(e.el){if(s[i].queue[r].push(e),"bottom"===r&&e.channel_id[0]+e.channel_id[1]-1===o){var n=[].concat(e.channel_id);e.channel_id=[n[0]-_.channels.length+s.length,n[1]],e.top=e.channel_id[0]*a,_.danmu.config.area&&_.danmu.config.area.start&&(e.top+=_.containerHeight*_.danmu.config.area.start),e.topInit()}e.pauseMove(_.containerPos,b),"paused"!==e.danmu.bulletBtn.main.status&&e.startMove(_.containerPos),e.resized||(e.resized=!0)}_.channels[o].queue[r].splice(t,1)})}})},p=0;p<s.length;p++)d(p);for(var h=function p(t){["scroll","top","bottom"].forEach(function(e){_.channels[t].queue[e].forEach(function(e){e.pauseMove(_.containerPos),e.remove()})})},y=s.length;y<_.channels.length;y++)h(y);for(var v=function g(t){["scroll","top","bottom"].forEach(function(e){s[t].queue[e].forEach(function(e){e.resized=!1})})},m=0;m<s.length;m++)v(m);_.channels=s,"b2t"===_.direction?_.channelWidth=a:_.channelHeight=a}_.resizeing=!1},10))}},{key:"addBullet",value:function value(t){var e=this.danmu,n=this.channels,r=void 0,o=void 0,i=void 0;if((i="b2t"===this.direction?(o=this.channelWidth,Math.ceil(t.width/o)):(r=this.channelHeight,Math.ceil(t.height/r)))>n.length)return{result:!1,message:"exceed channels.length, occupy="+i+",channelsSize="+n.length};for(var a=!0,s=void 0,l=-1,u=0,c=n.length;u<c;u++)if(n[u].queue[t.mode].some(function(e){return e.id===t.id}))return{result:!1,message:"exsited, channelOrder="+u+",danmu_id="+t.id};if("scroll"===t.mode)for(var d=0,p=n.length-i;d<=p;d++){a=!0;for(var f=d;f<d+i;f++){if((s=n[f]).operating.scroll){a=!1;break}if((s.bookId.scroll||t.prior)&&s.bookId.scroll!==t.id){a=!1;break}s.operating.scroll=!0;var h=s.queue.scroll[0];if(h){var g=h.el.getBoundingClientRect();if("b2t"===this.direction){if(g.bottom>this.containerPos.bottom){a=!1,s.operating.scroll=!1;break}}else if(g.right>this.containerPos.right){a=!1,s.operating.scroll=!1;break}var y,v=void 0,m=void 0,b=void 0,x=void 0;if(x="b2t"===this.direction?(m=(g.top-this.containerPos.top+g.height)/(v=(this.containerPos.height+g.height)/h.duration),b=this.containerPos.height,(this.containerPos.height+t.height)/t.duration):(m=(g.left-this.containerPos.left+g.width)/(v=(this.containerPos.width+g.width)/h.duration),b=this.containerPos.width,(this.containerPos.width+t.width)/t.duration),y=b/x,e.config.bOffset||(e.config.bOffset=0),v<x&&m+e.config.bOffset>y){a=!1,s.operating.scroll=!1;break}}s.operating.scroll=!1}if(a){l=d;break}}else if("top"===t.mode)for(var _=0,w=n.length-i;_<=w;_++){a=!0;for(var k=_;k<_+i;k++){if(k>Math.floor(n.length/2)){a=!1;break}if((s=n[k]).operating[t.mode]){a=!1;break}if((s.bookId[t.mode]||t.prior)&&s.bookId[t.mode]!==t.id){a=!1;break}if(s.operating[t.mode]=!0,0<s.queue[t.mode].length){a=!1,s.operating[t.mode]=!1;break}s.operating[t.mode]=!1}if(a){l=_;break}}else if("bottom"===t.mode)for(var C=n.length-i;0<=C;C--){a=!0;for(var E=C;E<C+i;E++){if(E<=Math.floor(n.length/2)){a=!1;break}if((s=n[E]).operating[t.mode]){a=!1;break}if((s.bookId[t.mode]||t.prior)&&s.bookId[t.mode]!==t.id){a=!1;break}if(s.operating[t.mode]=!0,0<s.queue[t.mode].length){a=!1,s.operating[t.mode]=!1;break}s.operating[t.mode]=!1}if(a){l=C;break}}if(-1!==l){for(var S=l,P=l+i;S<P;S++)(s=n[S]).operating[t.mode]=!0,s.queue[t.mode].unshift(t),t.prior&&delete s.bookId[t.mode],s.operating[t.mode]=!1;return t.prior&&(delete t.bookChannelId,e.player&&e.bulletBtn.main.data.some(function(e){return e.id===t.id&&(delete e.bookChannelId,!0)})),t.channel_id=[l,i],"b2t"===this.direction?(t.top=l*o,this.danmu.config.area&&this.danmu.config.area.start&&(t.top+=this.containerWidth*this.danmu.config.area.start)):(t.top=l*r,this.danmu.config.area&&this.danmu.config.area.start&&(t.top+=this.containerHeight*this.danmu.config.area.start)),{result:t,message:"success"}}if(t.prior)if(t.bookChannelId)e.player&&e.bulletBtn.main.data.some(function(e){return e.id===t.id&&(e.start+=2e3,!0)});else{l=-1;for(var T=0,D=n.length-i;T<=D;T++){a=!0;for(var M=T;M<T+i;M++)if(n[M].bookId[t.mode]){a=!1;break}if(a){l=T;break}}if(-1!==l){for(var R=l;R<l+i;R++)n[R].bookId[t.mode]=t.id;e.player&&e.bulletBtn.main.data.some(function(e){return e.id===t.id&&(e.start+=2e3,e.bookChannelId=[l,i],!0)})}}return{result:!1,message:"no surplus will right"}}},{key:"removeBullet",value:function value(n){for(var e=this.channels,t=n.channel_id,r=void 0,o=t[0],i=t[0]+t[1];o<i;o++)if(r=e[o]){r.operating[n.mode]=!0;var a=-1;r.queue[n.mode].some(function(e,t){return e.id===n.id&&(a=t,!0)}),-1<a&&r.queue[n.mode].splice(a,1),r.operating[n.mode]=!1}n.options.loop&&this.danmu.bulletBtn.main.playedData.push(n.options)}},{key:"resetArea",value:function value(){var e=this.danmu.container,a=this,t=e.getBoundingClientRect();a.width=t.width,a.height=t.height,a.danmu.config.area&&0<=a.danmu.config.area.start&&a.danmu.config.area.end>=a.danmu.config.area.start&&("b2t"===a.direction?a.width=a.width*(a.danmu.config.area.end-a.danmu.config.area.start):a.height=a.height*(a.danmu.config.area.end-a.danmu.config.area.start)),a.container=e;var n,u=a.danmu.config.fontSize||(/mobile/gi.test(navigator.userAgent)?10:12);n="b2t"===a.direction?Math.floor(a.width/u):Math.floor(a.height/u);for(var c=[],r=0;r<n;r++)c[r]={id:r,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};if(a.channels&&a.channels.length<=c.length){for(var o=function s(n){c[n]={id:n,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top"].forEach(function(t){a.channels[n].queue[t].forEach(function(e){e.el&&(c[n].queue[t].push(e),e.resized||(e.pauseMove(a.containerPos,!1),"paused"!==e.danmu.bulletBtn.main.status&&e.startMove(a.containerPos),e.resized=!0))})}),a.channels[n].queue.bottom.forEach(function(e){if(e.el){if(c[n+c.length-a.channels.length].queue.bottom.push(e),e.channel_id[0]+e.channel_id[1]-1===n){var t=[].concat(e.channel_id);e.channel_id=[t[0]-a.channels.length+c.length,t[1]],e.top=e.channel_id[0]*u,a.danmu.config.area&&a.danmu.config.area.start&&(e.top+=a.containerHeight*a.danmu.config.area.start),e.topInit()}e.resized||(e.pauseMove(a.containerPos,!1),"paused"!==e.danmu.bulletBtn.main.status&&e.startMove(a.containerPos),e.resized=!0)}})},i=0;i<a.channels.length;i++)o(i);for(var p=function l(t){["scroll","top","bottom"].forEach(function(e){c[t].queue[e].forEach(function(e){e.resized=!1})})},f=0;f<c.length;f++)p(f);a.channels=c,"b2t"===a.direction?a.channelWidth=u:a.channelHeight=u}else if(a.channels&&a.channels.length>c.length){for(var g=function h(i){c[i]={id:i,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top","bottom"].forEach(function(r){if(!("top"===r&&i>Math.floor(c.length/2)||"bottom"===r&&i<=Math.floor(c.length/2))){var o="bottom"===r?i-c.length+a.channels.length:i;a.channels[o].queue[r].forEach(function(e,t){if(e.el){if(c[i].queue[r].push(e),"bottom"===r&&e.channel_id[0]+e.channel_id[1]-1===o){var n=[].concat(e.channel_id);e.channel_id=[n[0]-a.channels.length+c.length,n[1]],e.top=e.channel_id[0]*u,a.danmu.config.area&&a.danmu.config.area.start&&(e.top+=a.containerHeight*a.danmu.config.area.start),e.topInit()}e.resized||(e.pauseMove(a.containerPos,!1),"paused"!==e.danmu.bulletBtn.main.status&&e.startMove(a.containerPos),e.resized=!0)}a.channels[o].queue[r].splice(t,1)})}})},y=0;y<c.length;y++)g(y);for(var v=function d(t){["scroll","top","bottom"].forEach(function(e){c[t].queue[e].forEach(function(e){e.resized=!1})})},m=0;m<c.length;m++)v(m);a.channels=c,"b2t"===a.direction?a.channelWidth=u:a.channelHeight=u}}},{key:"reset",value:function value(){var i=this.danmu.container,a=this;a.channels&&0<a.channels.length&&["scroll","top","bottom"].forEach(function(e){for(var t=0;t<a.channels.length;t++)a.channels[t].queue[e].forEach(function(e){e.pauseMove(a.containerPos),e.remove()})}),setTimeout(function(){var e=i.getBoundingClientRect();a.width=e.width,a.height=e.height,a.danmu.config.area&&0<=a.danmu.config.area.start&&a.danmu.config.area.end>=a.danmu.config.area.start&&("b2t"===a.direction?a.width=a.width*(a.danmu.config.area.end-a.danmu.config.area.start):a.height=a.height*(a.danmu.config.area.end-a.danmu.config.area.start)),a.container=i;var t,n=a.danmu.config.fontSize||(/mobile/gi.test(navigator.userAgent)?10:12);t="b2t"===a.direction?Math.floor(a.width/n):Math.floor(a.height/n);for(var r=[],o=0;o<t;o++)r[o]={id:o,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};a.channels=r,"b2t"===a.direction?a.channelWidth=n:a.channelHeight=n},200)}},{key:"resetWithCb",value:function value(e,t){var n=this.danmu.container,r=this;r.channels&&0<r.channels.length&&["scroll","top","bottom"].forEach(function(e){for(var t=0;t<r.channels.length;t++)r.channels[t].queue[e].forEach(function(e){e.pauseMove(r.containerPos),e.remove()})});var o=n.getBoundingClientRect();r.width=o.width,r.height=o.height,r.danmu.config.area&&0<=r.danmu.config.area.start&&r.danmu.config.area.end>=r.danmu.config.area.start&&("b2t"===r.direction?r.width=r.width*(r.danmu.config.area.end-r.danmu.config.area.start):r.height=r.height*(r.danmu.config.area.end-r.danmu.config.area.start)),r.container=n;var i,a=r.danmu.config.fontSize||(/mobile/gi.test(navigator.userAgent)?10:12);i="b2t"===r.direction?Math.floor(r.width/a):Math.floor(r.height/a);for(var s=[],l=0;l<i;l++)s[l]={id:l,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};r.channels=s,r.channelHeight=a,e&&e(!0,t)}}]),t}();n.default=i,e.exports=n.default},function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=r(0),l=i&&i.__esModule?i:{default:i},a=function(){function t(e,n){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.danmu=e,this.options=n,this.duration=n.duration,this.moveV=n.moveV,this.id=n.id,this.container=e.container,this.start=n.start,this.prior=n.prior,this.color=n.color,this.bookChannelId=n.bookChannelId,this.direction=e.direction;var r=this;this.danmu.on("changeDirection",function(e){r.direction=e});var o=void 0;if(this.domObj=l.default.domObj,n.el&&1===n.el.nodeType)(o=this.domObj.use()).appendChild(l.default.copyDom(n.el));else if((o=this.domObj.use()).textContent=n.txt,n.style){var i=n.style;Object.keys(i).forEach(function(e){o.style[e]=i[e]})}"top"===n.mode||"bottom"===n.mode?this.mode=n.mode:this.mode="scroll",this.el=o,n.like&&n.like.el&&this.setLikeDom(n.like.el,n.like.style),this.status="waiting";var a=this.container.getBoundingClientRect(),s=Math.floor(Math.random()*(100<a.width/10?200:a.width/2));n.realTime&&(s=0),this.el.style.left=a.width+s+"px"}return o(t,[{key:"attach",value:function value(){if(this.container.appendChild(this.el),this.elPos=this.el.getBoundingClientRect(),"b2t"===this.direction?(this.width=this.elPos.height,this.height=this.elPos.width):(this.width=this.elPos.width,this.height=this.elPos.height),this.moveV){var e=this.container.getBoundingClientRect();this.duration=(e.width+this.width)/this.moveV*1e3}this.danmu.config.mouseControl&&this.el.addEventListener("mouseover",this.mouseoverFun.bind(this))}},{key:"mouseoverFun",value:function value(e){this.danmu.mouseControl&&this.danmu.config.mouseControlPause||"waiting"===this.status||"end"===this.status||this.danmu.emit("bullet_hover",{bullet:this,event:e})}},{key:"detach",value:function value(){var t=this;t.container&&t.el&&t.domObj.unuse(t.el),t.danmu.off("changeDirection",function(e){t.direction=e})}},{key:"topInit",value:function value(){if("b2t"===this.direction){var e=this.container.getBoundingClientRect();this.el.style.transformOrigin="left top",this.el.style.transform="translateX(-"+this.top+"px) translateY("+e.height+"px) translateZ(0px) rotate(90deg)",this.el.style.transition="transform 0s linear 0s"}else this.el.style.top=this.top+"px"}},{key:"pauseMove",value:function value(e,t){var n=1<arguments.length&&void 0!==t&&t,r=this;if("paused"!==this.status&&("forcedPause"!==r.status&&(this.status="paused"),clearTimeout(r.removeTimer),this.el))if(this.el.style.willChange="auto","scroll"===this.mode){if(n){var o,i=((new Date).getTime()-r.moveTime)/1e3*this.moveV;o=0<=r.moveMoreS-i?"b2t"===this.direction?(r.moveMoreS-i)/r.moveContainerHeight*e.height:(r.moveMoreS-i)/r.moveContainerWidth*e.width:r.moveMoreS-i,"b2t"===this.direction?this.el.style.transform="translateX(-"+this.top+"px) translateY("+o+"px) translateZ(0px) rotate(90deg)":this.el.style.left=o+"px"}else"b2t"===this.direction?this.el.style.transform="translateX(-"+this.top+"px) translateY("+(this.el.getBoundingClientRect().top-e.top)+"px) translateZ(0px) rotate(90deg)":this.el.style.left=this.el.getBoundingClientRect().left-e.left+"px";"b2t"===this.direction||(this.el.style.transform="translateX(0px) translateY(0px) translateZ(0px)"),this.el.style.transition="transform 0s linear 0s"}else this.pastDuration&&this.startTime?this.pastDuration=this.pastDuration+(new Date).getTime()-this.startTime:this.pastDuration=1}},{key:"startMove",value:function value(e,t){var n=this;if(n.hasMove||(n.danmu.emit("bullet_start",n),n.hasMove=!0),("forcedPause"!==n.status||t)&&this.el&&"start"!==this.status)if(this.status="start",this.el.style.willChange="transform","scroll"===this.mode)if("b2t"===this.direction){this.moveV=(e.height+this.height)/this.duration*1e3;var r=(n.el.getBoundingClientRect().bottom-e.top)/this.moveV;this.el.style.transition="transform "+r+"s linear 0s",setTimeout(function(){n.el&&(n.el.style.transform="translateX(-"+n.top+"px) translateY(-"+n.height+"px) translateZ(0px) rotate(90deg)",n.moveTime=(new Date).getTime(),n.moveMoreS=n.el.getBoundingClientRect().top-e.top,n.moveContainerHeight=e.height,n.removeTimer=setTimeout(a,1e3*r))},20)}else{this.moveV=(e.width+this.width)/this.duration*1e3;var o=(n.el.getBoundingClientRect().right-e.left)/this.moveV;this.el.style.transition="transform "+o+"s linear 0s",setTimeout(function(){n.el&&(n.el.style.transform="translateX(-"+(n.el.getBoundingClientRect().right-e.left)+"px) translateY(0px) translateZ(0px)",n.moveTime=(new Date).getTime(),n.moveMoreS=n.el.getBoundingClientRect().left-e.left,n.moveContainerWidth=e.width,n.removeTimer=setTimeout(a,1e3*o))},20)}else{this.el.style.left="50%",this.el.style.margin="0 0 0 -"+this.width/2+"px",this.pastDuration||(this.pastDuration=1);var i=this.duration>=this.pastDuration?this.duration-this.pastDuration:0;this.removeTimer=setTimeout(a,i),this.startTime=(new Date).getTime()}function a(){if(n.el)if("scroll"===n.mode){var e=n.danmu.container.getBoundingClientRect(),t=n.el.getBoundingClientRect();"b2t"===n.direction?t&&t.bottom<=e.top+100?(n.status="end",n.remove()):(n.pauseMove(e),"paused"!==n.danmu.bulletBtn.main.status&&n.startMove(e)):t&&t.right<=e.left+100?(n.status="end",n.remove()):(n.pauseMove(e),"paused"!==n.danmu.bulletBtn.main.status&&n.startMove(e))}else n.status="end",n.remove()}}},{key:"remove",value:function value(){var t=this;this.removeTimer&&clearTimeout(this.removeTimer),t.el&&t.el.parentNode&&(t.el.style.willChange="auto",this.danmu.off("changeDirection",function(e){t.direction=e}),this.domObj.unuse(t.el),t.el.parentNode.removeChild(t.el),t.el=null,t.danmu.emit("bullet_remove",{bullet:t}))}},{key:"setFontSize",value:function value(e){this.el&&(this.el.style.fontSize=e)}},{key:"setLikeDom",value:function value(t,n){if(t&&(Object.keys(n).forEach(function(e){t.style[e]=n[e]}),t.className="danmu-like",this.el)){var e=this.el.querySelector(".danmu-like");e&&this.el.removeChild(e),this.el.innerHTML=""+this.el.innerHTML+t.outerHTML}return t}}]),t}();n.default=a,e.exports=n.default},function(e,t,n){var r=n(31);"string"==typeof r&&(r=[[e.i,r,""]]);n(33)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(32)(!1)).push([e.i,".danmu{overflow:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none;-ms-user-select:none}.danmu>*{position:absolute;white-space:nowrap}.danmu-switch{width:32px;height:20px;border-radius:100px;background-color:#ccc;-webkit-box-sizing:border-box;box-sizing:border-box;outline:none;cursor:pointer;position:relative;text-align:center;margin:10px auto}.danmu-switch.danmu-switch-active{padding-left:12px;background-color:#f85959}.danmu-switch span.txt{width:20px;height:20px;line-height:20px;text-align:center;display:block;border-radius:100px;background-color:#ffffff;-webkit-box-shadow:-2px 0 0 0 rgba(0, 0, 0, .04);box-shadow:-2px 0 0 0 rgba(0, 0, 0, .04);font-family:PingFangSC;font-size:10px;font-weight:500;color:#f44336}\n",""])},function(e,t){e.exports=function(t){var a=[];return a.toString=function(){return this.map(function(i){var e=function(e){var t=i[1]||"",n=i[3];if(!n)return t;if(e&&"function"==typeof btoa){var r="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */",o=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[t].concat(o).concat([r]).join("\n")}return[t].join("\n")}(t);return i[2]?"@media "+i[2]+"{"+e+"}":e}).join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&n[i[0]]||(t&&!i[2]?i[2]=t:t&&(i[2]="("+i[2]+") and ("+t+")"),a.push(i))}},a}},function(e,t,n){var r,i,l={},u=(r=function i(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),a=function(){var n={};return function(e){if("function"==typeof e)return e();if(void 0===n[e]){var t=function s(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}}(),c=null,f=0,s=[],h=n(34);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=l[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(y(r.parts[i],t))}else{var a=[];for(i=0;i<r.parts.length;i++)a.push(y(r.parts[i],t));l[r.id]={id:r.id,refs:1,parts:a}}}}function p(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function m(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=s[s.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),s.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=E(e.insertAt)||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function g(e){if(null!==e.parentNode){e.parentNode.removeChild(e);var t=s.indexOf(e);0<=t&&s.splice(t,1)}}function v(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),b(t,e.attrs),m(e,t),t}function b(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function y(t,e){var n,r,i,a;if(e.transform&&t.css){if(!(a=e.transform(t.css)))return function(){};t.css=a}if(e.singleton){var s=f++;n=c=c||v(e),r=x.bind(null,n,s,!1),i=x.bind(null,n,s,!0)}else i=t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),m(e,t),t}(e),r=function M(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=h(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),function o(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=function _(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function o(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}e.exports=function(e,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=("undefined"==typeof document?"undefined":E(document)))throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==E(a.attrs)?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=u()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var s=p(e,a);return d(s,a),function(e){for(var t=[],n=0;n<s.length;n++){var r=s[n];(o=l[r.id]).refs--,t.push(o)}for(e&&d(p(e,a),a),n=0;n<t.length;n++){var o;if(0===(o=t[n]).refs){for(var i=0;i<o.parts.length;i++)o.parts[i]();delete l[o.id]}}}};var _,w=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function x(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,i=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n,r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?o+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}}])}))}).call(this,t(50)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function get(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function get(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports=function(n){var a=[];return a.toString=function toString(){return this.map(function(e){var t=function cssWithMappingToString(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=function toComment(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&n[i[0]]||(t&&!i[2]?i[2]=t:t&&(i[2]="("+i[2]+") and ("+t+")"),a.push(i))}},a}},function(e,t,n){var l={},r=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),i=function(){var n={};return function(e){if("function"==typeof e)return e();if(void 0===n[e]){var t=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}}(),s=null,u=0,a=[],c=n(53);function addStylesToDom(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=l[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(addStyle(r.parts[i],t))}else{var a=[];for(i=0;i<r.parts.length;i++)a.push(addStyle(r.parts[i],t));l[r.id]={id:r.id,refs:1,parts:a}}}}function listToStyles(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function insertStyleElement(e,t){var n=i(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=a[a.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),a.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=i(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function removeStyleElement(e){if(null!==e.parentNode){e.parentNode.removeChild(e);var t=a.indexOf(e);0<=t&&a.splice(t,1)}}function createStyleElement(e){var t=document.createElement("style");return e.attrs.type="text/css",addAttrs(t,e.attrs),insertStyleElement(e,t),t}function addAttrs(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function addStyle(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var a=u++;n=s=s||createStyleElement(e),r=applyToSingletonTag.bind(null,n,a,!1),o=applyToSingletonTag.bind(null,n,a,!0)}else o=t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function createLinkElement(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",addAttrs(t,e.attrs),insertStyleElement(e,t),t}(e),r=function updateLink(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),function(){removeStyleElement(n),n.href&&URL.revokeObjectURL(n.href)}):(n=createStyleElement(e),r=function applyToTag(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){removeStyleElement(n)});return r(t),function updateStyle(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}e.exports=function(e,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==typeof a.attrs?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=r()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var s=listToStyles(e,a);return addStylesToDom(s,a),function update(e){for(var t=[],n=0;n<s.length;n++){var r=s[n];(o=l[r.id]).refs--,t.push(o)}e&&addStylesToDom(listToStyles(e,a),a);for(n=0;n<t.length;n++){var o;if(0===(o=t[n]).refs){for(var i=0;i<o.parts.length;i++)o.parts[i]();delete l[o.id]}}}};var d=function(){var n=[];return function(e,t){return n[e]=t,n.filter(Boolean).join("\n")}}();function applyToSingletonTag(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t,n){"use strict";e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,i=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n,r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?o+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(o,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function MR(){var k=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MR),this.set=function(e,t){var n=e,r=t;if(null===r)return!1;var o="";if(-1<n.indexOf(".")){var i=n.split(".");o=i[0],n=i[1]}"os_version"===n&&(r=""+r),o?"user"===o||"header"===o?k.envInfo[o][n]=r:"headers"===o?k.envInfo.header.headers[n]=r:k.envInfo.header.headers.custom[n]=r:k.envInfo.user.hasOwnProperty(n)?-1<["user_type","device_id","ip_addr_id"].indexOf(n)?k.envInfo.user[n]=Number(r):-1<["user_id","web_id","user_unique_id","ssid"].indexOf(n)?k.envInfo.user[n]=String(r):-1<["user_is_auth","user_is_login"].indexOf(n)&&(k.envInfo.user[n]=Boolean(r)):k.envInfo.header.hasOwnProperty(n)?k.envInfo.header[n]=r:k.envInfo.header.headers.hasOwnProperty(n)?k.envInfo.header.headers[n]=r:k.envInfo.header.headers.custom[n]=r},this.get=function(){var e={user:{},header:{headers:{custom:{}}}},t=k.envInfo,n=t.user,r=Object.keys(n),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}n[a]!==E&&(e.user[a]=n[a])}var s=t.header,l=Object.keys(s),u=Array.isArray(l),c=0;for(l=u?l:l[Symbol.iterator]();;){var d;if(u){if(c>=l.length)break;d=l[c++]}else{if((c=l.next()).done)break;d=c.value}s[d]!==E&&"headers"!==d&&(e.header[d]=s[d])}var p=t.header.headers,f=Object.keys(p),h=Array.isArray(f),g=0;for(f=h?f:f[Symbol.iterator]();;){var y;if(h){if(g>=f.length)break;y=f[g++]}else{if((g=f.next()).done)break;y=g.value}"custom"!==y&&p[y]!==E&&(e.header.headers[y]=p[y])}var v=t.header.headers.custom,m=Object.keys(v);if(m.length){var b=m,x=Array.isArray(b),_=0;for(b=x?b:b[Symbol.iterator]();;){var w;if(x){if(_>=b.length)break;w=b[_++]}else{if((_=b.next()).done)break;w=_.value}e.header.headers.custom[w]=v[w]}}return{user:e.user,header:C({},e.header,{headers:e.header.headers})}},this.envInfo={user:{user_unique_id:E,user_type:E,user_id:E,user_is_auth:E,user_is_login:E,device_id:E,web_id:E,ip_addr_id:E,ssid:E},header:{app_id:E,app_name:E,app_install_id:E,app_package:E,app_channel:E,app_version:E,os_name:E,os_version:E,device_model:E,ab_client:E,ab_version:E,traffic_type:E,utm_source:E,utm_medium:E,utm_campaign:E,client_ip:E,device_brand:E,os_api:E,access:E,language:E,region:E,app_language:E,app_region:E,creative_id:E,ad_id:E,campaign_id:E,log_type:E,rnd:E,platform:E,sdk_version:E,province:E,city:E,timezone:E,tz_offset:E,tz_name:E,sim_region:E,carrier:E,resolution:E,browser:E,browser_version:E,referrer:E,referrer_host:E,headers:{utm_term:E,utm_content:E,custom:{}}}}}function NR(e){var t=document.createElement("a");return t.href=e,t}var E=void 0,s=screen.width||0,l=screen.height||0,u=s+" x "+l,d=navigator.appVersion,p=navigator.userAgent,h=navigator.language,g=document.referrer,y=NR(g).hostname,v=function e(t){var n=NR(t).search;n=n.slice(1);var o={};return n.split("&").forEach(function(e){var t=e.split("="),n=t[0],r=t[1];o[n]=decodeURIComponent(void 0===r?"":r)}),o}(location.href),m="",x="",_="",w=""+parseFloat(d),k=void 0,S=void 0;-1!==(k=p.indexOf("Opera"))&&(_="Opera",w=p.substring(k+6),-1!==(k=p.indexOf("Version"))&&(w=p.substring(k+8))),-1!==(k=p.indexOf("Edge"))?(_="Microsoft Edge",w=p.substring(k+5)):-1!==(k=p.indexOf("MSIE"))?(_="Microsoft Internet Explorer",w=p.substring(k+5)):-1!==(k=p.indexOf("Chrome"))?(_="Chrome",w=p.substring(k+7)):-1!==(k=p.indexOf("Safari"))?(_="Safari",w=p.substring(k+7),-1!==(k=p.indexOf("Version"))&&(w=p.substring(k+8))):-1!==(k=p.indexOf("Firefox"))&&(_="Firefox",w=p.substring(k+8)),-1!==(S=w.indexOf(";"))&&(w=w.substring(0,S)),-1!==(S=w.indexOf(" "))&&(w=w.substring(0,S)),-1!==(S=w.indexOf(")"))&&(w=w.substring(0,S));for(var P=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(d)?"wap":"web",T=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],D=0;D<T.length;D++){var M=T[D];if(M.r.test(p)){m=M.s;break}}function getVersion(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""}switch(/Windows/.test(m)&&(x=getVersion(/Windows (.*)/,m),m="windows"),m){case"Mac OS X":x=getVersion(/Mac OS X (10[\.\_\d]+)/,p),m="mac";break;case"Android":x=function getAndroidVersion(e){var t=getVersion(/Android ([\.\_\d]+)/,e);return t=t||getVersion(/Android\/([\.\_\d]+)/,e)}(p),m="android";break;case"iOS":x=(x=/OS (\d+)_(\d+)_?(\d+)?/.exec(d))?x[1]+"."+x[2]+"."+(0|x[3]):"",m="ios"}var R={screen_size:u,browser:_,browser_version:w,platform:P,os_name:m,os_version:x,userAgent:p,screen_width:s,screen_height:l,device_model:m,language:h,referrer:g,referrer_host:y,utm_source:v.utm_source,utm_medium:v.utm_medium,utm_campaign:v.utm_campaign,utm_term:v.utm_term,utm_content:v.utm_content},O={get:function e(t){var n="no localStorage";localStorage&&localStorage.getItem&&(n=localStorage.getItem(t));var r=n;try{n&&"string"==typeof n&&(r=JSON.parse(n))}catch(e){}return r},set:function e(t,n){try{var r="string"==typeof n?n:JSON.stringify(n);localStorage&&localStorage.setItem&&localStorage.setItem(t,r)}catch(e){}}},L="__tea_cache_",z=4001,A=4e3,q=4002,B=4003,F=500,j=5001,I="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return void 0===e?"undefined":c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":c(e)};function nS(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";!function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,nS),this.init=function(e){i.isLog=e},this.info=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;i.isLog&&(o=console).log.apply(o,[i.prefix+e].concat(n))},this.warn=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;i.isLog&&(o=console).warn.apply(o,[i.prefix+e].concat(n))},this.error=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;i.isLog&&(o=console).error.apply(o,[i.prefix+e].concat(n))},this.dir=function(){var e;i.isLog&&(e=console).dir.apply(e,arguments)},this.table=function(e){i.isLog&&console.table(e)},this.logJSON=function(e){"object"===(void 0===e?"undefined":I(e))&&i.isLog&&i.info("",JSON.stringify(e,null,2))},this.deprecated=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.warn.apply(i,["[DEPRECATED]"+e].concat(n))},this.throw=function(e){throw i.error(i.prefix),new Error(e)};var t=e?"["+e+"]":"";this.prefix="[tea-sdk]"+t}function pS(e,t,n,r){var o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onload=function(){try{var e=JSON.parse(o.responseText);n&&n(e)}catch(e){r&&r()}},o.onerror=function(){r&&r()},o.send(JSON.stringify(t))}var N=new nS;var U=(new Date).getTimezoneOffset(),H=parseInt(-U/60,10),V=60*U,W=void 0;try{W="3.2.7"}catch(e){W="2.x"}var K=new(function(t){function n(){!function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}(this,t.call(this));return e.initClientEnv=function(){e.set("os_name",R.os_name),e.set("os_version",R.os_version),e.set("device_model",R.device_model),e.set("platform",R.platform),e.set("sdk_version",W),e.set("browser",R.browser),e.set("browser_version",R.browser_version),e.set("language",R.language),e.set("timezone",H),e.set("tz_offset",V),e.set("resolution",R.screen_width+"x"+R.screen_height),e.set("screen_width",R.screen_width),e.set("screen_height",R.screen_height),e.set("referrer",R.referrer),e.set("referrer_host",R.referrer_host),e.set("utm_source",R.utm_source),e.set("utm_medium",R.utm_medium),e.set("utm_campaign",R.utm_campaign),e.set("utm_term",R.utm_term),e.set("utm_content",R.utm_content)},e.initClientEnv(),e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n}(MR));var J=new(function(){function e(){!function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.isString=function e(t){return"String"===Object.prototype.toString.call(t).slice(8,-1)},e.prototype.isNumber=function e(t){return"Number"===Object.prototype.toString.call(t).slice(8,-1)},e.prototype.isBoolean=function e(t){return"Boolean"===Object.prototype.toString.call(t).slice(8,-1)},e.prototype.isFunction=function e(t){return"Function"===Object.prototype.toString.call(t).slice(8,-1)},e.prototype.isNull=function e(t){return"Null"===Object.prototype.toString.call(t).slice(8,-1)},e.prototype.isUndefined=function e(t){return"Undefined"===Object.prototype.toString.call(t).slice(8,-1)},e.prototype.isObj=function e(t){return"Object"===Object.prototype.toString.call(t).slice(8,-1)},e.prototype.isArray=function e(t){return"Array"===Object.prototype.toString.call(t).slice(8,-1)},e.prototype.isFalse=function e(t){return""===t||null==t||"null"===t||"undefined"===t||0===t||!1===t||NaN===t},e.prototype.isTrue=function e(t){return!this.isFalse(t)},e.prototype.isLowIE=function e(){return window.XDomainRequest},e}());function zS(e){return function decrypto(e,t,n){if("string"==typeof e&&"number"==typeof t&&"number"==typeof n){var r,o=[];n=n<=25?n:n%25;var i=String.fromCharCode(n+97);r=e.split(i);for(var a=0;a<r.length;a++){var s=parseInt(r[a],n);s=+s^t;var l=String.fromCharCode(s);o.push(l)}return o.join("")}}(e,64,25)}function b(e){return e?(e^16*Math.random()>>e/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,b)}function AS(){return b().replace(/-/g,"").slice(0,19)}var $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function DS(e){try{var t=document.cookie.match(new RegExp("(?:^|;)\\s*"+e+"=([^;]+)"));return decodeURIComponent(t?t[1]:"")}catch(e){return""}}var X={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},G=function(t){function r(){!function _classCallCheck$4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var a=function _possibleConstructorReturn$1(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}(this,t.call(this));return a.init=function(e){var t=e.app_id,n=e.channel,r=e.log,o=e.channel_domain,i=e.name;if("number"!=typeof t)throw new Error("app_id 必须是一个数字，注意检查是否是以`string`的方式传入的？");a.logger=new nS(i),a.logger.init(r),a.initConfigs(e),a.initUrls(n,o),a.setEnv("app_id",t)},a.initConfigs=function(e){var t=e.app_id,n=e.disable_ssid,r=e.disable_webid,o=e.disable_sdk_monitor;a.app_id=t,a.evtDataCacheKey=L+"events_"+t,n&&(a.logger.info("ssid已禁用，设置user_unique_id不会请求ssid接口。"),a.isSsidDisabled=!0),r&&(a.logger.info("webid服务已禁用，ssid同时被禁用。将本地生成webid。"),a.isWebidDisabled=!0,a.isSsidDisabled=!0),o&&(a.logger.info("SDK监控已禁用。"),a.isSdkMonitorDisabled=!0)},a.initUrls=function(e,t){if("internal"===e&&(a.logger.warn("channel 的值 internal 已被废弃，已自动改为 cn。"),e="cn"),!t&&!X[e])throw new Error("channel 变量只能是 `cn`, `sg`,`va`");var n=t||zS(X[e]);n=n.replace(/\/+$/,""),a.reportUrl=n+"/v1/list",a.userTokensPrefix=""+n},a.setEnv=function(e,t){if("app_id"===e&&a.checkUserToken(t),"user_unique_id"===e){if(a.blackUuid.some(function(e){return e===String(t)}))return void a.logger.warn('设置了无效的值 {user_unique_id："%s"}。该操作已忽略。',t);a.verifyTokens(t)}if("web_id"===e){if(!t)return;(!a.envInfo.user.user_unique_id||a.envInfo.user.user_unique_id&&a.envInfo.user.user_unique_id===a.envInfo.user.web_id)&&a.set("user_unique_id",t)}a.set(e,t)},a.transferFromCookie=function(){var e=a.tokensCacheKey,t=DS("tt_webid"),n=DS("__tea_sdk__ssid"),r=DS("__tea_sdk__user_unique_id");if(J.isLowIE()){if(t){var o={web_id:t,ssid:t,user_unique_id:t};O.set(e,JSON.stringify(o))}return!1}if(t&&n&&r){var i={web_id:t,ssid:n,user_unique_id:r};O.set(e,JSON.stringify(i))}},a.purifyBlackUuid=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(a.blackUuid.some(function(e){return e===t.user_unique_id})){var e={};return a.setUserTokens(e),a.logger.warn('检测到无效的用户标识，已重置用户状态。{user_unique_id: "%s"}',t.user_unique_id),e}return t},a.getUserTokens=function(){return O.get(a.tokensCacheKey)||{}},a.setUserTokens=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return O.set(a.tokensCacheKey,e)},a.checkUserToken=function(e){var t=L+"tokens_"+e;a.tokensCacheKey=t,a.transferFromCookie();var n=a.purifyBlackUuid(a.getUserTokens());n.user_unique_id&&n.web_id?(a.envInfo.user.user_unique_id=n.user_unique_id,a.envInfo.user.web_id=n.web_id,a.envInfo.user.ssid=n.ssid||"",a.logger.info("初始化已经检测到了 webid user_unique_id，一般情况下不需要再次验证 id 了"),a.unlock()):a.requestWebId(e)},a.saveTokenToStorage=function(e){var t=e.web_id,n=e.ssid,r=e.user_unique_id;a.setUserTokens({web_id:t,ssid:n,user_unique_id:r})},a.requestWebId=function(){a.isRequestWebId=!0;function uW(e){var t=a.envInfo.user.web_id||e.web_id,n=e.ssid;a.isRequestWebId=!1,a.envInfo.user.ssid=n,a.envInfo.user.web_id=t,a.envInfo.user.user_unique_id=t,a.saveTokenToStorage({web_id:t,ssid:n,user_unique_id:t}),a.waitForVerifyTokens?(a.lock(),a.verifyTokens(a.realUuid)):(a.unlock(),a.callback&&a.callback())}(a.isWebidDisabled?function e(){uW({web_id:AS(),ssid:""})}:function e(){var t=a.userTokensPrefix+"/v1/user/webid";pS(t,{app_id:a.app_id,url:location.href,user_agent:R.userAgent,referer:R.referrer,user_unique_id:""},function(e){0!==e.e?a.logger.error("请求 webid 失败。请联系管理员。"):uW(e)},function(){a.isRequestWebId=!1,a.logger.error("获取 webid 失败，数据将不会被上报")})})()},a.verifyTokens=function(e){var t=a.tokensCacheKey;if(a.waitForVerifyTokens=!1,a.realUuid=""+e,a.isRequestWebId)return a.waitForVerifyTokens=!0,a.logger.info("正在请求 webid，requestSsid 将会在前者请求完毕之后被调用"),!1;var n=a.getUserTokens();if(n.user_unique_id===a.realUuid&&n.ssid&&n.web_id)a.logger.info("传入的 user_id/user_unique_id 与 缓存中的完全一致，无需再次请求"),a.unlock();else{a.lock(),a.envInfo.user.user_unique_id=a.realUuid;var r=$({},a.getUserTokens(),{user_unique_id:a.realUuid});if(O.set(t,JSON.stringify(r)),J.isLowIE())return a.unlock(),!1;a.isSsidDisabled?(a.unlock(),a.callback&&a.callback()):a.requestSsid()}},a.requestSsid=function(){var n=a.getUserTokens(),e=a.userTokensPrefix+"/v1/user/ssid";pS(e,{app_id:a.app_id,web_id:n.web_id,user_unique_id:""+n.user_unique_id},function(e){if(a.unlock(),0!==e.e)a.logger.error("请求 ssid 失败~");else{a.envInfo.user.ssid=e.ssid;var t=$({},n,{ssid:e.ssid});a.setUserTokens(t),a.logger.info("根据 user_unique_id 更新 ssid 成功！注意：在这之前不应该有数据被发出去"),a.callback&&a.callback()}},function(){a.unlock(),a.logger.error("根据 user_unique_id 获取新 ssid 失败")})},a.setEvtParams=function(e){var t=$({},e);Object.keys(t).forEach(function(e){a.evtParams[e]=t[e]})},a.mergeEnvToEvents=function(e){var t=a.mergeEnv(),n=[],r=0,o=void 0;return e.forEach(function(e){var t=!!e.params.__disable_storage__;void 0===o?o=t:(t!==o||5<=n[r].length)&&(r+=1,o=!o),n[r]=n[r]||[],n[r].push(e)}),n.map(function(e){return{events:e.map(function(e){var t=$({},a.evtParams,e.params);return delete t.__disable_storage__,$({},e,{params:JSON.stringify(t)})}),user:t.user,header:t.header,verbose:a.debugMode?1:void 0,__disable_storage__:e[0].params.__disable_storage__}})},a.mergeEnv=function(){var e=a.get(),t=K.get(),n=$({},e.user),r=$({},t.header.headers.custom,e.header.headers.custom),o=$({},t.header.headers,e.header.headers,{custom:r}),i=$({},t.header,e.header);return{user:n,header:$({},i,{headers:JSON.stringify(o)})}},a.evtParams={},a.reportUrl="",a.userTokensPrefix="",a.isSsidDisabled=!1,a.isWebidDisabled=!1,a.isSdkMonitorDisabled=!1,a.debugMode=!1,a.blackUuid=["null","undefined","0","","None"],a.logger=function(){},a}return function _inherits$1(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),r.prototype.lock=function e(){this.isUserTokensReady=!1},r.prototype.unlock=function e(){this.isUserTokensReady=!0},r.prototype.enableDebugMode=function e(t){this.debugMode=t},r}(MR);function FS(){var n=this;!function _classCallCheck$5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FS),this.set=function(e,t){n.cache[e]=t},this.get=function(e){return n.cache[e]},this.clean=function(e){n.cache[e]=void 0},this.cache={}}var Y=new FS;function JS(e,t){try{var r=e.split("v1")[0];t.forEach(function(e){var t=function e(t){var n="";for(var r in t)t.hasOwnProperty(r)&&(n+="&"+r+"="+encodeURIComponent(JSON.stringify(t[r])));return n="&"===n[0]?n.slice(1):n}(e),n=new Image(1,1);n.onload=function(){n=null},n.onerror=function(){n=null},n.src=r+"/v1/gif?"+t})}catch(e){}}function KS(e,t){if(window.XDomainRequest)return JS(e,t);var n=new XMLHttpRequest;n.open("POST",e+"?rdn="+Math.random(),!0),n.onload=function(){},n.onerror=function(){n.abort()},n.send(JSON.stringify(t))}function MS(r,o,i,a){try{var s=r.split("v1")[0];if(!s)return void a(r,o,z);o.forEach(function(e){var t=function e(t){var n="";for(var r in t)t.hasOwnProperty(r)&&(n+="&"+r+"="+encodeURIComponent(JSON.stringify(t[r])));return n="&"===n[0]?n.slice(1):n}(e),n=new Image(1,1);n.onload=function(){n=null,i()},n.onerror=function(){n=null,a(r,o,A)},n.src=s+"/v1/gif?"+t})}catch(e){a(r,o,q,e.message)}}var Q=function(){function t(e){var n=e.disable_storage,r=void 0!==n&&n;!function _classCallCheck$6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._isPersistent=!r,this._storage=this._isPersistent?O:new FS,this._storageKey="",this._data=void 0}return t.prototype.setStorageKey=function e(t){this._storageKey=t},t.prototype.getAllEvents=function e(){var n=this.getData();Object.keys(n).reduce(function(e,t){return e.concat(n[t]||[])},[])},t.prototype.getData=function e(){return this._checkIsDataInit(),this._data},t.prototype.add=function e(t,n){var r=1<arguments.length&&void 0!==n?n:[];this._checkIsDataInit(),0!==r.length&&(this._data[t]=r,this._save())},t.prototype.delete=function e(t){this._checkIsDataInit(),this._data[t]&&(delete this._data[t],this._save())},t.prototype._checkIsDataInit=function e(){if(void 0===this._data)try{var t,n=this._getDataFromStorage();if(J.isArray(n))this._data=((t={})[AS()]=n,t),this._save();else this._data=n}catch(e){this._data={}}},t.prototype._checkStorageKey=function e(){if(!this._storageKey)throw new Error("must call setStorageKey('xxx') first")},t.prototype._getDataFromStorage=function e(){return this._checkStorageKey(),this._storage.get(this._storageKey)||{}},t.prototype._save=function e(){this._checkStorageKey(),this._storage.set(this._storageKey,this._data)},t}();function OS(t){var u=this;!function _classCallCheck$7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OS),this.send=function(t){var n=t.url,r=t.data,a=t.success,o=t.fail,s=t.eventError;if(!function e(t){var n=t.url,r=t.data,o=t.success,i=t.fail,a=t.notSure,s=t.isUnload,l=r;if(window.XDomainRequest)MS(n,l,o,i);else{if(s)return window.navigator&&window.navigator.sendBeacon?(a(),window.navigator.sendBeacon(n,JSON.stringify(l))?o():i(n,r,B)):MS(n,l,o,i);var u=new XMLHttpRequest;u.open("POST",n+"?rdn="+Math.random(),!0),u.onload=function(){o(n,l,u.responseText)},u.onerror=function(){u.abort(),i(n,l,F)},u.send(JSON.stringify(l))}}({url:n,data:r,success:function e(t,n,r){a();try{var o=JSON.parse(r).e;if(0!==o){var i="未知错误";-2===o&&(i="事件格式错误！请检查字段类型是否正确。"),u.logger.error("数据上报失败！","错误码："+o+"。错误信息："+i),s(n,o),ee(t,n,o)}}catch(e){ee(t,n,j)}},fail:function e(t,n,r){u.logger.error("数据上报失败！","错误码："+r),o(n,r),ee(t,n,r)},notSure:t.notSure,isUnload:t.isUnload}),!u.isSdkMonitorDisabled&&!u.isSdkOnLoadEventReady){u.isSdkOnLoadEventReady=!0;try{var i=r[0].header,l=r[0].user;Z(n,{app_id:i.app_id,app_name:i.app_name,sdk_version:i.sdk_version,web_id:l.web_id})}catch(t){}}},this.logger=t.logger||N,this.isSdkOnLoadEventReady=!1,this.isSdkMonitorDisabled=!1}var Z=function e(t,n){try{var r={events:[{event:"onload",params:JSON.stringify({app_id:n.app_id,app_name:n.app_name||"",sdk_version:n.sdk_version}),local_time_ms:Date.now()}],user:{user_unique_id:n.web_id},header:{app_id:1338}};setTimeout(function(){KS(t,[r])},16)}catch(e){}},ee=function e(t,n,r){try{var o=n[0].user,i=n[0].header,a=[];n.forEach(function(e){e.events.forEach(function(e){a.push(e)})});var s={events:a.map(function(e){return{event:"on_error",params:JSON.stringify({error_code:r,app_id:i.app_id,app_name:i.app_name||"",error_event:e.event,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(i),user:JSON.stringify(o)}),local_time_ms:Date.now()}}),user:{user_unique_id:o.user_unique_id},header:{app_id:1338}};setTimeout(function(){KS(t,[s])},16)}catch(e){}};var te=function(u){function f(t){!function _classCallCheck$8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var a=function _possibleConstructorReturn$2(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}(this,u.call(this));a.addListener=function(){window.addEventListener("unload",function(){a.report(!0)},!1),window.addEventListener("beforeunload",function(){a.report(!0)},!1),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&a.report(!0)},!1)},a.setReady=function(e){a.isReady=e,a.eventSender.isSdkMonitorDisabled=a.isSdkMonitorDisabled,a.checkAndSendCachedStorageEvents(),a.report()},a.eventReportTimer=null,a.event=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=Y.get(a.evtDataCacheKey)||[],r=t?[].concat(e,n):[].concat(n,e);Y.set(a.evtDataCacheKey,r),5<=r.length?a.report():(a.eventReportTimer&&clearTimeout(a.eventReportTimer),a.eventReportTimer=setTimeout(function(){a.report(),a.eventReportTimer=null},a.waitForBatchTime))},a.report=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!a.isUserTokensReady)return!1;if(!a.isReady)return!1;var t=Y.get(a.evtDataCacheKey)||[];Y.clean(a.evtDataCacheKey);var n=a.mergeEnvToEvents(t);a.sendData(n,e)},a.sendData=function(e,n){var r=[],o=0,i=void 0;e.forEach(function(e){var t=!!e.__disable_storage__;void 0===i?i=t:(t!==i||5<=r[o].length)&&(o+=1,i=!i),r[o]=r[o]||[],r[o].push(e)}),r.forEach(function(e){var t=AS();e[0].__disable_storage__||a.eventStorage.add(t,e),a._sendData(t,e,n)})},a.checkAndSendCachedStorageEvents=function(){var t=a.eventStorage.getData(),e=Object.keys(t);0<e.length&&e.forEach(function(e){a._sendData(e,t[e])})},a._sendData=function(t,n,r){a.isReporting=!0;function AZ(){a.isReporting=!1}a.eventSender.send({url:a.reportUrl,data:n,success:function e(){AZ(),a.sendDataSuccess(t)},fail:function e(t,n){AZ(),a.reportErrorCallback(t,n),setTimeout(function(){a.report()},3e3)},eventError:function e(t,n){a.reportErrorCallback(t,n)},notSure:AZ,isUnload:r})},a.sendDataSuccess=function(e){a.eventStorage.delete(e),a.report()};var n=t.log,r=t.disable_storage,o=t.max_batch_num,i=void 0===o?5:o,s=t.batch_time,l=void 0===s?30:s;return a.init(t),a.maxBatchNum=i,a.waitForBatchTime=l,a.isReady=!1,a.addListener(),a.enableDebugMode(!!n),a.eventStorage=new Q({disable_storage:r}),a.eventStorage.setStorageKey(a.evtDataCacheKey),a.eventSender=new OS({logger:a.logger}),a.reportErrorCallback=function(){},a}return function _inherits$2(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,u),f}(G),ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function VS(e){var l=this;!function _classCallCheck$9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VS),this.init=function(e){if(!J.isObj(e))throw new Error("init 的参数必须是Object类型");l.logger.init(e.log),l.channel=new te(ne({},e,{name:l.name})),l.channel.callback=function(){l.callbackSend&&l.start()}},this.config=function(e){J.isObj(e)||l.logger.throw("config 参数必须是 {} 的格式"),e.log&&(l.logger.init(!0),l.channel.enableDebugMode(!0),e.log=null);var t=Object.keys(e);if(!t.length)return!1;var n=t,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i,s=e[a];switch(a){case"evtParams":l.channel.setEvtParams(s);break;case"disable_ssid":l.logger.deprecated("(disable_ssid)请通过init函数来设置。"),s&&(l.logger.info("ssid已禁用，设置user_unique_id不会请求ssid接口。"),l.channel.isSsidDisabled=s);break;case"disable_auto_pv":s&&(l.logger.info("已禁止默认上报predefine_pageview事件，需手动上报。"),l._autoSendPV=!1);break;case"_staging_flag":""+s=="1"&&l.logger.info("根据_staging_flag设置，数据将会上报到stag 表。"),l.channel.setEvtParams({_staging_flag:Number(s)});break;case"reportErrorCallback":"function"==typeof s&&(l.channel.reportErrorCallback=s);break;default:l.channel.setEnv(a,s)}}},this.send=function(){l.start()},this.start=function(){if(l.channel.isUserTokensReady){if(l._isSendFuncCalled)return;l._isSendFuncCalled=!0,l.logger.info("看到本提示，意味着用户信息已完全就绪，上报通道打开。用户标识如下："),l.logger.logJSON(l.channel.get().user),l._autoSendPV&&l.predefinePageView(),l.channel.setReady(!0)}else l.callbackSend=!0},this.predefinePageView=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={title:document.title||location.pathname,url:location.href,url_path:location.pathname},n=ne({},t,e);l.event("predefine_pageview",n,!0)},this.event=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=J.isBoolean(t[t.length-1]),o=!!r&&t[t.length-1],i=r?t.slice(0,t.length-1):t,a=i[0],s=[];J.isArray(a)?s=i:s[0]=i,s=s.map(function(e){return function e(t,n){var r=t;/^event\./.test(t)&&(r=t.slice(6));var o=n;return J.isObj(o)||(o={}),o.event_index=re(),{event:r,params:o,local_time_ms:+new Date}}.apply(void 0,e)}),l.channel.event(s,o)},this._isSendFuncCalled=!1,this._autoSendPV=!0,this.name=e,this.logger=new nS(e)}var re=function(){var e=+Date.now()+Number((""+Math.random()).slice(2,8));return function(){return e+=1}}();VS.exportMethods=["init","config","send","start","predefinePageView"];i.default=function e(t){var a=this;return function _classCallCheck$a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._exportCollect=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a._isQueueProcessed?a._executeCmd.apply(a,t):(a.cmdQueue.push(t),a._processCmdQueue())},this._processCmdQueue=function(){if(0!==a.cmdQueue.length){var n=function e(t,n,r){var o=-1;return t.forEach(function(e,t){(void 0!==r?e[r]:e)===n&&(o=t)}),o}(a.cmdQueue,"init","0");-1!==n&&(a._isQueueProcessed=!0,a._executeCmd.apply(a,a.cmdQueue[n]),a.cmdQueue.forEach(function(e,t){t!==n&&a._executeCmd.apply(a,e)}),a.cmdQueue=[])}},this._executeCmd=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o,i=t[0];-1<VS.exportMethods.indexOf(i)?(r=a.colloctor)[i].apply(r,t.slice(1)):(o=a.colloctor).event.apply(o,t)},this.name=t||"Collector"+ +new Date,this.cmdQueue=[],this.colloctor=new VS(this.name),this._isQueueProcessed=!1,this._processCmdQueue(),this._exportCollect.init=this._exportCollect.bind(this,"init"),this._exportCollect.config=this._exportCollect.bind(this,"config"),this._exportCollect.send=this._exportCollect.bind(this,"send"),this._exportCollect.start=this._exportCollect.bind(this,"start"),this._exportCollect.predefinePageView=this._exportCollect.bind(this,"predefinePageView"),this._exportCollect},o.exports=i.default},function(e,t,n){e.exports=n(56)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=_interopRequireDefault(n(0)),o=_interopRequireDefault(n(57)),i=_interopRequireDefault(n(36)),a=_interopRequireDefault(n(58)),s=_interopRequireDefault(n(59)),l=_interopRequireDefault(n(60)),u=_interopRequireDefault(n(61)),c=_interopRequireDefault(n(62)),d=_interopRequireDefault(n(37)),p=_interopRequireDefault(n(63)),f=_interopRequireDefault(n(38)),h=_interopRequireDefault(n(39)),g=_interopRequireDefault(n(64)),y=_interopRequireDefault(n(40)),v=_interopRequireDefault(n(41)),m=_interopRequireDefault(n(65)),b=_interopRequireDefault(n(42)),x=_interopRequireDefault(n(43)),_=_interopRequireDefault(n(44)),w=_interopRequireDefault(n(45)),k=_interopRequireDefault(n(46)),C=_interopRequireDefault(n(47)),E=_interopRequireDefault(n(66)),S=_interopRequireDefault(n(67)),P=_interopRequireDefault(n(70)),T=_interopRequireDefault(n(48)),D=_interopRequireDefault(n(71)),M=_interopRequireDefault(n(54));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n(72);var R={};function _buildTree(e,n,r){var o=e;n.map(function(e,t){o[e]=t==n.length-1?r:o[e]||{},o=o[e]})}_buildTree(R,["control","collect"],M.default),_buildTree(R,["control","cssFullscreen"],D.default),_buildTree(R,["control","danmu"],T.default),_buildTree(R,["control","definition"],P.default),_buildTree(R,["control","download"],S.default),_buildTree(R,["control","error"],E.default),_buildTree(R,["control","flex"],C.default),_buildTree(R,["control","fullscreen"],k.default),_buildTree(R,["control","i18n"],w.default),_buildTree(R,["control","keyboard"],_.default),_buildTree(R,["control","loading"],x.default),_buildTree(R,["control","localPreview"],b.default),_buildTree(R,["control","logger"],m.default),_buildTree(R,["control","mobile"],v.default),_buildTree(R,["control","pc"],y.default),_buildTree(R,["control","pip"],g.default),_buildTree(R,["control","play"],h.default),_buildTree(R,["control","playbackRate"],f.default),_buildTree(R,["control","playNext"],p.default),_buildTree(R,["control","poster"],d.default),_buildTree(R,["control","progress"],c.default),_buildTree(R,["control","replay"],u.default),_buildTree(R,["control","rotate"],l.default),_buildTree(R,["control","screenShot"],s.default),_buildTree(R,["control","textTrack"],a.default),_buildTree(R,["control","time"],i.default),_buildTree(R,["control","volume"],o.default),t.default=r.default,e.exports=t.default},function(e,t,n){"use strict";var P=_interopRequireDefault(n(0)),T=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}P.default.install("volume",function volume(){var a=this,s=P.default.util,e=P.default.sniffer,t=.0220625;function canplayVolFunc(){a.config.autoplay&&a.config.autoplayMuted?a.volume=0:a.volume=a.config.volume}a.config.autoplayMuted&&(a.config.volume=a.config.autoplay?0:a.config.volume),a.once("canplay",canplayVolFunc);var volume=a.config.volume;if("mobile"!==e.device){var n={muted:"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z",small:"M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z",large:"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"},r=function v2s(e){return 0===e?"muted":e<.5?"small":"large"},o=n[r(volume)],i=n[r(volume)],l=s.createDom("xg-volume",'<xg-icon class="xgplayer-icon">\n                                                    <svg xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024">\n                                                        <path transform="scale('+t+" "+t+')" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n                                                        <path transform="scale('+t+" "+t+')" d="'+i+'"></path>\n                                                    </svg>\n                                                </xg-icon>\n                                                <xg-slider class="xgplayer-slider" tabindex="2">\n                                                    <xg-bar class="xgplayer-bar">\n                                                        <xg-drag class="xgplayer-drag"></xg-drag>\n                                                    </xg-bar>\n                                                </xg-slider>',{},"xgplayer-volume");a.controls.appendChild(l);var u=void 0,c=l.querySelector(".xgplayer-slider"),d=l.querySelector(".xgplayer-bar"),p=l.querySelector(".xgplayer-drag"),f=l.querySelector(".xgplayer-icon");p.style.height=100*a.config.volume+"%";var h=l.querySelectorAll("path")[1],g=new T.default({progress:function progress(e){var t=g.toSVGString(e);h.setAttribute("d",t),o=t},from:o,to:n.large}),y=null;c.volume=a.config.volume,["touchstart","mousedown"].forEach(function(e){d.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),a.video.muted=!1,c.focus(),s.event(e),u=d.getBoundingClientRect().height;e.clientX;function a1(e){e.preventDefault(),e.stopPropagation(),s.event(e),i=!0;var t=o-e.clientY+r,n=t/u;p.style.height=t+"px",a.volume=Math.max(Math.min(n,1),.01)}function b1(e){if(e.preventDefault(),e.stopPropagation(),s.event(e),window.removeEventListener("mousemove",a1),window.removeEventListener("touchmove",a1),window.removeEventListener("mouseup",b1),window.removeEventListener("touchend",b1),y=y||d.getBoundingClientRect(),!i){var t=y.height-(e.clientY-y.top),n=t/y.height;p.style.height=t+"px",n<=0&&(0<a.volume?p.volume=a.video.volume:n=p.volume),a.volume=Math.max(Math.min(n,1),.01)}c.volume=a.volume,i=!1}var r=e.clientY,o=p.getBoundingClientRect().height,i=!1;return window.addEventListener("mousemove",a1),window.addEventListener("touchmove",a1),window.addEventListener("mouseup",b1),window.addEventListener("touchend",b1),!1})}),["touchstart","mousedown"].forEach(function(e){f.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),a.video.muted=!1,0===a.volume?a.volume=c.volume:a.volume=0})}),f.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),s.addClass(a.root,"xgplayer-volume-active"),l.focus()}),l.addEventListener("blur",function(e){e.preventDefault(),e.stopPropagation(),s.removeClass(a.root,"xgplayer-volume-active")}),l.addEventListener("mouseleave",function(e){e.preventDefault(),e.stopPropagation(),s.removeClass(a.root,"xgplayer-volume-active")});var v=null;a.on("volumechange",volumechangeFunc),a.once("destroy",function destroyFunc(){a.off("canplay",canplayVolFunc),a.off("volumechange",volumechangeFunc),a.off("destroy",destroyFunc)})}else{var m=.0220625,b={muted:"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z",large:"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"},x=function _v2s(e){return 0===e?"muted":"large"},_=b[x(volume)],w=b[x(volume)],k=s.createDom("xg-volume",'<xg-icon class="xgplayer-icon">\n                                                      <svg xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024">\n                                                          <path transform="scale('+m+" "+m+')" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n                                                          <path transform="scale('+m+" "+m+')" d="'+w+'"></path>\n                                                      </svg>\n                                                  </xg-icon>',{},"xgplayer-volume");a.controls.appendChild(k);var C=k.querySelector(".xgplayer-icon"),E=k.querySelectorAll("path")[1],S=new T.default({progress:function progress(e){var t=S.toSVGString(e);E.setAttribute("d",t),_=t},from:_,to:b.large});["touchend","mousedown"].forEach(function(e){C.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),_=a.video.muted?(a.video.muted=!1,a.volume=1,S.reset(b.large,b.muted),b.large):(a.volume=0,a.video.muted=!0,S.reset(b.muted,b.large),b.muted)})})}function volumechangeFunc(){v&&clearTimeout(v),v=setTimeout(function(){g.reset(n[r(a.volume)],o),o=n[r[a.volume]],u=u||(d.getBoundingClientRect().height||76),p.style.height=a.volume*u+"px"},50)}})},function(e,t,n){"use strict";var l=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));l.default.install("textTrack",function textTrack(){if(-1!==navigator.userAgent.indexOf("Chrome")){var r=this,o=l.default.util,i=(l.default.sniffer,o.createDom("xg-textTrack","",{tabindex:7},"xgplayer-textTrack")),a=r.controls,s=r.config.textTrack;s&&Array.isArray(s)&&1<s.length&&(o.addClass(r.root,"xgplayer-is-textTrack"),r.on("canplay",function(){var t=["<ul>"];t.push("<li class=''}'>关闭</li>"),s.forEach(function(e){t.push("<li class='"+(e.default?"textTrack":"")+"'>"+e.label+"</li>")});var e=r.config.lang&&"zh-cn"===r.config.lang?"字幕":"Caption";t.push('</ul><p class="name"><em>'+e+"</em></p>");var n=a.querySelector(".xgplayer-textTrack");n?(n.innerHTML=t.join(""),n.querySelector(".name").addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),o.addClass(r.root,"xgplayer-textTrack-active"),n.focus()})):(i.innerHTML=t.join(""),i.querySelector(".name").addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),o.addClass(r.root,"xgplayer-textTrack-active"),i.focus()}),a.appendChild(i))})),["touchend","click"].forEach(function(e){i.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation();var t=e.target||e.srcElement;if(t&&"li"===t.tagName.toLocaleLowerCase()){Array.prototype.forEach.call(t.parentNode.childNodes,function(e){o.removeClass(e,"textTrack")}),o.addClass(t,"textTrack");var n=r.root.getElementsByTagName("Track");"关闭"===t.innerHTML?(n[0].track.mode="hidden",o.removeClass(r.root,"xgplayer-textTrack-active")):(o.hasClass(r.root,"xgplayer-textTrack-active")||o.addClass(r.root,"xgplayer-textTrack-active"),n[0].track.mode="showing",s.some(function(e){if(e.label===t.innerHTML)return n[0].src=e.src,e.kind&&(n[0].kind=e.kind),n[0].label=e.label,e.srclang&&(n[0].srclang=e.srclang),!0}),r.emit("textTrackChange",t.innerHTML))}},!1)}),i.addEventListener("mouseleave",function(e){e.preventDefault(),e.stopPropagation(),o.removeClass(r.root,"xgplayer-textTrack-active")})}})},function(e,t,n){"use strict";var a=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));a.default.install("screenShot",function screenShot(){var t=this,e=a.default.util;if(t.config.screenShot){var n=e.createDom("xg-screenShot",'<p class="name"><span>截图</span></p>',{tabindex:11},"xgplayer-screenShot"),r=document.createElement("canvas"),o=r.getContext("2d"),i=new Image;r.width=this.config.width||600,r.height=this.config.height||337.5,t.controls.appendChild(n);["click","touchstart"].forEach(function(e){n.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),i.onload=(o.drawImage(t.video,0,0,r.width,r.height),i.setAttribute("crossOrigin","anonymous"),i.src=r.toDataURL("image/png").replace("image/png","image/octet-stream"),void function saveScreenShot(e,t){var n=document.createElement("a");n.href=e,n.download=t;var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)}(i.src.replace(/^data:image\/[^;]+/,"data:application/octet-stream"),"截图.png"))})})}})},function(e,t,n){"use strict";var o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));o.default.install("rotate",function rotate(){var i=this;if(this.config.rotate){!0===this.config.rotate&&(this.config.rotate={});var e=o.default.util,t=e.createDom("xg-rotate",'<xg-icon class="xgplayer-icon xgplayer-rotate-img"></xg-icon>',{},"xgplayer-rotate"),n=i.config.lang&&"zh-cn"===i.config.lang?"旋转":"Rotate",r=e.createDom("xg-tips",n,{},"xgplayer-tips");t.appendChild(r),i.controls.appendChild(t);var a=0;i.rotate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=i.root.offsetWidth,n=i.root.offsetHeight;i.config.rotate.innerRotate||(i.root.style.width=n+"px",i.root.style.height=t+"px");var r=i.config.rotate.clockwise?1:-1,o=void 0;o=.25===(a=(a+1+.25*r*e)%1)||.75===a?(i.config.rotate.innerRotate,(n/t).toFixed(2)):1,i.video.style.transformOrigin="center center",i.video.style.transform="rotate("+a+"turn) scale("+o+")",i.video.style.webKitTransform="rotate("+a+"turn) scale("+o+")",i.emit("rotate",360*a)},t.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),r.style.left="50%";var t=r.getBoundingClientRect(),n=i.root.getBoundingClientRect();t.right>n.right&&(r.style.left=-t.right+n.right+16+"px")}),t.addEventListener("click",function(){i.rotate()})}})},function(e,t,n){"use strict";var d=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));d.default.install("replay",function replay(){var n=this,r=d.default.util,o=n.config.centerBtn?n.config.centerBtn:{},e=void 0,i=void 0,a=void 0,t=void 0;if(!(-1<navigator.userAgent.indexOf("iPhone OS 9"))){if("img"===o.type){if(i=r.createDom("xg-replay",'<div class="xgplayer-replay-img"></div>',{},"xgplayer-replay"),(a=i.querySelector(".xgplayer-replay-img")).style.backgroundImage='url("'+o.url.replay+'")',o.width&&o.height){var s=void 0,l=void 0,u=void 0;["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(e){return!(-1<o.width.indexOf(e)&&-1<o.height.indexOf(e))||(s=parseFloat(o.width.slice(0,o.width.indexOf(e)).trim()),l=parseFloat(o.height.slice(0,o.height.indexOf(e)).trim()),u=e,!1)}),a.style.width=""+s+u,a.style.height=""+l+u,a.style.backgroundSize=""+s+u+" "+l+u,a.style.margin="-"+l/2+u+" auto auto -"+s/2+u}}else e={replay:o.replayPath?o.replayPath:"M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"},t=(i=r.createDom("xg-replay",'\n          <svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" width="78" height="78" viewbox="0 0 78 78">\n            <path d="'+e.replay+'"></path>\n          </svg>\n          <xg-replay-txt class="xgplayer-replay-txt">重播</xg-replay-txt>\n          ',{},"xgplayer-replay")).querySelector(".xgplayer-replay-svg");var c=n.root;c.appendChild(i),n.on("ended",endedFunc),(t||a).addEventListener("click",function(e){e.preventDefault(),r.removeClass(c,"replay"),n.replay()}),n.once("destroy",function destroyFunc(){n.off("ended",endedFunc),n.off("destroy",destroyFunc)})}function endedFunc(){if("img"===o.type)a.style.backgroundImage='url("'+o.url.replay+'")';else{i.querySelector(".xgplayer-replay-txt").textContent=n.lang.REPLAY;var e=i.querySelector("path"),t=window.getComputedStyle(e).getPropertyValue("transform");"none"!==t&&e.setAttribute("transform",t)}n.config.loop||r.addClass(c,"replay")}})},function(e,t,n){"use strict";var d=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));function g3(e){return d.default.util.hasClass(e.root,"xgplayer-rotate-fullscreen")}d.default.install("progress",function progress(){var p=this,f=d.default.util,h=f.createDom("xg-progress",'<xg-outer class="xgplayer-progress-outer"><xg-cache class="xgplayer-progress-cache"></xg-cache><xg-played class="xgplayer-progress-played"></xgplayer-played><xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn><xg-point class="xgplayer-progress-point xgplayer-tips"></xg-point><xg-thumbnail class="xgplayer-progress-thumbnail xgplayer-tips"></xg-thumbnail></xg-outer>',{tabindex:1},"xgplayer-progress"),a=p.controls,s=void 0;a.appendChild(h);var progress=h.querySelector(".xgplayer-progress-played"),l=h.querySelector(".xgplayer-progress-btn"),r=h.querySelector(".xgplayer-progress-outer"),i=h.querySelector(".xgplayer-progress-cache"),g=h.querySelector(".xgplayer-progress-point"),y=h.querySelector(".xgplayer-progress-thumbnail");function dotEvent(t,n){t.addEventListener("mouseenter",function(e){n&&(f.addClass(t,"xgplayer-progress-dot-show"),f.addClass(h,"xgplayer-progress-dot-active"))}),t.addEventListener("mouseleave",function(e){n&&(f.removeClass(t,"xgplayer-progress-dot-show"),f.removeClass(h,"xgplayer-progress-dot-active"))}),t.addEventListener("touchend",function(e){e.preventDefault(),e.stopPropagation(),n&&(f.hasClass(t,"xgplayer-progress-dot-show")||Object.keys(p.dotArr).forEach(function(e){p.dotArr[e]&&f.removeClass(p.dotArr[e],"xgplayer-progress-dot-show")}),f.toggleClass(t,"xgplayer-progress-dot-show"),f.toggleClass(h,"xgplayer-progress-dot-active"))})}function canplayProgFunc(){p.config.progressDot&&"Array"===f.typeOf(p.config.progressDot)&&p.config.progressDot.forEach(function(e){if(0<=e.time&&e.time<=p.duration){var t=f.createDom("xg-progress-dot",e.text?'<span class="xgplayer-progress-tip">'+e.text+"</span>":"",{},"xgplayer-progress-dot");t.style.left=e.time/p.duration*100+"%",r.appendChild(t),dotEvent(p.dotArr[e.time]=t,e.text)}})}p.dotArr={},p.once("canplay",canplayProgFunc),p.addProgressDot=function(e,t){if(!p.dotArr[e]&&0<=e&&e<=p.duration){var n=f.createDom("xg-progress-dot","",{},"xgplayer-progress-dot");n.style.left=e/p.duration*100+"%",r.appendChild(n),dotEvent(p.dotArr[e]=n,t)}},p.removeProgressDot=function(e){if(0<=e&&e<=p.duration&&p.dotArr[e]){var t=p.dotArr[e];t.parentNode.removeChild(t),t=null,p.dotArr[e]=null}},p.removeAllProgressDot=function(){Object.keys(p.dotArr).forEach(function(e){if(p.dotArr[e]){var t=p.dotArr[e];t.parentNode.removeChild(t),t=null,p.dotArr[e]=null}})};var v=0,m=0,b=0,x=0,_=0,w=0,k=[],C=1;p.config.thumbnail&&(v=p.config.thumbnail.pic_num,m=p.config.thumbnail.width,b=p.config.thumbnail.height,x=p.config.thumbnail.col,_=p.config.thumbnail.row,k=p.config.thumbnail.urls,C=p.config.thumbnail.scale||1,y.style.width=m+"px",y.style.height=b+"px",y.style.transform="scale("+C+")",y.style.transformOrigin="center bottom"),["touchstart","mousedown"].forEach(function(e){h.addEventListener(e,function(e){if(e.preventDefault(),e.stopPropagation(),f.event(e),e._target===g||!p.config.allowSeekAfterEnded&&p.ended)return!1;h.focus(),s=h.getBoundingClientRect().width;var o=progress.getBoundingClientRect().left,i=g3(p);i?(o=progress.getBoundingClientRect().top,s=h.getBoundingClientRect().height):(s=h.getBoundingClientRect().width,o=progress.getBoundingClientRect().left);function b4(e){e.preventDefault(),e.stopPropagation(),f.event(e),p.isProgressMoving=!0;var t=(i?e.clientY:e.clientX)-o;s<t&&(t=s);var n=t/s*p.duration;if(progress.style.width=100*t/s+"%",t-7<0?(l.style.left="0px",l.style.transform=""):s<t+7?(l.style.left=s-14+"px",l.style.transform=""):(l.style.left="100%",l.style.transform="translate(-50%, 0)"),"video"!==p.videoConfig.mediaType||p.dash||p.config.closeMoveSeek){var r=f.findDom(a,".xgplayer-time");r&&(r.innerHTML="<span>"+f.format(n||0)+"</span><em>"+f.format(p.duration))}else p.currentTime=Number(n).toFixed(1);p.emit("focus")}function c4(e){if(e.preventDefault(),e.stopPropagation(),f.event(e),window.removeEventListener("mousemove",b4),window.removeEventListener("touchmove",b4,{passive:!1}),window.removeEventListener("mouseup",c4),window.removeEventListener("touchend",c4),h.blur(),!p.isProgressMoving||"audio"===p.videoConfig.mediaType||p.dash||p.config.closeMoveSeek){var t=(i?e.clientY:e.clientX)-o;s<t&&(t=s);var n=t/s*p.duration;progress.style.width=100*t/s+"%",t-7<0?(l.style.left="0px",l.style.transform=""):s<t+7?(l.style.left=s-14+"px",l.style.transform=""):(l.style.left="100%",l.style.transform="translate(-50%, 0)"),p.currentTime=Number(n).toFixed(1)}p.emit("focus"),p.isProgressMoving=!1}return window.addEventListener("mousemove",b4),window.addEventListener("touchmove",b4,{passive:!1}),window.addEventListener("mouseup",c4),window.addEventListener("touchend",c4),!1})}),h.addEventListener("mouseenter",function(e){if(!p.config.allowSeekAfterEnded&&p.ended)return!1;function o4(e){var t=((u?e.clientY:e.clientX)-c)/d*p.duration;t=t<0?0:t,g.textContent=f.format(t);var n=g.getBoundingClientRect().width;if(p.config.thumbnail){w=p.duration/v;var r=Math.floor(t/w);y.style.backgroundImage="url("+k[Math.ceil((r+1)/(x*_))-1]+")";var o=r+1-x*_*(Math.ceil((r+1)/(x*_))-1),i=Math.ceil(o/_)-1,a=o-i*_-1;y.style["background-position"]="-"+a*m+"px -"+i*b+"px";var s=(u?e.clientY:e.clientX)-c-m/2;s=(s=0<s?s:0)<d-m*C?s:d-m*C,y.style.left=s+(C-1)*m/2+"px",y.style.top=-10-b+"px",y.style.display="block",g.style.left=s+m*C/2-n/2+"px"}else{var l=e.clientX-c-n/2;l=d-n<(l=0<l?l:0)?d-n:l,g.style.left=l+"px"}f.hasClass(h,"xgplayer-progress-dot-active")?g.style.display="none":g.style.display="block"}function p4(e){o4(e)}var u=g3(p),c=u?h.getBoundingClientRect().top:h.getBoundingClientRect().left,d=u?h.getBoundingClientRect().height:h.getBoundingClientRect().width;h.addEventListener("mousemove",p4,!1),h.addEventListener("mouseleave",function leave(e){h.removeEventListener("mousemove",p4,!1),h.removeEventListener("mouseleave",leave,!1),o4(e),g.style.display="none",y.style.display="none"},!1),o4(e)},!1);var o=!1,e=function handleTimeUpdate(){if(!s&&h&&(s=h.getBoundingClientRect().width),"audio"!==p.videoConfig.mediaType||!p.isProgressMoving||!p.dash){var e=p.currentTime/p.duration,t=Number.parseFloat(progress.style.width||"0")/Number.parseFloat(h.style.width||"100");if(Math.abs(e-t)<=1){progress.style.width=100*p.currentTime/p.duration+"%";var n=p.currentTime/p.duration*s-7;if(n<0)l.style.left="0px",l.style.transform="",o=!1;else if(s<14+n)l.style.left=s-14+"px",l.style.transform="",o=!1;else{if(o)return;l.style.left="100%",l.style.transform="translate(-50%, 0)",o=!0}}}};p.on("timeupdate",e);var t=function onCurrentTimeChange(){progress.style.width=100*p.currentTime/p.duration+"%";var e=p.currentTime/p.duration*s-7;if(e<0)l.style.left="0px",l.style.transform="",o=!1;else if(s<14+e)l.style.left=s-14+"px",l.style.transform="",o=!1;else{if(o)return;l.style.left="100%",l.style.transform="translate(-50%, 0)",o=!0}};p.on("currentTimeChange",t);var n=function onSrcChange(){progress.style.width="0%",l.style.left="0px",l.style.transform="",o=!1};p.on("srcChange",n);var u=function handleCacheUpdate(){var e=p.buffered;if(e&&0<e.length){for(var t=e.end(e.length-1),n=0,r=e.length;n<r;n++)if(p.currentTime>=e.start(n)&&p.currentTime<=e.end(n)){t=e.end(n);for(var o=n+1;o<e.length;o++)if(2<=e.start(o)-e.end(o-1)){t=e.end(o-1);break}break}i.style.width=t/p.duration*100+"%"}},c=["bufferedChange","cacheupdate","ended","timeupdate"];c.forEach(function(e){p.on(e,u)}),p.once("destroy",function destroyFunc(){p.removeAllProgressDot(),p.off("canplay",canplayProgFunc),p.off("timeupdate",e),p.off("currentTimeChange",t),p.off("srcChange",n),c.forEach(function(e){p.off(e,u)}),p.off("destroy",destroyFunc)})})},function(e,t,n){"use strict";var a=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));a.default.install("playNext",function playNext(){var t=this,e=a.default.util,n=t.controls,r=t.config.playNextBtn,o=-1;if(r&&r.urlList){var i=void 0;i="img"===r.type?a.default.util.createImgBtn("playNext",r.url,r.width,r.height):e.createDom("xg-playNext",'<xg-icon class="xgplayer-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024">\n                <path transform="scale(0.025 0.025)"\n                d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>\n            </svg></xg-icon>',{},"xgplayer-playNext"),n.appendChild(i);["click","touchend"].forEach(function(e){i.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),o+1<r.urlList.length?(o++,t.video.pause(),t.currentTime=0,t.video.autoplay=!0,t.src=r.urlList[o],t.emit("playerNext",o+1)):t.emit("urlList last")},!1)})}})},function(e,t,n){"use strict";var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));i.default.install("pip",function pip(){var t=this,n=i.default.util;if(t.config.pip){var r=n.createDom("xg-pip",'<p class="name"><span>画中画</span></p>',{tabindex:9},"xgplayer-pip"),e=t.controls,o=t.root;e.appendChild(r);["click","touchstart"].forEach(function(e){r.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),n.hasClass(o,"xgplayer-pip-active")?t.exitPIP():t.getPIP()})})}})},function(e,t,n){"use strict";var o=_interopRequireDefault(n(0)),u=_interopRequireDefault(n(6)),c=_interopRequireDefault(n(54));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}o.default.install("logger",function logger(){var i=this,a=o.default.util;if(!0!==i.config.noLog){var e=function endedFunc(){i.video.played;var e=s(i.logParams.played),t=(new Date).getTime();l();var n={url:i.logParams.pluginSrc?i.logParams.pluginSrc:i.logParams.playSrc,vid:i.config.vid,bc:0<i.logParams.bc-1?i.logParams.bc-1:0,bb:0<i.logParams.bc-1?1:0,bu_acu_t:i.logParams.bu_acu_t,pt:i.logParams.pt,vt:i.logParams.vt,vd:1e3*i.logParams.vd,watch_dur:parseFloat((1e3*e).toFixed(3)),cur_play_pos:parseFloat((1e3*i.currentTime).toFixed(3)),et:t};window.__xigua_log_sdk__("c",n)},t=function urlchangeFunc(){i.video.played;var e=s(i.logParams.played),t=(new Date).getTime();l();var n={url:i.logParams.pluginSrc?i.logParams.pluginSrc:i.logParams.playSrc,vid:i.config.vid,bc:0<i.logParams.bc-1?i.logParams.bc-1:0,bb:0<i.logParams.bc-1?1:0,bu_acu_t:i.logParams.bu_acu_t,pt:i.logParams.pt,vt:i.logParams.vt,vd:1e3*i.logParams.vd,watch_dur:parseFloat((1e3*e).toFixed(3)),cur_play_pos:parseFloat((1e3*i.currentTime).toFixed(3)),lt:t};window.__xigua_log_sdk__("d",n)},n=function errorFunc(e){i.video.played;var t=s(i.logParams.played);l();var n=(new Date).getTime();if(!(i.logParams.lastErrLog&&n-i.logParams.lastErrLog<=3e3)){i.logParams.lastErrLog=n;var r={url:i.logParams.pluginSrc?i.logParams.pluginSrc:i.logParams.playSrc,vid:i.config.vid,bc:0<i.logParams.bc-1?i.logParams.bc-1:0,bb:0<i.logParams.bc-1?1:0,bu_acu_t:i.logParams.bu_acu_t,pt:i.logParams.pt,vt:i.logParams.vt,vd:1e3*i.logParams.vd,watch_dur:parseFloat((1e3*t).toFixed(3)),err_msg:e.errd.msg,line:e.errd.line,et:n,cur_play_pos:parseFloat((1e3*i.currentTime).toFixed(3))};if(i.logParams.nologFunc&&i.logParams.nologFunc(i))return!0;window.__xigua_log_sdk__("e",r)}};window.__xigua_log_sdk__||(window.__xigua_log_sdk__=new c.default("tracker"),window.__xigua_log_sdk__.init({app_id:1300,channel:"cn",log:!1,disable_sdk_monitor:!0}),window.__xigua_log_sdk__("config",{evtParams:{log_type:"logger",page_url:document.URL,domain:window.location.host,pver:i.version,ua:navigator.userAgent.toLowerCase()},disable_auto_pv:!0}),window.__xigua_log_sdk__.start()),i.config.uid&&window.__xigua_log_sdk__("config",{user_unique_id:i.config.uid});var s=function computeWatchDur(e){for(var t=0<arguments.length&&void 0!==e?e:[],n=[],r=0;r<t.length;r++)if(!(!t[r].end||t[r].begin<0||t[r].end<0||t[r].end<t[r].begin))if(n.length<1)n.push({begin:t[r].begin,end:t[r].end});else for(var o=0;o<n.length;o++){var i=t[r].begin,a=t[r].end;if(a<n[o].begin){n.splice(o,0,{begin:i,end:a});break}if(!(i>n[o].end)){var s=n[o].begin,l=n[o].end;n[o].begin=Math.min(i,s),n[o].end=Math.max(a,l);break}if(o>n.length-2){n.push({begin:i,end:a});break}}for(var u=0,c=0;c<n.length;c++)u+=n[c].end-n[c].begin;return u},l=function judgePtVt(){i.logParams.pt&&i.logParams.vt||(i.logParams.pt=(new Date).getTime(),i.logParams.vt=i.logParams.pt),i.logParams.pt>i.logParams.vt&&(i.logParams.pt=i.logParams.vt)},r=function userLeave(){if(a.hasClass(i.root,"xgplayer-is-enter")){var e=(new Date).getTime(),t={url:i.logParams.pluginSrc?i.logParams.pluginSrc:i.logParams.playSrc,vid:i.config.vid,pt:i.logParams.pt,lt:e};window.__xigua_log_sdk__("b",t)}else if(a.hasClass(i.root,"xgplayer-playing")){var n=s(i.logParams.played),r=(new Date).getTime();l();var o={url:i.logParams.pluginSrc?i.logParams.pluginSrc:i.logParams.playSrc,vid:i.config.vid,bc:0<i.logParams.bc-1?i.logParams.bc-1:0,bb:0<i.logParams.bc-1?1:0,bu_acu_t:i.logParams.bu_acu_t,pt:i.logParams.pt,vt:i.logParams.vt,vd:1e3*i.logParams.vd,watch_dur:parseFloat((1e3*n).toFixed(3)),cur_play_pos:parseFloat((1e3*i.currentTime).toFixed(3)),lt:r};window.__xigua_log_sdk__("d",o)}};"pc"===u.default.device?window.addEventListener("beforeunload",r,!1):"mobile"===u.default.device&&window.addEventListener("pagehide",r,!1),i.on("routechange",r),i.on("ended",e),i.on("urlchange",t),i.on("error",n),i.once("destroy",function destroyFunc(){"pc"===u.default.device?window.removeEventListener("beforeunload",r):"mobile"===u.default.device&&window.removeEventListener("pagehide",r),i.off("routechange",r),i.off("ended",e),i.off("urlchange",t),i.off("error",n),i.off("destroy",destroyFunc)})}})},function(e,t,n){"use strict";var o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));o.default.install("error",function error(){var n=this,e=o.default.util,error=e.createDom("xg-error",'<em class="xgplayer-error-text">请<span class="xgplayer-error-refresh">刷新</span>试试</em>',{},"xgplayer-error");n.root.appendChild(error);var t=error.querySelector(".xgplayer-error-text"),r=null;function errorFunc(){n.error?t.innerHTML=n.error:n.config.lang&&"zh-cn"===n.config.lang?t.innerHTML=n.lang.ERROR+'，请<span class="xgplayer-error-refresh">刷新</span>试试':t.innerHTML=n.lang.ERROR+'，please try to <span class="xgplayer-error-refresh">refresh</span>',e.addClass(n.root,"xgplayer-is-error"),(r=error.querySelector(".xgplayer-error-refresh"))&&["touchend","click"].forEach(function(e){r.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation();var t=e.target||e.srcElement;t&&"span"===t.tagName.toLocaleLowerCase()&&(n.controls.style.display="flex",n.reload())})})}n.on("error",errorFunc),n.once("destroy",function destroyFunc(){n.off("error",errorFunc),n.off("destroy",destroyFunc)})})},function(e,t,n){"use strict";var a=_interopRequireDefault(n(0)),s=n(68),l=_interopRequireDefault(n(69));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}a.default.install("download",function download(){var t=this;if(this.config.download){var r=t.root,e=a.default.util,n=e.createDom("xgplayer-download",'<xg-icon class="xgplayer-download-img"></xg-icon>',{},"xgplayer-download");t.controls.appendChild(n);var o=t.config.lang&&"zh-cn"===t.config.lang?"下载":"Download",i=e.createDom("xg-tips",o,{},"xgplayer-tips");n.appendChild(i),t.download=function(){var e=(0,s.getAbsoluteURL)(t.config.url);(0,l.default)(e)},n.addEventListener("click",function(e){e.stopPropagation(),t.download()}),n.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),i.style.left="50%";var t=i.getBoundingClientRect(),n=r.getBoundingClientRect();t.right>n.right&&(i.style.left=-t.right+n.right+16+"px")})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getAbsoluteURL=function getAbsoluteURL(e){if(!e.match(/^https?:\/\//)){var t=document.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e}},function(e,t,n){"use strict";var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){return function download(e,t,n){var r=window,o="application/octet-stream",i=n||o,a=e,s=!t&&!n&&a,l=document.createElement("a"),u=function toString(e){return String(e)},c=r.Blob||r.MozBlob||r.WebKitBlob||u,d=t||"download",p,f;c=c.call?c.bind(r):Blob;if(String(this)==="true"){a=[a,i];i=a[0];a=a[1]}if(s&&s.length<2048){d=s.split("/").pop().split("?")[0];l.href=s;if(l.href.indexOf(s)!==-1){var h=new XMLHttpRequest;h.open("GET",s,true);h.responseType="blob";h.onload=function(e){download(e.target.response,d,o)};setTimeout(function(){h.send()},0);return h}}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(a)){if(a.length>1024*1024*1.999&&c!==u){a=dataUrlToBlob(a);i=a.type||o}else{return navigator.msSaveBlob?navigator.msSaveBlob(dataUrlToBlob(a),d):saver(a)}}else{if(/([\x80-\xff])/.test(a)){var g=0,y=new Uint8Array(a.length),v=y.length;for(g;g<v;++g){y[g]=a.charCodeAt(g)}a=new c([y],{type:i})}}p=a instanceof c?a:new c([a],{type:i});function dataUrlToBlob(e){var t=e.split(/[:;,]/),n=t[1],r=t[2]=="base64"?atob:decodeURIComponent,o=r(t.pop()),i=o.length,a=0,s=new Uint8Array(i);for(a;a<i;++a){s[a]=o.charCodeAt(a)}return new c([s],{type:n})}function saver(e,t){if("download"in l){l.href=e;l.setAttribute("download",d);l.className="download-js-link";l.innerHTML="downloading...";l.style.display="none";document.body.appendChild(l);setTimeout(function(){l.click();document.body.removeChild(l);if(t===true){setTimeout(function(){r.URL.revokeObjectURL(l.href)},250)}},66);return true}if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent)){if(/^data:/.test(e))e="data:"+e.replace(/^data:([\w\/\-\+]+)/,o);if(!window.open(e)){if(confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")){location.href=e}}return true}var n=document.createElement("iframe");document.body.appendChild(n);if(!t&&/^data:/.test(e)){e="data:"+e.replace(/^data:([\w\/\-\+]+)/,o)}n.src=e;setTimeout(function(){document.body.removeChild(n)},333)}if(navigator.msSaveBlob){return navigator.msSaveBlob(p,d)}if(r.URL){saver(r.URL.createObjectURL(p),true)}else{if(typeof p==="string"||p.constructor===u){try{return saver("data:"+i+";base64,"+r.btoa(p))}catch(e){return saver("data:"+i+","+encodeURIComponent(p))}}f=new FileReader;f.onload=function(e){saver(this.result)};f.readAsDataURL(p)}return true}})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"use strict";var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));r.default.install("definition",function definition(){var l=this,u=r.default.util,c=r.default.sniffer,d=u.createDom("xg-definition","",{tabindex:3},"xgplayer-definition"),s=l.controls;"mobile"===c.device&&(l.config.definitionActive="click");var p=[];function canplayDefiFunc(){var t=["<ul>"],n=l.config.url,r=document.createElement("a");l.switchURL?["mp4","hls","__flv__","dash"].every(function(e){return!l[e]||(l[e].url&&(r.href=l[e].url),"__flv__"===e&&(l[e]._options?r.href=l[e]._options.url:r.href=l[e]._mediaDataSource.url),n=r.href,!1)}):n=l.currentSrc||l.src,l.hls&&(r.href=l.hls.url,n=r.href),p.forEach(function(e){r.href=e.url,l.dash?t.push("<li url='"+e.url+"' cname='"+e.name+"' class='"+(e.selected?"definition":"")+"'>"+e.name+"</li>"):t.push("<li url='"+e.url+"' cname='"+e.name+"' class='"+(r.href===n?"definition":"")+"'>"+e.name+"</li>")});var e=p.filter(function(e){return r.href=e.url,l.dash?!0===e.selected:r.href===n});t.push("</ul><p class='name'>"+(e[0]||{name:""}).name+"</p>");var o=s.querySelector(".xgplayer-definition");if(o){o.innerHTML=t.join("");var i=o.querySelector(".name");l.config.definitionActive&&"hover"!==l.config.definitionActive||i.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),u.addClass(l.root,"xgplayer-definition-active"),o.focus()})}else{d.innerHTML=t.join("");var a=d.querySelector(".name");l.config.definitionActive&&"hover"!==l.config.definitionActive||a.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),u.addClass(l.root,"xgplayer-definition-active"),d.focus()}),s.appendChild(d)}}function resourceReadyFunc(e){(p=e)&&p instanceof Array&&1<p.length&&(u.addClass(l.root,"xgplayer-is-definition"),l.on("canplay",canplayDefiFunc))}l.on("resourceReady",resourceReadyFunc),["touchend","click"].forEach(function(e){d.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation();var t=e.target||e.srcElement,n=document.createElement("a");if(t&&"li"===t.tagName.toLocaleLowerCase()){var r="",o=t.getAttribute("cname");if(l.emit("beforeDefinitionChange",n.href),Array.prototype.forEach.call(t.parentNode.childNodes,function(e){u.hasClass(e,"definition")&&(r=e.getAttribute("cname"),u.removeClass(e,"definition"))}),l.dash&&p.forEach(function(e){e.selected=!1,e.name===t.innerHTML&&(e.selected=!0)}),u.addClass(t,"definition"),t.parentNode.nextSibling.innerHTML=""+t.getAttribute("cname"),n.href=t.getAttribute("url"),l.switchURL){var i=document.createElement("a");["mp4","hls","__flv__","dash"].every(function(e){return!l[e]||(l[e].url&&(i.href=l[e].url),"__flv__"===e&&(l[e]._options?i.href=l[e]._options.url:i.href=l[e]._mediaDataSource.url),!1)}),i.href===n.href||l.ended||l.switchURL(n.href)}else{if(l.hls){document.createElement("a");l.hls.url}if(n.href!==l.currentSrc){var a=l.currentTime,s=l.paused;l.ended||(l.src=n.href,l.once("canplay",function(){l.currentTime=a,s||l.play()}))}}l.emit("definitionChange",{from:r,to:o}),"mobile"===c.device&&u.removeClass(l.root,"xgplayer-definition-active")}else"click"!==l.config.definitionActive||!t||"p"!==t.tagName.toLocaleLowerCase()&&"em"!==t.tagName.toLocaleLowerCase()||(u.addClass(l.root,"xgplayer-definition-active"),d.focus());l.emit("focus")},!1)}),d.addEventListener("mouseleave",function(e){e.preventDefault(),e.stopPropagation(),u.removeClass(l.root,"xgplayer-definition-active")}),l.once("destroy",function destroyFunc(){l.off("canplay",canplayDefiFunc),l.off("resourceReady",resourceReadyFunc),l.off("destroy",destroyFunc)})})},function(e,t,n){"use strict";var d=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));d.default.install("cssFullscreen",function cssFullscreen(){var e=this,t=d.default.util;if(e.config.cssFullscreen){var n="M834.56 81.92H189.44c-59.392 0-107.52 48.128-107.52 107.52v645.12c0 59.392 48.128 107.52 107.52 107.52h645.12c59.392 0 107.52-48.128 107.52-107.52V189.44c0-59.392-48.128-107.52-107.52-107.52zM458.24 727.04c0 14.848-12.288 26.624-26.624 26.624S404.48 741.888 404.48 727.04v-69.632L289.28 773.12c-10.752 10.24-27.648 10.24-37.888 0-10.24-10.752-10.24-27.648 0-37.888L366.592 619.52H296.96c-14.848 0-26.624-12.288-26.624-26.624s12.288-26.624 26.624-26.624h134.144c14.848 0 26.624 12.288 26.624 26.624V727.04z m0-295.936c0 14.848-12.288 26.624-26.624 26.624H296.96c-14.848 0-26.624-12.288-26.624-26.624S282.112 404.48 296.96 404.48h69.632L251.392 289.28c-10.24-10.752-10.24-27.648 0-37.888 5.12-5.12 12.288-7.68 18.944-7.68 6.656 0 13.824 2.56 18.944 7.68L404.48 366.592V296.96c0-14.848 12.288-26.624 26.624-26.624s26.624 12.288 26.624 26.624v134.144zM773.12 773.12c-10.752 10.24-27.648 10.24-37.888 0L619.52 657.408V727.04c0 14.848-12.288 26.624-26.624 26.624s-26.624-11.776-26.624-26.624v-134.144c0-14.848 12.288-26.624 26.624-26.624H727.04c14.848 0 26.624 12.288 26.624 26.624s-12.288 26.624-26.624 26.624h-69.632l115.2 115.2c10.752 10.752 10.752 27.648 0.512 38.4z m0-483.84L657.408 404.48H727.04c14.848 0 26.624 12.288 26.624 26.624 0 14.848-12.288 26.624-26.624 26.624h-134.144c-14.848 0-26.624-12.288-26.624-26.624V296.96c0-14.848 12.288-26.624 26.624-26.624s26.624 12.288 26.624 26.624v69.632L734.72 250.88c5.12-5.12 12.288-7.68 18.944-7.68s13.824 2.56 18.944 7.68c10.752 10.752 10.752 27.648 0.512 38.4z",r="M843.617212 67.898413 175.411567 67.898413c-61.502749 0-111.367437 49.856501-111.367437 111.367437l0 668.205645c0 61.510936 49.864688 111.367437 111.367437 111.367437L843.617212 958.838931c61.510936 0 111.367437-49.856501 111.367437-111.367437L954.984648 179.26585C954.984648 117.754914 905.12917 67.898413 843.617212 67.898413zM398.146441 736.104057c15.380292 0 27.842115 12.461823 27.842115 27.842115 0 15.379269-12.461823 27.841092-27.842115 27.841092L259.725858 791.787264c-7.785314 0-14.781658-3.217275-19.838837-8.365528-5.383614-4.577249-8.791224-11.228739-8.791224-19.475564L231.095797 624.736621c0-15.371082 12.471033-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115l-0.61603 71.426773 133.036969-133.037992 39.378869 39.378869L324.962651 736.113267 398.146441 736.104057zM419.199942 463.611943 286.162974 330.565764l0.61603 71.435982c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.371082 0-27.842115-12.461823-27.842115-27.842115L231.094774 262.791172c0-8.256034 3.40761-14.908548 8.791224-19.476587 5.057179-5.148253 12.053524-8.374738 19.838837-8.374738l138.420583 0.00921c15.380292 0 27.842115 12.461823 27.842115 27.842115s-12.461823 27.842115-27.842115 27.842115l-73.175603-0.00921 133.607974 133.607974L419.199942 463.611943zM787.932981 763.946172c0 8.247848-3.40761 14.899338-8.791224 19.475564-5.057179 5.148253-12.053524 8.365528-19.839861 8.365528L620.881314 791.787264c-15.379269 0-27.841092-12.461823-27.841092-27.841092 0-15.380292 12.461823-27.842115 27.841092-27.842115l73.185836 0.00921L560.449967 602.50427l39.378869-39.378869L732.875015 696.163393l-0.62524-71.426773c0-15.371082 12.462846-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115L787.934005 763.946172zM787.932981 402.000724c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.379269 0-27.842115-12.461823-27.842115-27.842115l0.62524-71.435982L599.828836 463.611943l-39.378869-39.378869 133.617184-133.607974-73.185836 0.00921c-15.379269 0-27.841092-12.461823-27.841092-27.842115s12.461823-27.842115 27.841092-27.842115l138.421606-0.00921c7.785314 0 14.781658 3.226484 19.839861 8.374738 5.383614 4.568039 8.791224 11.219529 8.791224 19.476587L787.934005 402.000724z",o=t.createDom("xg-cssfullscreen",'<xg-icon class="xgplayer-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024">\n            <path transform="scale(0.03 0.03)" d="'+r+'"></path>\n        </svg></xg-icon>',{},"xgplayer-cssfullscreen"),i=e.config.lang&&"zh-cn"===e.config.lang?"样式全屏":"Full screen",a=e.config.lang&&"zh-cn"===e.config.lang?"退出全屏":"Exit full screen",s=e.controls,l=e.root,u=t.createDom("xg-tips",i,{},"xgplayer-tips"),c=o.querySelector("path");o.appendChild(u);s.appendChild(o),["click","touchend"].forEach(function(e){o.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),(t.hasClass(l,"xgplayer-cssfullscreen-active")||t.hasClass(l,"xgplayer-is-fullscreen")?function exitFullscreen(e){c.setAttribute("d",r),u.textContent=i,t.removeClass(e,"xgplayer-cssfullscreen-active")}:function getFullscreen(e){c.setAttribute("d",n),u.textContent=a,t.addClass(e,"xgplayer-cssfullscreen-active")})(l)})}),o.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),u.style.left="50%";var t=u.getBoundingClientRect(),n=l.getBoundingClientRect();t.right>n.right&&(u.style.left=-t.right+n.right+16+"px")})}})},function(e,t,n){var r=n(73);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(52)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(51)(!1)).push([e.i,"@-webkit-keyframes playPause{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}99%{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}to{-webkit-transform:scale(0);transform:scale(0);opacity:0}}@-webkit-keyframes loadingRotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}@-webkit-keyframes enterTips{0%{opacity:0;left:0;width:3px}50%{opacity:1;left:50%;width:5px}to{opacity:0;left:100%;width:3px}}.xgplayer-download{position:relative;width:36px;height:40px;-webkit-order:8;-moz-box-ordinal-group:9;order:8;cursor:pointer}.xgplayer-inactive .xgplayer-download,.xgplayer-nostart .xgplayer-download{display:none}.xgplayer-download:hover .xgplayer-tips{display:block}.xgplayer-download-img{display:inline-block;width:24px;height:24px;margin-top:7px!important;margin-left:4px!important;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23FFF' fill-rule='evenodd'%3E%3Crect x='11' y='4' width='2' height='12' rx='1'/%3E%3Crect x='3' y='18' width='18' height='2' rx='1'/%3E%3Crect transform='rotate(90 4 17.5)' x='1.5' y='16.5' width='5' height='2' rx='1'/%3E%3Crect transform='rotate(90 20 17.5)' x='17.5' y='16.5' width='5' height='2' rx='1'/%3E%3Cpath d='M11.988 14.3l-4.243-4.242a1 1 0 0 0-1.414 1.414l4.95 4.95a1 1 0 0 0 1.414 0l4.95-4.95a1 1 0 1 0-1.414-1.414L11.988 14.3z'/%3E%3C/g%3E%3C/svg%3E\") no-repeat 50%/100% 100%}.xgplayer-rotate{-webkit-order:9;-moz-box-ordinal-group:10;order:9;position:relative;display:inline-block;cursor:pointer;margin:0 4px}.xgplayer-rotate:hover .xgplayer-tips{display:block}.xgplayer-rotate-img{width:20px;height:20px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cg clip-path='url(%23a)' fill='%23fff'%3E%3Cpath d='M11.666 9.167h-7.5a2.5 2.5 0 0 0-2.5 2.5v4.166a2.5 2.5 0 0 0 2.5 2.5h7.5a2.5 2.5 0 0 0 2.5-2.5v-4.166a2.5 2.5 0 0 0-2.5-2.5z'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M3.881 4.063a.83.83 0 0 0 .105 1.193L6.99 8.06A.833.833 0 1 0 8.128 6.84L6.62 5.435l3.199-.013a6.667 6.667 0 0 1 6.374 9.322.833.833 0 0 0 1.528.665A8.334 8.334 0 0 0 9.8 3.756l-3.367.013 1.53-1.64A.833.833 0 1 0 6.743.992L3.903 4.04a.83.83 0 0 0-.021.023z'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M0 0h20v20H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:10px 10px}.xgplayer{background:rgba(0,0,0,.26);width:100%;height:100%;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;-ms-user-select:none}.xgplayer *{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}.xgplayer.xgplayer-rotate-fullscreen{position:absolute;top:0;left:100%;bottom:0;right:0;height:100vw!important;width:100vh!important;-webkit-transform-origin:top left;-ms-transform-origin:top left;transform-origin:top left;-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.xgplayer.xgplayer-is-fullscreen{width:100%!important;height:100%!important;padding-top:0!important;z-index:9999}.xgplayer.xgplayer-is-fullscreen.xgplayer-inactive{cursor:none}.xgplayer video{width:100%;height:100%;outline:none}.xgplayer-icon{display:block;width:40px;height:40px;overflow:hidden;fill:#fff}.xgplayer-controls{display:-webkit-flex;display:-moz-box;display:flex;position:absolute;bottom:0;left:0;right:0;height:40px;background-image:linear-gradient(-1deg,rgba(0,0,0,.3),transparent);z-index:10}.xgplayer-nostart .xgplayer-controls{display:none}.no-controls .xgplayer-controls{display:none!important}.xgplayer-inactive .xgplayer-controls,.xgplayer-is-live .xgplayer-controls>*{display:none}.xgplayer-is-live .xgplayer-controls .xgplayer-fullscreen,.xgplayer-is-live .xgplayer-controls .xgplayer-live,.xgplayer-is-live .xgplayer-controls .xgplayer-placeholder,.xgplayer-is-live .xgplayer-controls .xgplayer-play,.xgplayer-is-live .xgplayer-controls .xgplayer-play-img,.xgplayer-is-live .xgplayer-controls .xgplayer-volume{display:block}.xgplayer-progress{display:block;position:absolute;height:20px;line-height:20px;left:0;right:0;outline:none;top:-10px;z-index:35}.xgplayer.xgplayer-definition-active .xgplayer-progress,.xgplayer.xgplayer-textTrack-active .xgplayer-progress,.xgplayer.xgplayer-volume-active .xgplayer-progress{z-index:15}.xgplayer-progress-outer{background:hsla(0,0%,100%,.3);display:block;height:3px;line-height:3px;margin-top:8.5px;width:100%;position:relative;cursor:pointer}.xgplayer-progress-cache,.xgplayer-progress-played{display:block;height:100%;line-height:1;position:absolute;left:0;top:0}.xgplayer-progress-cache{width:0;background:hsla(0,0%,100%,.5)}.xgplayer-progress-played{display:block;width:0;background-image:linear-gradient(-90deg,#fa1f41,#e31106);border-radius:0 1.5px 1.5px 0}.xgplayer-progress-btn{display:none;position:absolute;left:0;top:-6px;width:14px;height:16px;border-radius:6px;background:#fff;box-shadow:0 0 2px 0 rgba(0,0,0,.26)}.xgplayer-progress-point{position:absolute}.xgplayer-progress-point.xgplayer-tips{margin-left:0;top:-25px;display:none;z-index:100}.xgplayer-progress-dot{display:inline-block;position:absolute;height:3px;width:5px;top:0;background:#fff;border-radius:6px;z-index:16}.xgplayer-progress-dot .xgplayer-progress-tip{position:absolute;left:0;top:-40px;height:auto;line-height:30px;width:auto;-webkit-transform:scale(.8);-ms-transform:scale(.8);transform:scale(.8);background:rgba(0,0,0,.3);border-radius:6px;border:1px solid rgba(0,0,0,.8);cursor:default;white-space:nowrap;display:none}.xgplayer-progress-dot-show .xgplayer-progress-tip{display:block}.xgplayer-progress-thumbnail{position:absolute;-moz-box-sizing:border-box;box-sizing:border-box}.xgplayer-progress-thumbnail.xgplayer-tips{margin-left:0;display:none;z-index:99}.xgplayer-progress:focus .xgplayer-progress-outer,.xgplayer-progress:hover .xgplayer-progress-outer{height:6px;margin-top:7px}.xgplayer-progress:focus .xgplayer-progress-dot,.xgplayer-progress:hover .xgplayer-progress-dot{height:6px}.xgplayer-progress:focus .xgplayer-progress-btn,.xgplayer-progress:hover .xgplayer-progress-btn{display:block}.xgplayer-play,.xgplayer-play-img{position:relative;-webkit-order:0;-moz-box-ordinal-group:1;order:0;display:block;cursor:pointer}.xgplayer-play-img .xgplayer-icon,.xgplayer-play .xgplayer-icon{margin-top:3px}.xgplayer-play-img:hover,.xgplayer-play:hover{opacity:.85}.xgplayer-play-img:hover .xgplayer-tips,.xgplayer-play:hover .xgplayer-tips{display:block}.xgplayer-playNext,.xgplayer-playNext-img{-webkit-order:1;-moz-box-ordinal-group:2;order:1;cursor:pointer}.xgplayer-playNext-img:hover,.xgplayer-playNext:hover{opacity:.85}.xgplayer-time{-webkit-order:2;-moz-box-ordinal-group:3;order:2;font-family:ArialMT;font-size:13px;color:#fff;line-height:40px;display:inline-block}.xgplayer-time span:after{content:\"/\";display:inline-block;padding:0 3px}.xgplayer-time em{color:hsla(0,0%,100%,.5)}.xgplayer-tips{background:rgba(0,0,0,.54);border-radius:1px;display:none;position:absolute;font-family:PingFangSC-Regular;font-size:11px;color:#fff;padding:2px 4px;text-align:center;top:-30px;left:50%;margin-left:-16px;width:auto;white-space:nowrap}.xgplayer-volume{outline:none;-webkit-order:4;-moz-box-ordinal-group:5;order:4;width:28px;height:140px;display:inline-block;position:relative;margin-top:-100px;z-index:18}.xgplayer-volume .xgplayer-icon{margin-top:8px;cursor:pointer;position:absolute;bottom:-9px}.xgplayer-slider{display:none;position:absolute;width:28px;height:88px;background:rgba(0,0,0,.54);border-radius:1px;bottom:50px;outline:none;left:0}.xgplayer.xgplayer-volume-active .xgplayer-slider{display:block}.xgplayer-slider:after{content:\" \";display:block;height:15px;width:28px;position:absolute;bottom:-15px;left:0;z-index:20}.xgplayer-bar,.xgplayer-drag{display:block;position:absolute;bottom:6px;left:12px;background:hsla(0,0%,100%,.3);border-radius:100px;width:4px;height:76px;outline:none;cursor:pointer}.xgplayer-drag{bottom:0;left:0;background:#fa1f41;max-height:76px}.xgplayer-drag:after{content:\" \";display:inline-block;width:8px;height:8px;background:#fff;box-shadow:0 0 5px 0 rgba(0,0,0,.26);position:absolute;border-radius:50%;left:-2px;top:-6px}.xgplayer-placeholder{-webkit-flex:1;-moz-box-flex:1;flex:1;-webkit-order:3;-moz-box-ordinal-group:4;order:3;display:block}.xgplayer-start{display:none;border-radius:50%;width:70px;height:70px;background:hsla(0,0%,100%,.3);overflow:hidden;text-align:center;line-height:70px;vertical-align:middle;position:absolute;left:50%;top:50%;z-index:1000;margin:-55px auto auto -35px;cursor:pointer}.xgplayer-nostart .xgplayer-start,.xgplayer-start-appear .xgplayer-start{margin:-35px auto auto -35px;display:inline-block}.xgplayer-inactive .xgplayer-start{margin:-35px auto auto -35px}.xgplayer-start svg{fill:hsla(0,0%,100%,.7);margin:14px}.xgplayer-start.xgplayer-start-interact{-webkit-animation:playPause .4s ease-out forwards;animation:playPause .4s ease-out forwards}.xgplayer-start:hover{background:hsla(0,0%,100%,.5)}.xgplayer-start:hover svg{fill:hsla(0,0%,100%,.6)}.xgplayer-start-img{display:none;position:absolute;left:50%;top:50%;z-index:1000;cursor:pointer}.xgplayer-nostart .xgplayer-start-img{display:block}.xgplayer-start-img.xgplayer-start-interact{-webkit-animation:playPause .4s ease-out forwards;animation:playPause .4s ease-out forwards}.xgplayer-start-img:hover{opacity:.85}.xgplayer-textTrack{-webkit-order:7;-moz-box-ordinal-group:8;order:7;width:60px;height:150px;z-index:18;position:relative;outline:none;display:none;cursor:default;margin-left:10px;margin-top:-119px;margin-bottom:11px}.xgplayer-textTrack ul{display:none;list-style:none;width:78px;background:rgba(0,0,0,.54);border-radius:1px;position:absolute;bottom:30px;left:0;text-align:center;white-space:nowrap;margin-left:-10px;z-index:26;cursor:pointer}.xgplayer.xgplayer-textTrack-active .xgplayer-textTrack ul{display:block}.xgplayer-textTrack ul li{opacity:.7;font-family:PingFangSC-Regular;font-size:11px;color:hsla(0,0%,100%,.8);padding:6px 13px}.xgplayer-textTrack ul li.textTrack,.xgplayer-textTrack ul li:hover{color:#fff;opacity:1}.xgplayer-textTrack .name{text-align:center;font-family:PingFangSC-Regular;font-size:13px;cursor:pointer;color:hsla(0,0%,100%,.8);position:absolute;bottom:0;width:60px;height:20px;line-height:20px;background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;vertical-align:middle}.xgplayer-is-textTrack .xgplayer-textTrack{display:block}.xgplayer-definition{-webkit-order:5;-moz-box-ordinal-group:6;order:5;width:60px;height:150px;z-index:18;position:relative;outline:none;display:none;cursor:default;margin-left:10px;margin-top:-119px;margin-bottom:11px}.xgplayer-definition ul{display:none;list-style:none;width:78px;background:rgba(0,0,0,.54);border-radius:1px;position:absolute;bottom:30px;left:0;text-align:center;white-space:nowrap;margin-left:-10px;z-index:26;cursor:pointer}.xgplayer.xgplayer-definition-active .xgplayer-definition ul{display:block}.xgplayer-definition ul li{opacity:.7;font-family:PingFangSC-Regular;font-size:11px;color:hsla(0,0%,100%,.8);padding:6px 13px}.xgplayer-definition ul li.definition,.xgplayer-definition ul li:hover{color:#fff;opacity:1}.xgplayer-definition .name{text-align:center;font-family:PingFangSC-Regular;font-size:13px;cursor:pointer;color:hsla(0,0%,100%,.8);position:absolute;bottom:0;width:60px;height:20px;line-height:20px;background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;vertical-align:middle}.xgplayer-is-definition .xgplayer-definition{display:block}.xgplayer-playback{-webkit-order:8;-moz-box-ordinal-group:9;order:8;position:relative;outline:none;display:block;cursor:pointer;margin:10px;height:20px}.xgplayer-playback .name{text-align:center;font-family:PingFangSC-Regular;font-size:13px;line-height:20px;height:20px;color:hsla(0,0%,100%,.8)}.xgplayer-playback .name span{width:40px;height:20px;line-height:20px;background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;vertical-align:middle}.xgplayer-playback:hover .xgplayer-tips{display:block;top:-40px}.xgplayer-pip{-webkit-order:9;-moz-box-ordinal-group:10;order:9;position:relative;outline:none;display:block;cursor:pointer;margin-left:10px;margin-top:9px;margin-bottom:11px;height:20px}.xgplayer-pip .name{text-align:center;font-family:PingFangSC-Regular;font-size:13px;line-height:20px;height:20px;color:hsla(0,0%,100%,.8)}.xgplayer-pip .name span{width:60px;height:20px;line-height:20px;background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;vertical-align:middle}.xgplayer.xgplayer-pip-active{position:fixed!important;right:0;bottom:200px;z-index:999!important}.xgplayer.xgplayer-pip-active .xgplayer-controls{display:none}.xgplayer.xgplayer-pip-active xg-bullet{opacity:0!important}.xgplayer.xgplayer-pip-active .xgplayer-pip-lay{display:block}.xgplayer-pip-lay{position:absolute;top:26px;left:0;z-index:1450;cursor:pointer;background-color:transparent;display:none}.xgplayer-pip-lay,.xgplayer-pip-lay div{width:100%;height:100%}.xgplayer-pip-drag{cursor:move;position:absolute;top:0;left:0;width:100%;height:26px;line-height:26px;background-image:linear-gradient(rgba(0,0,0,.3),transparent);z-index:1500;display:none}.xgplayer.xgplayer-pip-active .xgplayer-pip-drag{display:-webkit-flex;display:-moz-box;display:flex}.xgplayer.xgplayer-inactive .xgplayer-pip-drag{display:none}.xgplayer-fullscreen{-webkit-order:12;-moz-box-ordinal-group:13;order:12;position:relative;display:inline-block;cursor:pointer}.xgplayer-fullscreen .xgplayer-icon{margin:4px -4px 0 0}.xgplayer-fullscreen:hover .xgplayer-tips{display:block}.xgplayer.xgplayer-fullscreen-active{position:fixed!important;left:0!important;top:0!important;width:100%!important;height:100%!important;z-index:99999!important}.xgplayer-cssfullscreen{-webkit-order:11;-moz-box-ordinal-group:12;order:11;position:relative;display:inline-block;cursor:pointer;left:6px}.xgplayer-cssfullscreen .xgplayer-icon{margin:4px -4px 0 0}.xgplayer-cssfullscreen:hover .xgplayer-tips{display:block}.xgplayer.xgplayer-cssfullscreen-active{position:fixed!important;left:0!important;top:0!important;width:100%!important;height:100%!important;z-index:99999!important}.danmu-switch{-webkit-order:6;-moz-box-ordinal-group:7;order:6;z-index:26;margin:10px auto}.xgplayer-bullet{display:none;position:absolute;top:0;left:0;right:0;height:100%;overflow:hidden;z-index:9;outline:none}.xgplayer-bullet>*{position:absolute;white-space:nowrap;z-index:9}.xgplayer-has-bullet{display:block}.xgplayer-loading{display:none;width:100px;height:100px;overflow:hidden;-webkit-transform:scale(.7);-ms-transform:scale(.7);transform:scale(.7);position:absolute;left:50%;top:50%;margin:-70px auto auto -50px}.xgplayer-loading svg{border-radius:50%;-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-animation:loadingRotate 1s linear infinite;animation:loadingRotate 1s linear infinite}.xgplayer-loading svg path{stroke:#ddd;stroke-dasharray:236;-webkit-animation:loadingDashOffset 2s linear infinite;animation:loadingDashOffset 2s linear infinite;animation-direction:alternate-reverse;fill:none;stroke-width:12px}.xgplayer-nostart .xgplayer-loading{display:none}.xgplayer-isloading .xgplayer-loading{display:block}.xgplayer-replay{position:absolute;left:0;top:0;width:100%;height:100%;z-index:500;display:none;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;background:rgba(0,0,0,.54);-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;cursor:pointer}.xgplayer-replay svg{background:rgba(0,0,0,.58);border-radius:100%;cursor:pointer}.xgplayer-replay svg path{-webkit-transform:translate(20px,21px);-ms-transform:translate(20px,21px);transform:translate(20px,21px);fill:#ddd}.xgplayer-replay svg:hover{background:rgba(0,0,0,.38)}.xgplayer-replay svg:hover path{fill:#fff}.xgplayer-replay .xgplayer-replay-img{position:absolute;left:50%;top:50%;cursor:pointer}.xgplayer-replay .xgplayer-replay-img:hover{opacity:.85}.xgplayer-replay .xgplayer-replay-txt{display:inline-block;font-family:PingFangSC-Regular;font-size:14px;color:#fff;line-height:34px;cursor:pointer}.xgplayer.xgplayer-ended .xgplayer-controls{display:none}.xgplayer.xgplayer-ended .xgplayer-replay{display:-webkit-flex;display:-moz-box;display:flex}.xgplayer-replay-img{display:none;position:absolute;left:50%;top:50%;z-index:500;cursor:pointer}.xgplayer-replay-img:hover{opacity:.85}.xgplayer.xgplayer-ended .xgplayer-replay-img{display:block}@keyframes playPause{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}99%{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}to{-webkit-transform:scale(0);transform:scale(0);opacity:0}}@keyframes loadingRotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}@keyframes enterTips{0%{opacity:0;left:0;width:3px}50%{opacity:1;left:50%;width:5px}to{opacity:0;left:100%;width:3px}}.xgplayer-enter{display:none;position:absolute;left:0;top:0;width:100%;height:100%;background:url(\"//s2.pstatp.com/cdn/expire-1-M/byted-player-images/1.0.2/bg.svg\") no-repeat 50%/102%;z-index:1100}.xgplayer-enter .xgplayer-enter-logo{display:block;position:absolute;left:50%;top:50%;width:130px;height:44px;margin:-22px auto auto -65px;background-size:130px 44px;background-image:url(\"//s3.pstatp.com/cdn/expire-1-M/byted-player-images/1.0.1/xg-logo-new.png\")}.xgplayer-enter .xgplayer-enter-tips{display:none;position:absolute;left:50%;top:50%;width:120px;height:1px;background:linear-gradient(90deg,#000,red,red,red,#000);margin:32px auto auto -62px}.xgplayer-enter .xgplayer-enter-tips:before{content:\" \";display:block;width:5px;height:1px;border-radius:50%;position:absolute;left:0;top:0;-webkit-animation:enterTips 1.6s linear infinite;animation:enterTips 1.6s linear infinite;background:#fff}.xgplayer-is-enter .xgplayer-enter,.xgplayer-is-enter .xgplayer-enter .xgplayer-enter-tips{display:block}.xgplayer-screenShot{-webkit-order:10;-moz-box-ordinal-group:11;order:10;position:relative;outline:none;display:block;cursor:pointer;margin-left:10px;margin-top:9px;margin-bottom:11px;height:20px}.xgplayer-screenShot .name{text-align:center;font-family:PingFangSC-Regular;font-size:13px;line-height:20px;height:20px;color:hsla(0,0%,100%,.8)}.xgplayer-screenShot .name span{width:60px;height:20px;line-height:20px;background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;vertical-align:middle}.xgplayer-poster{position:absolute;left:0;top:0;width:100%;height:100%;z-index:100;background-size:cover;background-position:50%}.xgplayer-live{display:block;font-size:12px;color:#fff;line-height:40px;-webkit-order:1;-moz-box-ordinal-group:2;order:1}.xgplayer .xgplayer-none{display:none}.xgplayer-error{background:#000;display:none;position:absolute;left:0;top:0;width:100%;height:100%;z-index:1200;font-family:PingFangSC-Regular;font-size:14px;color:#fff;text-align:center;line-height:100%;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-align-items:center;-moz-box-align:center;align-items:center}.xgplayer-error .xgplayer-error-refresh{color:#fa1f41;padding:0 3px;cursor:pointer}.xgplayer-is-error .xgplayer-error{display:-webkit-flex;display:-moz-box;display:flex}.xgplayer-error .xgplayer-error-text{line-height:18px;margin:auto 6px}.xgplayer-mobile .xgplayer-progress-btn{display:block}.xgplayer-mobile .xgplayer-progress:focus .xgplayer-progress-outer,.xgplayer-mobile .xgplayer-progress:hover .xgplayer-progress-outer{height:3px;margin-top:8.5px}.xgplayer-mobile .xgplayer-progress:focus .xgplayer-progress-dot,.xgplayer-mobile .xgplayer-progress:hover .xgplayer-progress-dot{height:3px}.xgplayer-mobile.xgplayer-ended .xgplayer-start,.xgplayer-mobile.xgplayer-ended .xgplayer-start-img,.xgplayer-mobile.xgplayer-inactive .xgplayer-start,.xgplayer-mobile.xgplayer-inactive .xgplayer-start-img{display:none}.xgplayer-mobile .xgplayer-start{width:60px;height:60px;line-height:60px;display:none;margin:-50px auto auto -30px}.xgplayer-mobile .xgplayer-start svg{margin:10px}.xgplayer-mobile .xgplayer-start-img{display:none}.xgplayer-mobile .xgplayer-tips{display:none!important}.xgplayer-mobile.xgplayer-nostart .xgplayer-start{margin:-30px auto auto -30px;display:block}.xgplayer-mobile.xgplayer-nostart .xgplayer-start-img{display:block}.xgplayer-mobile .xgplayer-loading{-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5)}.xgplayer-mobile.xgplayer-mobile-npassed .xgplayer-controls,.xgplayer-mobile.xgplayer-mobile-npassed .xgplayer-poster,.xgplayer-mobile.xgplayer-mobile-npassed .xgplayer-start,.xgplayer-mobile.xgplayer-mobile-npassed .xgplayer-start-img{display:none}",""])}])});
//# sourceMappingURL=index.js.map